<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de">
<head>
<!-- 2017-08-31 Do 15:57 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ansible Playbooks for yaVDR 0.7</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Alexander Grothe &lt;seahawk1986@gmx.de&gt;" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Ansible Playbooks for yaVDR 0.7</h1>
<div id="table-of-contents">
<h2>Inhaltsverzeichnis</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org92e4583">1. User Stories</a>
<ul>
<li><a href="#org5872304">1.1. yavdr-full</a>
<ul>
<li><a href="#org9f6b379">1.1.1. Using vdr, pulseaudio and xorg together</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orga5fdd6e">2. Notes</a>
<ul>
<li><a href="#orgd77e35e">2.1. <span class="todo TODO">TODO</span> optimize and document data structure for xorg parsing script</a></li>
<li><a href="#orgf059f73">2.2. <span class="todo TODO">TODO</span> xorg.conf templates for intel, nvidia, noveau and radeon drivers</a>
<ul>
<li><a href="#org8a96bcf">2.2.1. <span class="todo STARTED">STARTED</span> BusID für (nvidia) Grafikkarten aus lspci auslesen</a></li>
<li><a href="#org5709351">2.2.2. NVIDIA-Dokumentation zur BusID:</a></li>
</ul>
</li>
<li><a href="#orgb9c49fd">2.3. <span class="todo TODO">TODO</span> plan for customization of xorg settings by the user</a></li>
<li><a href="#org1ee3a6f">2.4. <span class="todo SOMEDAY">SOMEDAY</span> select best frontend based on GPU</a></li>
</ul>
</li>
<li><a href="#org1cf311b">3. Introduction</a></li>
<li><a href="#org283de73">4. Installing and configuring yaVDR with Ansible</a>
<ul>
<li><a href="#org5746eb9">4.1. Install script for local usage</a></li>
</ul>
</li>
<li><a href="#org232a7fb">5. Playbooks</a>
<ul>
<li><a href="#org29f725f">5.1. yavdr07.yml</a></li>
<li><a href="#orgaf0a938">5.2. yavdr07-headless.yml</a></li>
</ul>
</li>
<li><a href="#org628cbf3">6. Hosts</a></li>
<li><a href="#org3f01159">7. Group Variables</a>
<ul>
<li><a href="#org9e7789d">7.1. default text for templates used by ansible</a></li>
<li><a href="#orgcafd41e">7.2. PPAs</a></li>
<li><a href="#orga73ffb4">7.3. VDR user, directories, special configuration and plugins</a></li>
<li><a href="#orgaf402af">7.4. Media directories</a></li>
<li><a href="#orgf7585c3">7.5. NFS</a></li>
<li><a href="#org22e69ef">7.6. Samba</a></li>
<li><a href="#org5a40a2b">7.7. Additional packages</a></li>
<li><a href="#orgc264504">7.8. System pre-configuration</a></li>
</ul>
</li>
<li><a href="#org3ec1a34">8. Roles</a>
<ul>
<li><a href="#org822d809">8.1. install-dependencies</a>
<ul>
<li><a href="#orgb3ecbae">8.1.1. tasks</a></li>
</ul>
</li>
<li><a href="#org69b7689">8.2. nvidia-381 drivers</a>
<ul>
<li><a href="#orgf87c9f0">8.2.1. tasks</a></li>
</ul>
</li>
<li><a href="#org62c710c">8.3. yavdr-common</a>
<ul>
<li><a href="#org9631d31">8.3.1. default variables</a></li>
<li><a href="#org6322ec9">8.3.2. tasks</a></li>
<li><a href="#org895a926">8.3.3. templates</a></li>
</ul>
</li>
<li><a href="#org8281a39">8.4. vdr</a>
<ul>
<li><a href="#org82bc8b2">8.4.1. tasks</a></li>
<li><a href="#org33195a3">8.4.2. templates</a></li>
<li><a href="#org66bdf43">8.4.3. files</a></li>
</ul>
</li>
<li><a href="#org80b0fef">8.5. <span class="todo STARTED">STARTED</span> yavdr-network</a>
<ul>
<li><a href="#org89dbe6a">8.5.1. default variables</a></li>
<li><a href="#org7b335a8">8.5.2. tasks</a></li>
</ul>
</li>
<li><a href="#org6fe7958">8.6. nfs-server</a>
<ul>
<li><a href="#orgc6d4e03">8.6.1. <span class="todo TODO">TODO</span> avahi-services für NFS beim Stoppen des nfs-kernel-servers depublizieren, beim Start wieder announcen</a></li>
<li><a href="#org805ca00">8.6.2. tasks</a></li>
<li><a href="#org9234542">8.6.3. templates</a></li>
</ul>
</li>
<li><a href="#org2e3a97f">8.7. <span class="todo STARTED">STARTED</span> yavdr-remote</a>
<ul>
<li><a href="#org9455403">8.7.1. default variables</a></li>
<li><a href="#org406be1c">8.7.2. tasks</a></li>
<li><a href="#org6c83be4">8.7.3. templates</a></li>
<li><a href="#orge60a092">8.7.4. files</a></li>
</ul>
</li>
<li><a href="#orged9b948">8.8. pulseaudio</a>
<ul>
<li><a href="#org749e0a3">8.8.1. tasks</a></li>
<li><a href="#org9785ba2">8.8.2. templates</a></li>
</ul>
</li>
<li><a href="#org25deb5c">8.9. yavdr-xorg</a>
<ul>
<li><a href="#orgc4c5b54">8.9.1. About the GUI session</a></li>
<li><a href="#org569197b">8.9.2. default variables</a></li>
<li><a href="#orgcb58a9d">8.9.3. tasks</a></li>
<li><a href="#orgead7b4e">8.9.4. templates</a></li>
</ul>
</li>
<li><a href="#org3016514">8.10. samba-install</a>
<ul>
<li><a href="#org7e38685">8.10.1. tasks</a></li>
</ul>
</li>
<li><a href="#org62c2b38">8.11. samba-config</a>
<ul>
<li><a href="#org9a02dfd">8.11.1. tasks</a></li>
<li><a href="#orgc19e2ae">8.11.2. templates</a></li>
</ul>
</li>
<li><a href="#org3cd2047">8.12. <span class="todo STARTED">STARTED</span> autoinstall-drivers</a>
<ul>
<li><a href="#orga08cd20">8.12.1. <span class="todo TODO">TODO</span> sundtek for Sundtek devices (local or network connection)</a></li>
<li><a href="#orgf1b6f7a">8.12.2. <span class="todo TODO">TODO</span> dddvb-dkms if only newer DD cards are detected</a></li>
<li><a href="#orgbbf3618">8.12.3. <span class="todo TODO">TODO</span> media-build-experimental (up to kernel 4.8) for &bdquo;old&ldquo; cards like TT S2-6400 FF</a></li>
<li><a href="#org4c80d76">8.12.4. <span class="todo TODO">TODO</span> newly merged DD drivers</a></li>
</ul>
</li>
<li><a href="#orgd0265c6">8.13. autoinstall-ubuntu-drivers</a>
<ul>
<li><a href="#org4139319">8.13.1. tasks</a></li>
</ul>
</li>
<li><a href="#orga3ed379">8.14. autoinstall-satip</a>
<ul>
<li><a href="#org85d8964">8.14.1. tasks</a></li>
</ul>
</li>
<li><a href="#org76654e9">8.15. autoinstall-targavfd</a>
<ul>
<li><a href="#orgf850126">8.15.1. tasks</a></li>
</ul>
</li>
<li><a href="#org842db06">8.16. autoinstall-imonlcd</a>
<ul>
<li><a href="#org6b1f590">8.16.1. tasks</a></li>
</ul>
</li>
<li><a href="#org1a41b2b">8.17. autoinstall-libcecdaemon</a>
<ul>
<li><a href="#org03d2055">8.17.1. tasks</a></li>
</ul>
</li>
<li><a href="#org8f63783">8.18. autoinstall-pvr350</a>
<ul>
<li><a href="#org5af538f">8.18.1. tasks</a></li>
</ul>
</li>
<li><a href="#org7f90e04">8.19. autoinstall-hauppauge-pvr</a></li>
<li><a href="#org1fc37fc">8.20. <span class="todo TODO">TODO</span> autoinstall-dvbhddevice</a>
<ul>
<li><a href="#org45cd791">8.20.1. tasks</a></li>
</ul>
</li>
<li><a href="#org4a99940">8.21. autoinstall-dvbsddevice</a>
<ul>
<li><a href="#orge93e21d">8.21.1. tasks</a></li>
</ul>
</li>
<li><a href="#orgda8330a">8.22. kodi</a>
<ul>
<li><a href="#orgf967b95">8.22.1. tasks</a></li>
<li><a href="#org9e1d3b8">8.22.2. templates</a></li>
<li><a href="#orgdd4d135">8.22.3. files</a></li>
</ul>
</li>
<li><a href="#org071a20e">8.23. dvd</a>
<ul>
<li><a href="#org991a5cf">8.23.1. tasks</a></li>
</ul>
</li>
<li><a href="#orgbe56a85">8.24. template-test</a></li>
<li><a href="#orge371257">8.25. grub-config</a>
<ul>
<li><a href="#org156239d">8.25.1. default variables</a></li>
<li><a href="#orgadb1e7c">8.25.2. tasks</a></li>
<li><a href="#org3458036">8.25.3. templates</a></li>
<li><a href="#org052981a">8.25.4. handlers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgf433758">9. Modules</a>
<ul>
<li><a href="#org57de6e2">9.1. hardware_facts.py</a></li>
<li><a href="#orgeed3910">9.2. satip_facts.py</a></li>
<li><a href="#org68520b6">9.3. xrandr_facts.py</a></li>
</ul>
</li>
<li><a href="#orgc2d9fca">10. Handlers</a></li>
</ul>
</div>
</div>
<div id="outline-container-org92e4583" class="outline-2">
<h2 id="org92e4583"><span class="section-number-2">1</span> User Stories</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-org5872304" class="outline-3">
<h3 id="org5872304"><span class="section-number-3">1.1</span> yavdr-full</h3>
<div class="outline-text-3" id="text-1-1">
<p>
A User wants to install yaVDR without customization and relies on full automation.
</p>

<p>
After installing a supported Ubuntu Server version and (if needed) setting up the network connection, the install script is downloaded and started.
</p>

<p>
The install script adds the ansible PPA, installs ansible and other basic dependencies and runs the automated installation process.
</p>

<p>
Several roles are used to tie everything together:
</p>
<dl class="org-dl">
<dt>yavdr-common</dt><dd>installs the basic set of packages needed and preconfigures the system (package sources, package manager settings, entires for network ports, directory structure etc.). Also collects information about the system</dd>
<dt>autoinstall-ubuntu-drivers</dt><dd>uses Ubuntu&rsquo;s automatic detection for additional drivers (e.g. proprietary nvidia driver, microcode updates, VirtualBox guest additions)</dd>
<dt>vdr</dt><dd>install the vdr package and required plugins</dd>
<dt>pulseaudio</dt><dd>install and preconfigure pulseaudio</dd>
<dt>yavdr-network</dt><dd>configure WOL, add nfs client capabilites, install avahi-linker</dd>
<dt>samba-server</dt><dd>install and preconfigure a samba server</dd>
<dt>nfs-server</dt><dd>install nfs-kernelserver and preconfigure nfs exports (and avahi-announcements)</dd>
<dt>autoinstall-satip</dt><dd>install vdr-plugin-satip if a Sat&gt;IP server has been found</dd>
<dt>autoinstall-targavfd</dt><dd>install vdr-plugin-targavfd if display is connected</dd>
<dt>autoinstall-imonlcd</dt><dd>install vdr-plugin-imonlcd if a matchind display is connected</dd>
<dt>yavdr-xorg</dt><dd>install and configure a systemd user session with a running X-server.  A frontend script will manage VDR&rsquo;s frontend and other applications like KODI.  Also choose the best possible output plugin.</dd>
<dt>grub-config</dt><dd>update grub configuration based on executed roles</dd>
</dl>
</div>

<div id="outline-container-org9f6b379" class="outline-4">
<h4 id="org9f6b379"><span class="section-number-4">1.1.1</span> Using vdr, pulseaudio and xorg together</h4>
</div>
</div>
</div>

<div id="outline-container-orga5fdd6e" class="outline-2">
<h2 id="orga5fdd6e"><span class="section-number-2">2</span> Notes</h2>
<div class="outline-text-2" id="text-2">
<p>
:export nil
</p>
</div>
<div id="outline-container-orgd77e35e" class="outline-3">
<h3 id="orgd77e35e"><span class="section-number-3">2.1</span> <span class="todo TODO">TODO</span> optimize and document data structure for xorg parsing script</h3>
</div>
<div id="outline-container-orgf059f73" class="outline-3">
<h3 id="orgf059f73"><span class="section-number-3">2.2</span> <span class="todo TODO">TODO</span> xorg.conf templates for intel, nvidia, noveau and radeon drivers</h3>
<div class="outline-text-3" id="text-2-2">
</div><div id="outline-container-org8a96bcf" class="outline-4">
<h4 id="org8a96bcf"><span class="section-number-4">2.2.1</span> <span class="todo STARTED">STARTED</span> BusID für (nvidia) Grafikkarten aus lspci auslesen</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
Format: &bdquo;%d:%d:%d&ldquo; (lspci liefert es als &bdquo;%04x:%02x:%02x.%x&ldquo;, domain, bus, device, function)
</p>
<ul class="org-ul">
<li>Wie mit mehreren GPUs umgehen? Priorität bzw. Reihenfolge?</li>
<li>Was ist mit NVidia Optimus/Bumblebee (AFAIK keine VDPAU-Funktionalität)?</li>
<li>Wie BusID der xrandr-Ausgabe zuordnen?</li>
</ul>
</div>
</div>
<div id="outline-container-org5709351" class="outline-4">
<h4 id="org5709351"><span class="section-number-4">2.2.2</span> NVIDIA-Dokumentation zur BusID:</h4>
<div class="outline-text-4" id="text-2-2-2">
</div><ol class="org-ol"><li><a id="org4da5446"></a>What is the format of a PCI Bus ID?<br /><div class="outline-text-5" id="text-2-2-2-1">
<p>
Different tools have different formats for the PCI Bus ID of a PCI device.
</p>

<p>
The X server&rsquo;s &bdquo;BusID&ldquo; X configuration file option interprets the BusID string in the format &bdquo;bus@domain:device:function&ldquo; (the &bdquo;@domain&ldquo; portion is only needed if the PCI domain is non-zero), in decimal. More specifically,
</p>

<p>
&bdquo;%d@%d:%d:%d&ldquo;, bus, domain, device, function
in printf(3) syntax. NVIDIA X driver logging, nvidia-xconfig, and nvidia-settings match the X configuration file BusID convention.
</p>

<p>
The lspci(8) utility, in contrast, reports the PCI BusID of a PCI device in the format &bdquo;domain:bus:device.function&ldquo;, printing the values in hexadecimal. More specifically,
</p>

<p>
&bdquo;%04x:%02x:%02x.%x&ldquo;, domain, bus, device, function
in printf(3) syntax. The &bdquo;Bus Location&ldquo; reported in the /proc/driver/nvidia/gpus/0..N/information files matches the lspci format.
</p>
</div></li>
<li><a id="org45ad28a"></a>Parsen der /proc/driver/nvidia/gpus/*/information Dateien<br /><div class="outline-text-5" id="text-2-2-2-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #204A87;"># </span><span style="color: #204A87;">read the BusID for nvidia cards and the model name</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">from the /proc/driver/nvidia/gpus/*/information file(s)</span>
<span style="color: #A52A2A; font-weight: bold;">from</span> __future__ <span style="color: #A52A2A; font-weight: bold;">import</span> print_function
<span style="color: #A52A2A; font-weight: bold;">import</span> glob
<span style="color: #A52A2A; font-weight: bold;">import</span> re

<span style="color: #0084C8; font-weight: bold;">BusID_RE</span> = re.<span style="color: #A020F0;">compile</span>((
    <span style="color: #4E9A06;">'(?P&lt;domain&gt;[0-9a-fA-F]+)'</span>
    <span style="color: #4E9A06;">':'</span>
    <span style="color: #4E9A06;">'(?P&lt;bus&gt;[0-9a-fA-F]+)'</span>
    <span style="color: #4E9A06;">':'</span>
    <span style="color: #4E9A06;">'(?P&lt;device&gt;[0-9a-fA-F]+)'</span>
    <span style="color: #4E9A06;">'\.'</span>
    <span style="color: #4E9A06;">'(?P&lt;function&gt;[0-9a-fA-F]+)'</span>
))
<span style="color: #0084C8; font-weight: bold;">Model_RE</span> = re.<span style="color: #A020F0;">compile</span>(<span style="color: #4E9A06;">'Model:\s+(.*)'</span>)

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">get_BusIDs</span>():
    <span style="color: #A52A2A; font-weight: bold;">for</span> gpu_info <span style="color: #A52A2A; font-weight: bold;">in</span> glob.glob(<span style="color: #4E9A06;">'/proc/driver/nvidia/gpus/*/information'</span>):
        <span style="color: #A52A2A; font-weight: bold;">with</span> <span style="color: #A020F0;">open</span>(gpu_info) <span style="color: #A52A2A; font-weight: bold;">as</span> f:
            <span style="color: #0084C8; font-weight: bold;">data</span> = f.read()
        <span style="color: #0084C8; font-weight: bold;">match</span> = BusID_RE.search(data)
        <span style="color: #A52A2A; font-weight: bold;">if</span> match:
            <span style="color: #0084C8; font-weight: bold;">BusID</span> = <span style="color: #4E9A06;">"{:d}@{:d}:{:d}:{:d}"</span>.<span style="color: #A020F0;">format</span>(*(<span style="color: #A020F0;">int</span>(n, 16) <span style="color: #A52A2A; font-weight: bold;">for</span> n <span style="color: #A52A2A; font-weight: bold;">in</span> match.groups()))
            <span style="color: #A52A2A; font-weight: bold;">yield</span> BusID, Model_RE.match(data).groups()[0]
<span style="color: #A52A2A; font-weight: bold;">if</span> <span style="color: #A020F0;">__name__</span> == <span style="color: #4E9A06;">'__main__'</span>:
    <span style="color: #0084C8; font-weight: bold;">BusIDs</span> = [BusID <span style="color: #A52A2A; font-weight: bold;">for</span> BusID <span style="color: #A52A2A; font-weight: bold;">in</span> get_BusIDs()]
    <span style="color: #A52A2A; font-weight: bold;">print</span>(BusIDs)
</pre>
</div>
</div></li></ol>
</div>
</div>
<div id="outline-container-orgb9c49fd" class="outline-3">
<h3 id="orgb9c49fd"><span class="section-number-3">2.3</span> <span class="todo TODO">TODO</span> plan for customization of xorg settings by the user</h3>
<div class="outline-text-3" id="text-2-3">
<p>
either directly or using a configuration wizard or a web frontend
</p>
</div>
</div>
<div id="outline-container-org1ee3a6f" class="outline-3">
<h3 id="org1ee3a6f"><span class="section-number-3">2.4</span> <span class="todo SOMEDAY">SOMEDAY</span> select best frontend based on GPU</h3>
<div class="outline-text-3" id="text-2-4">
<dl class="org-dl">
<dt>intel</dt><dd>softhddevice-vpp</dd>
<dt>amd</dt><dd>softhddevice-vpp</dd>
<dt>nvidia</dt><dd>softhddevice-openglosd (if no HEVC channels are needed)</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-org1cf311b" class="outline-2">
<h2 id="org1cf311b"><span class="section-number-2">3</span> Introduction</h2>
<div class="outline-text-2" id="text-3">
<p>
One of the major problems we faced with customized Ubuntu ISO files as installation media for prior yaVDR versions has been the limited hardware support and the time consuming process to create and update them.  An interesting alternative to this approach is to enable the user to choose the installation medium himself so point releases, kernel versions and additional drivers can be chosen deliberately.  After the basic setup is complete (and a working internet connection is available), a fully customizable install script completes the yaVDR installation.
</p>
</div>
</div>
<div id="outline-container-org283de73" class="outline-2">
<h2 id="org283de73"><span class="section-number-2">4</span> Installing and configuring yaVDR with Ansible</h2>
<div class="outline-text-2" id="text-4">
<p>
This is an experimental feature which allows to set up a yaVDR installation based on a normal Ubuntu Server 16.04.x installation using <a href="http://ansible.com">Ansible</a>.
</p>

<p>
This Manual is written in org-mode for Emacs and can rewrite the complete ansible configuration if you call <code>org-babel-tangle</code> from within emacs.
</p>

<p>
To use this playbook on a Ubuntu Server Installation you need to run the following commands:
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo apt-get install git
git clone https://github.com/yavdr/yavdr-ansible.git
<span style="color: #A020F0;">cd</span> yavdr-ansible
sudo ./install-yavdr.sh
</pre>
</div>
</div>

<div id="outline-container-org5746eb9" class="outline-3">
<h3 id="org5746eb9"><span class="section-number-3">4.1</span> Install script for local usage</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #A52A2A; font-weight: bold;">if</span> (( $<span style="color: #0084C8; font-weight: bold;">EUID</span> != 0 )); <span style="color: #A52A2A; font-weight: bold;">then</span>
    <span style="color: #A020F0;">echo</span> <span style="color: #4E9A06;">"This script must be run using sudo or as root"</span>
    <span style="color: #A52A2A; font-weight: bold;">exit</span>
<span style="color: #A52A2A; font-weight: bold;">fi</span>

apt-get -y install software-properties-common
<span style="color: #204A87;"># </span><span style="color: #204A87;">Add repository for ansible</span>
add-apt-repository -y ppa:ansible/ansible
<span style="color: #204A87;"># </span><span style="color: #204A87;">update packages</span>
apt-get update
<span style="color: #204A87;"># </span><span style="color: #204A87;">install required packages</span>
apt-get -y install ansible

<span style="color: #204A87;"># </span><span style="color: #204A87;">TODO: run ansible on local host</span>
ansible-playbook yavdr07.yml -b -i <span style="color: #4E9A06;">'localhost_inventory'</span> --connection=local --tags=install
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org232a7fb" class="outline-2">
<h2 id="org232a7fb"><span class="section-number-2">5</span> Playbooks</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-org29f725f" class="outline-3">
<h3 id="org29f725f"><span class="section-number-3">5.1</span> yavdr07.yml</h3>
<div class="outline-text-3" id="text-5-1">
<p>
The <code>yavdr07.yml</code> playbook sets up a fully-featured yaVDR installation:
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: yavdr07.yml</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">this playbook sets up a complete yaVDR 0.7 installation</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: set up yaVDR
  <span style="color: #0084C8; font-weight: bold;">hosts</span>: all
  <span style="color: #0084C8; font-weight: bold;">become</span>: <span style="color: #F5666D;">true</span>
  <span style="color: #0084C8; font-weight: bold;">roles</span>:
     - yavdr-common               <span style="color: #204A87;"># </span><span style="color: #204A87;">install and configure the basic system</span>
     - autoinstall-ubuntu-drivers <span style="color: #204A87;"># </span><span style="color: #204A87;">use ubuntu-drivers to install proprietary dirvers</span>
                                  <span style="color: #204A87;"># </span><span style="color: #204A87;">(e.g. nvidia, virtualbox)</span>
     - vdr                        <span style="color: #204A87;"># </span><span style="color: #204A87;">install vdr and related packages</span>
     - yavdr-network              <span style="color: #204A87;"># </span><span style="color: #204A87;">enable network client capabilities</span>
     - samba-install              <span style="color: #204A87;"># </span><span style="color: #204A87;">install samba server</span>
     - samba-config               <span style="color: #204A87;"># </span><span style="color: #204A87;">configure samba server</span>
     - nfs-server                 <span style="color: #204A87;"># </span><span style="color: #204A87;">install nfs server</span>
     - pulseaudio                 <span style="color: #204A87;"># </span><span style="color: #204A87;">install pulseaudio</span>
     - yavdr-xorg                 <span style="color: #204A87;"># </span><span style="color: #204A87;">graphical session</span>
     - yavdr-remote               <span style="color: #204A87;"># </span><span style="color: #204A87;">remote configuration files, services and scripts</span>
     - autoinstall-satip          <span style="color: #204A87;"># </span><span style="color: #204A87;">install vdr-plugin-satip if a Sat&gt;IP server has been found</span>
     - autoinstall-targavfd       <span style="color: #204A87;"># </span><span style="color: #204A87;">install vdr-plugin-targavfd if display is connected</span>
     - autoinstall-imonlcd        <span style="color: #204A87;"># </span><span style="color: #204A87;">install vdr-plugin-imonlcd if a matchind display is connected</span>
     - autoinstall-pvr350         <span style="color: #204A87;"># </span><span style="color: #204A87;">install vdr-plugin-pgvr350 if a matching card is detected</span>
     - autoinstall-hauppauge-pvr  <span style="color: #204A87;"># </span><span style="color: #204A87;">install vdr-plugin-pvrinput if a matching card is found</span>
     - autoinstall-dvbsddevice    <span style="color: #204A87;"># </span><span style="color: #204A87;">install vdr-plugin-dvbsddevice if a matching card is detected</span>
     - kodi
     - dvd                        <span style="color: #204A87;"># </span><span style="color: #204A87;">set up packages and a udev rule to allow kodi and other players</span>
                                  <span style="color: #204A87;"># </span><span style="color: #204A87;">to play and eject optical media</span>
     - grub-config                <span style="color: #204A87;"># </span><span style="color: #204A87;">configure grub</span>
  <span style="color: #0084C8; font-weight: bold;">tags</span>:
     - always

  <span style="color: #0084C8; font-weight: bold;">handlers</span>:
    - <span style="color: #0084C8; font-weight: bold;">include</span>: handlers/main.yml
</pre>
</div>
</div>
</div>
<div id="outline-container-orgaf0a938" class="outline-3">
<h3 id="orgaf0a938"><span class="section-number-3">5.2</span> yavdr07-headless.yml</h3>
<div class="outline-text-3" id="text-5-2">
<p>
For a headless server installation <code>yavdr07-headless.yml</code> is a good choice
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: yavdr07-headless.yml</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">this playbook set up a headless yaVDR 0.7 installation</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: set up a headless yaVDR server
  <span style="color: #0084C8; font-weight: bold;">hosts</span>: all
  <span style="color: #0084C8; font-weight: bold;">become</span>: <span style="color: #F5666D;">true</span>
  <span style="color: #0084C8; font-weight: bold;">roles</span>:
    - yavdr-common
    - vdr
    - yavdr-network
    - samba-server
    - samba-config
    - nfs-server
    - grub-config
    - autoinstall-satip
  <span style="color: #0084C8; font-weight: bold;">tags</span>:
    - always
  <span style="color: #0084C8; font-weight: bold;">handlers</span>:
    - <span style="color: #0084C8; font-weight: bold;">include</span>: handlers/main.yml
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org628cbf3" class="outline-2">
<h2 id="org628cbf3"><span class="section-number-2">6</span> Hosts</h2>
<div class="outline-text-2" id="text-6">
<p>
This playbook can either be used to run the installation on the localhost or any other PC in the network that can be accessed via ssh. Simply add the host names or IP addresses to the hosts file in the respective section:
</p>

<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #2F8B58; font-weight: bold;">localhost</span>]
<span style="color: #0084C8; font-weight: bold;">localhost connection</span>=local

</pre>
</div>
</div>
</div>
<div id="outline-container-org3f01159" class="outline-2">
<h2 id="org3f01159"><span class="section-number-2">7</span> Group Variables</h2>
<div class="outline-text-2" id="text-7">
</div><div id="outline-container-org9e7789d" class="outline-3">
<h3 id="org9e7789d"><span class="section-number-3">7.1</span> default text for templates used by ansible</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: group_vars/all</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">this is the standard text to put in templates</span>
<span style="color: #0084C8; font-weight: bold;">ansible_managed_file</span>: <span style="color: #4E9A06;">"*** YAVDR: ANSIBLE MANAGED FILE ***"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcafd41e" class="outline-3">
<h3 id="orgcafd41e"><span class="section-number-3">7.2</span> PPAs</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">branch</span>: unstable
<span style="color: #0084C8; font-weight: bold;">ppa_owner</span>: <span style="color: #4E9A06;">'ppa:yavdr'</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">add the following PPAs</span>
<span style="color: #0084C8; font-weight: bold;">repositories</span>:
  - <span style="color: #4E9A06;">'{{ ppa_owner }}/main'</span>
  - <span style="color: #4E9A06;">'{{ ppa_owner }}/unstable-main'</span>
  - <span style="color: #4E9A06;">'{{ ppa_owner }}/{{branch}}-vdr'</span>
  - <span style="color: #4E9A06;">'{{ ppa_owner }}/{{branch}}-yavdr'</span>
  - <span style="color: #4E9A06;">'{{ ppa_owner }}/{{branch}}-kodi'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga73ffb4" class="outline-3">
<h3 id="orga73ffb4"><span class="section-number-3">7.3</span> VDR user, directories, special configuration and plugins</h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;"># </span><span style="color: #204A87;">properties of the user vdr and vdr-related options</span>
<span style="color: #0084C8; font-weight: bold;">vdr</span>:
  <span style="color: #0084C8; font-weight: bold;">user</span>: vdr
  <span style="color: #0084C8; font-weight: bold;">group</span>: vdr
  <span style="color: #0084C8; font-weight: bold;">uid</span>: 666
  <span style="color: #0084C8; font-weight: bold;">gid</span>: 666
  <span style="color: #0084C8; font-weight: bold;">home</span>: /var/lib/vdr
  <span style="color: #0084C8; font-weight: bold;">confdir</span>: /var/lib/vdr
  <span style="color: #0084C8; font-weight: bold;">recdir</span>: /srv/vdr/video
  <span style="color: #0084C8; font-weight: bold;">hide_first_recording_level</span>: <span style="color: #F5666D;">false</span>
  <span style="color: #0084C8; font-weight: bold;">safe_dirnames</span>: true  <span style="color: #204A87;"># </span><span style="color: #204A87;">escape characters (useful for windows clients and FAT/NTFS file systems)</span>
  <span style="color: #0084C8; font-weight: bold;">override_vdr_charset</span>: <span style="color: #F5666D;">false</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">add the vdr plugins you want to install</span>
<span style="color: #0084C8; font-weight: bold;">vdr_plugins</span>:
  - vdr-plugin-devstatus
  - vdr-plugin-markad
  - vdr-plugin-restfulapi
  - vdr-plugin-softhddevice-vpp

</pre>
</div>
</div>
</div>
<div id="outline-container-orgaf402af" class="outline-3">
<h3 id="orgaf402af"><span class="section-number-3">7.4</span> Media directories</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;"># </span><span style="color: #204A87;">dictionary of directories for (shared) files. Automatically exported via NFS and Samba if those roles are enabled</span>
<span style="color: #0084C8; font-weight: bold;">media_dirs</span>:
  <span style="color: #0084C8; font-weight: bold;">audio</span>: /srv/audio
  <span style="color: #0084C8; font-weight: bold;">video</span>: /srv/audio
  <span style="color: #0084C8; font-weight: bold;">pictures</span>: /srv/picture
  <span style="color: #0084C8; font-weight: bold;">files</span>: /srv/files
  <span style="color: #0084C8; font-weight: bold;">backups</span>: /srv/backups
  <span style="color: #0084C8; font-weight: bold;">recordings</span>: <span style="color: #4E9A06;">'{{ vdr.recdir }}'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf7585c3" class="outline-3">
<h3 id="orgf7585c3"><span class="section-number-3">7.5</span> NFS</h3>
<div class="outline-text-3" id="text-7-5">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">nfs</span>:
  <span style="color: #0084C8; font-weight: bold;">insecure</span>: false  <span style="color: #204A87;"># </span><span style="color: #204A87;">set to true for OS X clients or if you plan to use libnfs as unprivileged user (e.g. KODI)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org22e69ef" class="outline-3">
<h3 id="org22e69ef"><span class="section-number-3">7.6</span> Samba</h3>
<div class="outline-text-3" id="text-7-6">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">samba</span>:
  <span style="color: #0084C8; font-weight: bold;">workgroup</span>: YAVDR
  <span style="color: #0084C8; font-weight: bold;">windows_compatible</span>: <span style="color: #4E9A06;">'{{ vdr.safe_dirnames }}'</span>  <span style="color: #204A87;"># </span><span style="color: #204A87;">set to true to disable unix extensions, enable follow symlinks and wide links</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5a40a2b" class="outline-3">
<h3 id="org5a40a2b"><span class="section-number-3">7.7</span> Additional packages</h3>
<div class="outline-text-3" id="text-7-7">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;"># </span><span style="color: #204A87;">additional packages you want to install</span>
<span style="color: #0084C8; font-weight: bold;">extra_packages</span>:
  - vim
  - htop
  - tree
  - w-scan
  - bpython
  - bpython3
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc264504" class="outline-3">
<h3 id="orgc264504"><span class="section-number-3">7.8</span> System pre-configuration</h3>
<div class="outline-text-3" id="text-7-8">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">frontend</span>: vdr
<span style="color: #204A87;">#</span><span style="color: #204A87;">system:</span>
<span style="color: #204A87;">#  </span><span style="color: #204A87;">shutdown: poweroff</span>
<span style="color: #0084C8; font-weight: bold;">grub</span>:
  <span style="color: #0084C8; font-weight: bold;">timeout</span>: 0
  <span style="color: #0084C8; font-weight: bold;">boot_options</span>: quiet nosplash
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org3ec1a34" class="outline-2">
<h2 id="org3ec1a34"><span class="section-number-2">8</span> Roles</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-org822d809" class="outline-3">
<h3 id="org822d809"><span class="section-number-3">8.1</span> install-dependencies</h3>
<div class="outline-text-3" id="text-8-1">
</div><div id="outline-container-orgb3ecbae" class="outline-4">
<h4 id="orgb3ecbae"><span class="section-number-4">8.1.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-1-1">
</div><ol class="org-ol"><li><a id="org1e38406"></a>main.yml<br /><div class="outline-text-5" id="text-8-1-1-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install packages
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    <span style="color: #4E9A06;">'{{ packages }}'</span>
</pre>
</div>
</div></li></ol>
</div>
</div>

<div id="outline-container-org69b7689" class="outline-3">
<h3 id="org69b7689"><span class="section-number-3">8.2</span> nvidia-381 drivers</h3>
<div class="outline-text-3" id="text-8-2">
<p>
install nvidia-381 from ppa:graphics-drivers/ppa
</p>
</div>
<div id="outline-container-orgf87c9f0" class="outline-4">
<h4 id="orgf87c9f0"><span class="section-number-4">8.2.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-2-1">
</div><ol class="org-ol"><li><a id="org8cc8d72"></a>main.yml<br /><div class="outline-text-5" id="text-8-2-1-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: add ppa:graphics-drivers/ppa
  <span style="color: #0084C8; font-weight: bold;">apt_repository</span>:
      <span style="color: #0084C8; font-weight: bold;">repo</span>: <span style="color: #4E9A06;">'ppa:graphics-drivers/ppa'</span>
      <span style="color: #0084C8; font-weight: bold;">state</span>: present
      <span style="color: #0084C8; font-weight: bold;">update_cache</span>: <span style="color: #F5666D;">yes</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: install nvidia-381 and other required packages
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - nvidia-381
    - nvidia-settings
</pre>
</div>
</div></li></ol>
</div>
</div>
<div id="outline-container-org62c710c" class="outline-3">
<h3 id="org62c710c"><span class="section-number-3">8.3</span> yavdr-common</h3>
<div class="outline-text-3" id="text-8-3">
<p>
This role is used to set up a basic yaVDR installation. It creates the directories, installs the vdr and other useful packages.
</p>
</div>
<div id="outline-container-org9631d31" class="outline-4">
<h4 id="org9631d31"><span class="section-number-4">8.3.1</span> default variables</h4>
<div class="outline-text-4" id="text-8-3-1">
<p>
This section is for reference only, please use the files in <code>global_vars</code> for customizations.
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/yavdr-common/defaults/main.yml</span>
</pre>
</div>
</div>

<ol class="org-ol"><li><a id="org28f5d87"></a>Repositories<br /><div class="outline-text-5" id="text-8-3-1-1">
<p>
You can set a list of package repositories which provide the necessary packages. Feel free to use own PPAs if you need special customization to the VDR and it&rsquo;s plugins.
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">branch</span>: unstable
<span style="color: #0084C8; font-weight: bold;">repositories</span>:
  - <span style="color: #4E9A06;">'ppa:yavdr/main'</span>
  - <span style="color: #4E9A06;">'ppa:yavdr/unstable-main'</span>
  - <span style="color: #4E9A06;">'ppa:yavdr/{{branch}}-vdr'</span>
  - <span style="color: #4E9A06;">'ppa:yavdr/{{branch}}-kodi'</span>
  - <span style="color: #4E9A06;">'ppa:yavdr/{{branch}}-yavdr'</span>
</pre>
</div>
</div></li>
<li><a id="org02c6dd9"></a>Drivers<br /><div class="outline-text-5" id="text-8-3-1-2">
<p>
Automatically installed drivers can be very useful, but if you know you need a certain driver, you can simply set it&rsquo;s value to <b>true</b>. If you don&rsquo;t want a driver to be installed, set it&rsquo;s value to <b>false</b>.
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">drivers</span>:
  <span style="color: #0084C8; font-weight: bold;">sundtek</span>: auto
  <span style="color: #0084C8; font-weight: bold;">ddvb-dkms</span>: auto
</pre>
</div>
</div></li>
<li><a id="orgb890dfe"></a>Additional Packages<br /><div class="outline-text-5" id="text-8-3-1-3">
<p>
Add additional packages you would like to have on your installation to this list
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">extra_packages</span>:
  - vim
  - tree
  - w-scan
</pre>
</div>
</div></li>
<li><a id="orgc8bc65a"></a>VDR<br /><div class="outline-text-5" id="text-8-3-1-4">
<p>
This section allows you to set the recording directory, the user and group that runs the vdr and it&rsquo;s home directory.
</p>
<dl class="org-dl">
<dt>user</dt><dd>the vdr user name</dd>
<dt>group</dt><dd>the main group for the user vdr</dd>
<dt>uid</dt><dd>the user id for the user vdr</dd>
<dt>gid</dt><dd>the group id for the group vdr</dd>
<dt>home</dt><dd>the home directory for the user vdr</dd>
<dt>recdir</dt><dd>the recording directory used by VDR</dd>
<dt>hide_first_recording_level</dt><dd>let vdr hide the first directory level of it&rsquo;s recording directory so the content of multiple directories is shown merged together</dd>
<dt>safe_dirnames</dt><dd>replace special characters which are not compatible with Windows file systems and Samba shares</dd>
<dt>override_vdr_charset</dt><dd>workaround for channels with weird EPG encodings, e.g. Sky</dd>
</dl>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">vdr</span>:
    <span style="color: #0084C8; font-weight: bold;">user</span>: vdr
    <span style="color: #0084C8; font-weight: bold;">group</span>: vdr
    <span style="color: #0084C8; font-weight: bold;">uid</span>: 666
    <span style="color: #0084C8; font-weight: bold;">gid</span>: 666
    <span style="color: #0084C8; font-weight: bold;">home</span>: /var/lib/vdr
    <span style="color: #0084C8; font-weight: bold;">recdir</span>: /srv/vdr/video
    <span style="color: #0084C8; font-weight: bold;">hide_first_recording_level</span>: <span style="color: #F5666D;">false</span>
    <span style="color: #0084C8; font-weight: bold;">safe_dirnames</span>: <span style="color: #F5666D;">true</span>
    <span style="color: #0084C8; font-weight: bold;">override_vdr_charset</span>: <span style="color: #F5666D;">false</span>
</pre>
</div>
</div></li></ol>
</div>
<div id="outline-container-org6322ec9" class="outline-4">
<h4 id="org6322ec9"><span class="section-number-4">8.3.2</span> tasks</h4>
<div class="outline-text-4" id="text-8-3-2">
<p>
yavdr-common executes the following tasks:
</p>
</div>
<ol class="org-ol"><li><a id="orgbd8243c"></a>main.yml<br /><ol class="org-ol"><li><a id="org77d8113"></a>Disable default installation of recommended packages<br /><div class="outline-text-6" id="text-8-3-2-1-1">
<p>
This task prevents apt to automatically install all recommended dependencies for packages:
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | prevent automatic installation of recommended packages
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/90-norecommends.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/apt/apt.conf.d/90norecommends

</pre>
</div>
</div></li>
<li><a id="org3b80e9f"></a>Use bash instead of dash<br /><div class="outline-text-6" id="text-8-3-2-1-2">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: use bash instead of dash
  <span style="color: #0084C8; font-weight: bold;">shell</span>: |
    echo <span style="color: #4E9A06;">"set dash/sh false"</span> | debconf-communicate
<span style="color: #4E9A06;">    dpkg-reconfigure -f noninteractive dash</span>
</pre>
</div>
</div></li>

<li><a id="org411c286"></a>create user vdr<br /></li>
<li><a id="org7d03027"></a>Disable release-upgrade notifications<br /><div class="outline-text-6" id="text-8-3-2-1-4">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: disable release-upgrade notifications
  <span style="color: #0084C8; font-weight: bold;">lineinfile</span>:
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/update-manager/release-upgrades
    <span style="color: #0084C8; font-weight: bold;">backrefs</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">regexp</span>: <span style="color: #4E9A06;">'^(Prompt=).*$'</span>
    <span style="color: #0084C8; font-weight: bold;">line</span>: <span style="color: #4E9A06;">'\1never'</span>
</pre>
</div>
</div></li>
<li><a id="orgb9fd3b8"></a>Set up package repositories<br /><div class="outline-text-6" id="text-8-3-2-1-5">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: add PPAs
  <span style="color: #0084C8; font-weight: bold;">apt_repository</span>:
      <span style="color: #0084C8; font-weight: bold;">repo</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
      <span style="color: #0084C8; font-weight: bold;">state</span>: present
      <span style="color: #0084C8; font-weight: bold;">update_cache</span>: <span style="color: #F5666D;">yes</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>: <span style="color: #4E9A06;">'{{ repositories }}'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: run apt-get dist-upgrade
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
      <span style="color: #0084C8; font-weight: bold;">upgrade</span>: dist
      <span style="color: #0084C8; font-weight: bold;">update_cache</span>: <span style="color: #F5666D;">yes</span>
</pre>
</div>
</div></li>
<li><a id="org1444bdb"></a>Install essential packages<br /><div class="outline-text-6" id="text-8-3-2-1-6">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install basic packages
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - anacron
    - at
    - bash-completion
    <span style="color: #204A87;">#</span><span style="color: #204A87;">- biosdevname  # caution: may change device names after a minimal installation!</span>
    - debconf-utils
    - linux-firmware
    - psmisc
    - python-kmodpy
    - python-usb
    - python3-usb
    - software-properties-common
    - ssh
    - wget
    - wpasupplicant
    - usbutils
    - xfsprogs

</pre>
</div>
</div></li>
<li><a id="org4739626"></a>Install additional packages (user defined)<br /><div class="outline-text-6" id="text-8-3-2-1-7">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install extra packages
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
      <span style="color: #4E9A06;">'{{ extra_packages }}'</span>
</pre>
</div>
</div></li>
<li><a id="org900908b"></a>Gather facts with custom modules<br /><div class="outline-text-6" id="text-8-3-2-1-8">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: get information about usb and pci hardware and loaded kernel modules
  <span style="color: #0084C8; font-weight: bold;">hardware_facts</span>:
    <span style="color: #0084C8; font-weight: bold;">usb</span>: <span style="color: #F5666D;">True</span>
    <span style="color: #0084C8; font-weight: bold;">pci</span>: <span style="color: #F5666D;">True</span>
    <span style="color: #0084C8; font-weight: bold;">modules</span>: <span style="color: #F5666D;">True</span>
    <span style="color: #0084C8; font-weight: bold;">gpus</span>: <span style="color: #F5666D;">True</span>
    
- <span style="color: #0084C8; font-weight: bold;">debug</span>:
    <span style="color: #0084C8; font-weight: bold;">var</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">verbosity</span>: 1
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - usb
    - pci
    - gpus
    - modules
</pre>
</div>
</div></li>
<li><a id="orgbd9cfd0"></a>create media directories<br /></li></ol></li></ol>
</div>
<div id="outline-container-org895a926" class="outline-4">
<h4 id="org895a926"><span class="section-number-4">8.3.3</span> templates</h4>
<div class="outline-text-4" id="text-8-3-3">
<div class="org-src-container">
<pre class="src src-c">{{ ansible_managed_file | comment(<span style="color: #4E9A06;">'c'</span>) }}
<span style="color: #204A87;">// </span><span style="color: #204A87;">Recommends are as of now still abused in many packages</span>
APT::Install-Recommends <span style="color: #4E9A06;">"0"</span>;
APT::Install-Suggests <span style="color: #4E9A06;">"0"</span>;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org8281a39" class="outline-3">
<h3 id="org8281a39"><span class="section-number-3">8.4</span> vdr</h3>
<div class="outline-text-3" id="text-8-4">
</div><div id="outline-container-org82bc8b2" class="outline-4">
<h4 id="org82bc8b2"><span class="section-number-4">8.4.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-4-1">
</div><ol class="org-ol"><li><a id="org8e4a2c4"></a>install the basic vdr packages<br /><div class="outline-text-5" id="text-8-4-1-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/vdr/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install basic vdr packages
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - vdr
    - vdrctl
    - vdr-plugin-dbus2vdr
</pre>
</div>
</div></li>
<li><a id="org0798b1a"></a>Add svdrp/svdrp-disc to /etc/services<br /><div class="outline-text-5" id="text-8-4-1-2">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: add svdrp and svdrp-disc to /etc/services
  <span style="color: #0084C8; font-weight: bold;">lineinfile</span>:
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/services
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">line</span>: <span style="color: #4E9A06;">"{{ item }}"</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - <span style="color: #4E9A06;">"svdrp            6419/tcp"</span>
    - <span style="color: #4E9A06;">"svdrp-disc       6419/udp"</span>
</pre>
</div>
</div></li>
<li><a id="org68f3aa9"></a>Set up the recording directory for the vdr user<br /><div class="outline-text-5" id="text-8-4-1-3">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: create vdr recdir
  <span style="color: #0084C8; font-weight: bold;">file</span>:
    <span style="color: #0084C8; font-weight: bold;">state</span>: directory
    <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
    <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>
    <span style="color: #0084C8; font-weight: bold;">mode</span>: 0775
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.recdir }}'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: set option to use hide-first-recording-level patch
  <span style="color: #0084C8; font-weight: bold;">blockinfile</span>:
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/vdr/conf.d/04-vdr-hide-first-recordinglevel.conf
    <span style="color: #0084C8; font-weight: bold;">create</span>: <span style="color: #F5666D;">true</span>
    <span style="color: #0084C8; font-weight: bold;">block</span>: |
      <span style="color: #4E9A06;">[vdr]</span>
<span style="color: #4E9A06;">      --hide-first-recording-level</span>
  <span style="color: #0084C8; font-weight: bold;">when</span>:
    vdr.hide_first_recording_level

- <span style="color: #0084C8; font-weight: bold;">name</span>: create local dir in recdir
  <span style="color: #0084C8; font-weight: bold;">file</span>:
    <span style="color: #0084C8; font-weight: bold;">state</span>: directory
    <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
    <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>
    <span style="color: #0084C8; font-weight: bold;">mode</span>: <span style="color: #4E9A06;">'0775'</span>
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.recdir }}/local'</span>
  <span style="color: #0084C8; font-weight: bold;">when</span>:
    vdr.hide_first_recording_level

<span style="color: #204A87;"># </span><span style="color: #204A87;">TODO: set recdir, user etc. in /etc/vdr/conf.d/</span>
</pre>
</div>
</div></li>
<li><a id="org8000080"></a>Install additional vdr plugins<br /><div class="outline-text-5" id="text-8-4-1-4">
<p>
The additional plugins to install can be set in the variable <code>{{vdr_plugins}}</code> in the group variables
</p>
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install additional vdr plugins
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    <span style="color: #4E9A06;">'{{ vdr_plugins | default({}) }}'</span>
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart VDR'</span> ]
</pre>
</div>
</div></li>
<li><a id="org326b9b2"></a>copy vdr configuration files (if they don&rsquo;t exist yet)<br /><div class="outline-text-5" id="text-8-4-1-5">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: ensure vdr is stopped
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr.service
    <span style="color: #0084C8; font-weight: bold;">state</span>: stopped
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Start VDR'</span> ]

- <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"vdr configuration | copy remote.conf if it doesn't exist yet"</span>
  <span style="color: #0084C8; font-weight: bold;">copy</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: files/remote.conf
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.confdir }}/remote.conf'</span>
    <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
    <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>
    <span style="color: #0084C8; font-weight: bold;">mode</span>: 0644
    <span style="color: #0084C8; font-weight: bold;">force</span>: <span style="color: #F5666D;">no</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"vdr configuration | copy keymacros.conf if it doesn't exist yet"</span>
  <span style="color: #0084C8; font-weight: bold;">copy</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: files/keymacros.conf
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.confdir }}/keymacros.conf'</span>
    <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
    <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>
    <span style="color: #0084C8; font-weight: bold;">mode</span>: 0644
    <span style="color: #0084C8; font-weight: bold;">force</span>: <span style="color: #F5666D;">no</span>
</pre>
</div>
</div></li></ol>
</div>

<div id="outline-container-org33195a3" class="outline-4">
<h4 id="org33195a3"><span class="section-number-4">8.4.2</span> templates</h4>
</div>
<div id="outline-container-org66bdf43" class="outline-4">
<h4 id="org66bdf43"><span class="section-number-4">8.4.3</span> files</h4>
<div class="outline-text-4" id="text-8-4-3">
</div><ol class="org-ol"><li><a id="org968bead"></a>remote.conf<br /><div class="outline-text-5" id="text-8-4-3-1">
<div class="org-src-container">
<pre class="src src-conf">LIRC.Up KEY_UP
LIRC.Down KEY_DOWN
LIRC.Menu KEY_MENU
LIRC.Ok KEY_OK
LIRC.Back KEY_ESC
LIRC.Left KEY_LEFT
LIRC.Right KEY_RIGHT
LIRC.Red KEY_RED
LIRC.Green KEY_GREEN
LIRC.Yellow KEY_YELLOW
LIRC.Blue KEY_BLUE
LIRC.0 KEY_0
LIRC.1 KEY_1
LIRC.2 KEY_2
LIRC.3 KEY_3
LIRC.4 KEY_4
LIRC.5 KEY_5
LIRC.6 KEY_6
LIRC.7 KEY_7
LIRC.8 KEY_8
LIRC.9 KEY_9
LIRC.Info KEY_INFO
LIRC.Play KEY_PLAY
LIRC.Pause KEY_PAUSE
LIRC.Play/Pause KEY_PLAYPAUSE
LIRC.Stop KEY_STOP
LIRC.Record KEY_RECORD
LIRC.FastFwd KEY_FASTFORWARD
LIRC.FastRew KEY_REWIND
LIRC.Next KEY_NEXT
LIRC.Prev KEY_BACK
LIRC.Power KEY_POWER2
LIRC.Channel+ KEY_CHANNELUP
LIRC.Channel- KEY_CHANNELDOWN
LIRC.PrevChannel KEY_PREVIOUS
LIRC.Volume+ KEY_VOLUMEUP
LIRC.Volume- KEY_VOLUMEDOWN
LIRC.Mute KEY_MUTE
LIRC.Subtitles KEY_SUBTITLE
LIRC.Schedule KEY_EPG
LIRC.Channels KEY_CHANNEL
LIRC.Commands KEY_FAVORITES
LIRC.Audio KEY_MODE
LIRC.Timers KEY_TIME
LIRC.Recordings KEY_PVR
LIRC.Setup KEY_SETUP
LIRC.User0 KEY_TEXT
LIRC.User1 KEY_PROG1
LIRC.User2 KEY_PROG2
LIRC.User3 KEY_PROG3
LIRC.User4 KEY_PROG4
LIRC.User5 KEY_AUDIO
LIRC.User6 KEY_VIDEO
LIRC.User7 KEY_IMAGES
LIRC.User8 KEY_FN
LIRC.User9 KEY_SCREEN

XKeySym.Up         Up
XKeySym.Down       Down
XKeySym.Menu       Home
XKeySym.Menu       Tab
XKeySym.Menu       KP_Home
XKeySym.Ok         Return
XKeySym.Ok         KP_Enter
XKeySym.Back       BackSpace
XKeySym.Back       KP_Separator
XKeySym.Left       Left
XKeySym.Right      Right
XKeySym.Up         KP_Up
XKeySym.Down       KP_Down
XKeySym.Left       KP_Left
XKeySym.Right      KP_Right
XKeySym.Red        F1
XKeySym.Green      F2
XKeySym.Yellow     F3
XKeySym.Blue       F4
XKeySym.0          0
XKeySym.1          1
XKeySym.2          2
XKeySym.3          3
XKeySym.4          4
XKeySym.5          5
XKeySym.6          6
XKeySym.7          7
XKeySym.8          8
XKeySym.9          9
XKeySym.0          KP_0
XKeySym.1          KP_1
XKeySym.2          KP_2
XKeySym.3          KP_3
XKeySym.4          KP_4
XKeySym.5          KP_5
XKeySym.6          KP_6
XKeySym.7          KP_7
XKeySym.8          KP_8
XKeySym.9          KP_9
XKeySym.Info       End
XKeySym.Info       KP_End
XKeySym.Pause      F9
XKeySym.FastFwd    F6
XKeySym.FastRew    F5
XKeySym.Power      Pause
XKeySym.Volume+    F12
XKeySym.Volume-    F11
XKeySym.Volume+    KP_Add
XKeySym.Volume-    KP_Subtract
XKeySym.Mute       F10
XKeySym.User1      F5
XKeySym.User2      F6
XKeySym.User3      F7
XKeySym.User4      F8
XKeySym.User5      Print
XKeySym.User6      Scroll_Lock
XKeySym.User7      Insert
XKeySym.User8      KP_Divide
XKeySym.User9      KP_Multiply
XKeySym.Audio      Menu
XKeySym.Channel+   Prior
XKeySym.Channel-   Next
XKeySym.Channel+   KP_Prior
XKeySym.Channel-   KP_Next
XKeySym.Volume+    XF86AudioRaiseVolume
XKeySym.Volume-    XF86AudioLowerVolume
XKeySym.Mute       XF86AudioMute
XKeySym.Stop       XF86AudioStop
XKeySym.Play/Pause  XF86AudioPlay
XKeySym.Prev       XF86AudioPrev
XKeySym.Next       XF86AudioNext
</pre>
</div>
</div></li>
<li><a id="org6038c00"></a>keymacros.conf<br /><div class="outline-text-5" id="text-8-4-3-2">
<div class="org-src-container">
<pre class="src src-conf"><span style="color: #204A87;"># </span><span style="color: #204A87;">Remote control key macros for VDR</span>
<span style="color: #204A87;">#</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">Format:</span>
<span style="color: #204A87;">#</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">macrokey  key1 key2 key3...</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">macrokey  @plugin key1 key2 key3...</span>
<span style="color: #204A87;">#</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">See man vdr(5)</span>

Red       Recordings
Green     Schedule
Yellow    Info
Blue      Timers
User0     @osdteletext


</pre>
</div>
</div></li></ol>
</div>
</div>
<div id="outline-container-org80b0fef" class="outline-3">
<h3 id="org80b0fef"><span class="section-number-3">8.5</span> <span class="todo STARTED">STARTED</span> yavdr-network</h3>
<div class="outline-text-3" id="text-8-5">
</div><div id="outline-container-org89dbe6a" class="outline-4">
<h4 id="org89dbe6a"><span class="section-number-4">8.5.1</span> default variables</h4>
<div class="outline-text-4" id="text-8-5-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">install_avahi</span>: <span style="color: #F5666D;">true</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7b335a8" class="outline-4">
<h4 id="org7b335a8"><span class="section-number-4">8.5.2</span> tasks</h4>
<div class="outline-text-4" id="text-8-5-2">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">this playbook sets up network services for a yaVDR installation</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt |install packages for network services
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
      <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
      <span style="color: #0084C8; font-weight: bold;">state</span>: present
      <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
      - avahi-daemon
      - avahi-utils
      <span style="color: #204A87;">#</span><span style="color: #204A87;">- biosdevname # caution: this may change device names after a minimal installation!</span>
      - ethtool
      - nfs-common
      - vdr-addon-avahi-linker
      - wakeonlan

<span style="color: #204A87;"># </span><span style="color: #204A87;">Does this really work? We need a way to check if an interface supports WOL - Python Skript?</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">- name: check WOL capabilities of network interfaces</span>
<span style="color: #204A87;">#   </span><span style="color: #204A87;">shell: 'ethtool {{ item }} | grep -Po "(?&lt;=Supports\sWake-on:\s).*$"'</span>
<span style="color: #204A87;">#   </span><span style="color: #204A87;">register: wol</span>
<span style="color: #204A87;">#   </span><span style="color: #204A87;">with_items: '{% for interface in ansible_interfaces if interface != 'lo' and interface != 'bond0' %}'</span>
  
- <span style="color: #0084C8; font-weight: bold;">name</span>: restart autofs if running
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: autofs
    <span style="color: #0084C8; font-weight: bold;">state</span>: restarted
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #0084C8; font-weight: bold;">masked</span>: <span style="color: #F5666D;">no</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: ensure autofs is running
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: autofs
    <span style="color: #0084C8; font-weight: bold;">state</span>: started
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #0084C8; font-weight: bold;">masked</span>: <span style="color: #F5666D;">no</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: restart avahi-linker if running
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: avahi-linker
    <span style="color: #0084C8; font-weight: bold;">state</span>: restarted
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #0084C8; font-weight: bold;">masked</span>: <span style="color: #F5666D;">no</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: start avahi-linker
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: avahi-linker
    <span style="color: #0084C8; font-weight: bold;">state</span>: started
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #0084C8; font-weight: bold;">masked</span>: <span style="color: #F5666D;">no</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: enable and start additional services for avahi-linker
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: started
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #0084C8; font-weight: bold;">masked</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - vdr-net-monitor
    - vdr-update-monitor
    - prevent-umount-on-pause
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6fe7958" class="outline-3">
<h3 id="org6fe7958"><span class="section-number-3">8.6</span> nfs-server</h3>
<div class="outline-text-3" id="text-8-6">
</div><div id="outline-container-orgc6d4e03" class="outline-4">
<h4 id="orgc6d4e03"><span class="section-number-4">8.6.1</span> <span class="todo TODO">TODO</span> avahi-services für NFS beim Stoppen des nfs-kernel-servers depublizieren, beim Start wieder announcen</h4>
</div>
<div id="outline-container-org805ca00" class="outline-4">
<h4 id="org805ca00"><span class="section-number-4">8.6.2</span> tasks</h4>
<div class="outline-text-4" id="text-8-6-2">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: install nfs server packages
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - nfs-kernel-server
    - nfs-common

- <span style="color: #0084C8; font-weight: bold;">name</span>: create /etc/exports
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/nfs-exports.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/exports
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart NFS Kernel Server'</span> ]

- <span style="color: #0084C8; font-weight: bold;">name</span>: populate /etc/avahi/services
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/avahi/service.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'/etc/avahi/services/yavdr-{{ item.key }}.service'</span>
  <span style="color: #0084C8; font-weight: bold;">with_dict</span>: <span style="color: #4E9A06;">'{{ media_dirs }}'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9234542" class="outline-4">
<h4 id="org9234542"><span class="section-number-4">8.6.3</span> templates</h4>
<div class="outline-text-4" id="text-8-6-3">
</div><ol class="org-ol"><li><a id="org05c3a93"></a>/etc/exports<br /><div class="outline-text-5" id="text-8-6-3-1">
<div class="org-src-container">
<pre class="src src-conf"><span style="color: #0084C8; font-weight: bold;">/srv *(rw,fsid</span>=0,sync,no_subtree_check,all_squash,anongid={{ vdr.gid }},anonuid={{ vdr.uid }})
{% for name, path in media_dirs.iteritems() %}
<span style="color: #0084C8; font-weight: bold;">{{ path }} *(rw,fsid</span>={{ loop.index }},sync,no_subtree_check,all_squash,anongid={{ vdr.gid }},anonuid={{ vdr.uid }}{{ <span style="color: #4E9A06;">',insecure'</span> if nfs.insecure else <span style="color: #4E9A06;">''</span> }})
{% endfor %}
</pre>
</div>
</div></li>
<li><a id="orgd33149b"></a>avahi services<br /><div class="outline-text-5" id="text-8-6-3-2">
<div class="org-src-container">
<pre class="src src-xml">&lt;?<span style="color: #A52A2A; font-weight: bold;">xml</span> <span style="color: #0084C8; font-weight: bold;">version</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">1.0</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">standalone</span>=<span style="color: #4E9A06;">'</span><span style="color: #4E9A06;">no</span><span style="color: #4E9A06;">'</span>?&gt;
&lt;!<span style="color: #A52A2A; font-weight: bold;">DOCTYPE</span> service-group <span style="color: #A52A2A; font-weight: bold;">SYSTEM</span> <span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">avahi-service.dtd</span><span style="color: #4E9A06;">"</span>&gt;
&lt;<span style="color: #00578E; font-weight: bold;">service-group</span>&gt;
&lt;<span style="color: #00578E; font-weight: bold;">name</span> <span style="color: #0084C8; font-weight: bold;">replace-wildcards</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">yes</span><span style="color: #4E9A06;">"</span>&gt;{{ item.key|capitalize }} on %h&lt;/<span style="color: #00578E; font-weight: bold;">name</span>&gt; ## Name
&lt;<span style="color: #00578E; font-weight: bold;">service</span>&gt;
       &lt;<span style="color: #00578E; font-weight: bold;">type</span>&gt;_nfs._tcp&lt;/<span style="color: #00578E; font-weight: bold;">type</span>&gt;
       &lt;<span style="color: #00578E; font-weight: bold;">port</span>&gt;2049&lt;/<span style="color: #00578E; font-weight: bold;">port</span>&gt;
       &lt;<span style="color: #00578E; font-weight: bold;">txt-record</span>&gt;path={{ item.value }}&lt;/<span style="color: #00578E; font-weight: bold;">txt-record</span>&gt; ## path to shared Folder
       &lt;<span style="color: #00578E; font-weight: bold;">txt-record</span>&gt;subtype={{ 'vdr' if item.key == 'recordings' else item.key }}&lt;/<span style="color: #00578E; font-weight: bold;">txt-record</span>&gt; ## subtype
&lt;/<span style="color: #00578E; font-weight: bold;">service</span>&gt;
&lt;/<span style="color: #00578E; font-weight: bold;">service-group</span>&gt;
</pre>
</div>
</div></li></ol>
</div>
</div>
<div id="outline-container-org2e3a97f" class="outline-3">
<h3 id="org2e3a97f"><span class="section-number-3">8.7</span> <span class="todo STARTED">STARTED</span> yavdr-remote</h3>
<div class="outline-text-3" id="text-8-7">
</div><div id="outline-container-org9455403" class="outline-4">
<h4 id="org9455403"><span class="section-number-4">8.7.1</span> default variables</h4>
</div>
<div id="outline-container-org406be1c" class="outline-4">
<h4 id="org406be1c"><span class="section-number-4">8.7.2</span> tasks</h4>
<div class="outline-text-4" id="text-8-7-2">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">This role is used to set up the yaVDR remote control configuration.</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install yavdr-remote
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: yavdr-remote
    <span style="color: #0084C8; font-weight: bold;">state</span>: present

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install eventlircd
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: eventlircd
    <span style="color: #0084C8; font-weight: bold;">state</span>: present

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install lirc
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: lirc
    <span style="color: #0084C8; font-weight: bold;">state</span>: present

- <span style="color: #0084C8; font-weight: bold;">name</span>: stop, mask and disable lircd.socket, lircd.service and lircd-uinput.service <span style="color: #204A87;"># </span><span style="color: #204A87;">(the default lirc configuration conflicts with eventlircd)</span>
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">no</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: stopped
    <span style="color: #0084C8; font-weight: bold;">masked</span>: <span style="color: #F5666D;">yes</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - lircd.service
    - lircd.socket
    - lircd-uinput.service
  <span style="color: #0084C8; font-weight: bold;">ignore_errors</span>: <span style="color: #F5666D;">yes</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: configure vdr to read from a lircd-compatible socket
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/03-vdr-lirc.conf.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/vdr/conf.d/03-vdr-lirc.conf
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [<span style="color: #4E9A06;">'Restart VDR'</span>]

<span style="color: #204A87;"># </span><span style="color: #204A87;">TODO: upload lircd2uinput package to PPA</span>
<span style="color: #204A87;">#</span><span style="color: #204A87;">- name: install lircd2uinput</span>
<span style="color: #204A87;">#  </span><span style="color: #204A87;">tag: install</span>
<span style="color: #204A87;">#  </span><span style="color: #204A87;">apt:</span>
<span style="color: #204A87;">#      </span><span style="color: #204A87;">name: lircd2uinput</span>
<span style="color: #204A87;">#      </span><span style="color: #204A87;">state: present</span>
<span style="color: #204A87;">#  </span><span style="color: #204A87;">when:</span>
<span style="color: #204A87;">#      </span><span style="color: #204A87;">install_eventlircd is defined and install_eventlircd</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6c83be4" class="outline-4">
<h4 id="org6c83be4"><span class="section-number-4">8.7.3</span> templates</h4>
<div class="outline-text-4" id="text-8-7-3">
<div class="org-src-container">
<pre class="src src-conf"><span style="color: #0084C8; font-weight: bold;">{% if frontend !</span>= <span style="color: #4E9A06;">'kodi'</span> %}
[<span style="color: #2F8B58; font-weight: bold;">vdr</span>]
<span style="color: #0084C8; font-weight: bold;">--lirc</span>=/var/run/lirc/lircd
{% endif %}
</pre>
</div>
</div>
</div>
<div id="outline-container-orge60a092" class="outline-4">
<h4 id="orge60a092"><span class="section-number-4">8.7.4</span> files</h4>
</div>
</div>

<div id="outline-container-orged9b948" class="outline-3">
<h3 id="orged9b948"><span class="section-number-3">8.8</span> pulseaudio</h3>
<div class="outline-text-3" id="text-8-8">
</div><div id="outline-container-org749e0a3" class="outline-4">
<h4 id="org749e0a3"><span class="section-number-4">8.8.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-8-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install pulseaudio and pavucontrol
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - pulseaudio
    - pavucontrol

- <span style="color: #0084C8; font-weight: bold;">name</span>: create /etc/asound.conf with pulseaudio as default device
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/alsa/asound.conf.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/asound.conf
</pre>
</div>
</div>
</div>
<div id="outline-container-org9785ba2" class="outline-4">
<h4 id="org9785ba2"><span class="section-number-4">8.8.2</span> templates</h4>
<div class="outline-text-4" id="text-8-8-2">
<div class="org-src-container">
<pre class="src src-conf"><span style="color: #204A87;"># </span><span style="color: #204A87;">Use PulseAudio by default</span>
<span style="color: #2F8B58; font-weight: bold;">pcm.!default</span> {
  type pulse
  fallback <span style="color: #4E9A06;">"sysdefault"</span>
  <span style="color: #2F8B58; font-weight: bold;">hint</span> {
    show on
    description <span style="color: #4E9A06;">"Default ALSA Output (currently PulseAudio Sound Server)"</span>
  }
}

<span style="color: #2F8B58; font-weight: bold;">ctl.!default</span> {
  type pulse
  fallback <span style="color: #4E9A06;">"sysdefault"</span>
}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org25deb5c" class="outline-3">
<h3 id="org25deb5c"><span class="section-number-3">8.9</span> yavdr-xorg</h3>
<div class="outline-text-3" id="text-8-9">
</div><div id="outline-container-orgc4c5b54" class="outline-4">
<h4 id="orgc4c5b54"><span class="section-number-4">8.9.1</span> About the GUI session</h4>
<div class="outline-text-4" id="text-8-9-1">
<p>
The X-Server is started by using the two systemd units <code>xlogin@.service</code> and <code>x@.service</code> provided by the package <b>xlogin</b>.  The former is enabled (and started) for the vdr user - which results (using the default settings for the user <b>vdr</b> with the uid <b>666</b>) in the activation of <code>xlogin@vdr.service</code> when reaching the graphical.target.
</p>

<p>
<code>x@vt7.service</code> is started automatically as a dependency of <code>xlogin@vdr.service</code> and starts the X-server.  <code>xlogin@vdr.service</code> also starts a systemd user session using <code>user@666.service</code>.
</p>

<p>
To prevent stopping the X-server when vdr is running, additional dependencies are set up - see the drop-in rules created in <code>/etc/systemd/system/vdr.service.d/</code>.
</p>

<p>
Basic Services like the session DBus, pulseaudio etc. are started for the <code>default.target</code> of the session.
The openbox autostart script is used to update the systemd session with the needed session variables.  It creates a file <code>~/.session-env</code> which is used as an environment file by <code>vdr.service</code> (so the vdr knows the <b>DISPLAY</b> and can access pulseaudio).
</p>

<p>
The autostart script then enables all services to be pulled in by yavdr-desktop.target.  As the last step <code>yavdr-desktop.target</code> is startet, which results in staring <code>yavdr-frontend.service</code> and additional Units for a second display (openbox and a browser for osd2eb, if available).
</p>

<p>
In order to achive a clean shutdown of the session, <code>x@t7.service</code> is set as a dependency of the systemd unit instance <code>user@666.service</code> and all processes within the session must be shutdown properly when stopping <code>xlogin@vdr.service</code>.  If systemd units are used within the user session, they must stop their process(es) successfully (you should set them up to accept expected exit codes appropriately).  The window manager <i>openbox</i> is started using the <code>~/.xinitrc</code> and stopped using the systemd unit <code>exit-wm.service</code> (which runs on stopping the jobs pulled in by the <code>default.target</code> of the session).
</p>
</div>
</div>
<div id="outline-container-org569197b" class="outline-4">
<h4 id="org569197b"><span class="section-number-4">8.9.2</span> default variables</h4>
</div>
<div id="outline-container-orgcb58a9d" class="outline-4">
<h4 id="orgcb58a9d"><span class="section-number-4">8.9.3</span> tasks</h4>
<div class="outline-text-4" id="text-8-9-3">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/yavdr-xorg/tasks/main.yml</span>
- <span style="color: #0084C8; font-weight: bold;">include</span>: setup-xorg.yml tags=install,update
- <span style="color: #0084C8; font-weight: bold;">include</span>: detect-xorg.yml tags=xorg:detect,install
- <span style="color: #0084C8; font-weight: bold;">include</span>: desktop-session.yml tags=install,update
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/yavdr-xorg/tasks/setup-xorg.yml</span>
- <span style="color: #0084C8; font-weight: bold;">name</span>: create directories for systemd drop-in files
  <span style="color: #0084C8; font-weight: bold;">file</span>:
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: directory
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - /etc/systemd/system/x@.service.d/
    - /etc/systemd/system/vdr.service.d/
    - <span style="color: #4E9A06;">'/etc/systemd/system/user@{{ vdr.uid }}.service.d/'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: add dependency to X-server for vdr.service using a drop-in
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/vdr-xorg.conf
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/systemd/system/vdr.service.d/vdr-xorg.conf

- <span style="color: #0084C8; font-weight: bold;">name</span>: start x@.service before xlogin@.service
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/x@service.d/xlogin.conf.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/systemd/system/x@.service.d/xlogin.conf

- <span style="color: #0084C8; font-weight: bold;">name</span>: load environment file for vdr.service
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/systemd/vdr-environ.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/systemd/system/vdr.service.d/load-environ.conf

- <span style="color: #0084C8; font-weight: bold;">name</span>: user@{{ vdr.uid }}.service depends on x@vt7.service
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/user@666.service.d/x-dependency.conf.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'/etc/systemd/system/user@{{ vdr.uid }}.service.d/x-dependency.conf'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: start softhddevice detached and set audio to pulseaudio
  <span style="color: #0084C8; font-weight: bold;">lineinfile</span>:
    <span style="color: #0084C8; font-weight: bold;">path</span>: /etc/vdr/conf.avail/softhddevice.conf
    <span style="color: #0084C8; font-weight: bold;">line</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
      - <span style="color: #4E9A06;">'-D'</span>
      <span style="color: #204A87;"># </span><span style="color: #204A87;">- '-a pulse' # do we need this with our existing asound.conf?</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: set a login shell for the user vdr
  <span style="color: #0084C8; font-weight: bold;">user</span>:
      <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
      <span style="color: #0084C8; font-weight: bold;">shell</span>: <span style="color: #4E9A06;">'/bin/bash'</span>
      <span style="color: #0084C8; font-weight: bold;">state</span>: present
      <span style="color: #0084C8; font-weight: bold;">uid</span>: <span style="color: #4E9A06;">'{{ vdr.uid }}'</span>
      <span style="color: #0084C8; font-weight: bold;">groups</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>
      <span style="color: #0084C8; font-weight: bold;">append</span>: <span style="color: #F5666D;">yes</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: install packages for xorg
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - xorg
    - xserver-xorg-video-all
    - xserver-xorg-input-all
    - xlogin
    - xterm
    - openbox
    - tmux
    - kiosk-browser
    - read-edid
    - python3-dbus2vdr
    - python3-yavdrfrontend
    - vdr-plugin-desktop
    <span style="color: #204A87;">#</span><span style="color: #204A87;">- yavdr-xorg</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/yavdr-xorg/tasks/detect-xorg.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"expand template for x-verbose@.service"</span>
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: <span style="color: #4E9A06;">"templates/systemd/system/x-verbose@.service.j2"</span>
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">"/etc/systemd/system/x-verbose@.service"</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"expand template for xorg-verbose.conf"</span>
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: <span style="color: #4E9A06;">"templates/xorg-verbose.conf.j2"</span>
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">"/etc/X11/xorg-verbose.conf"</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: Stop VDR
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr.service
    <span style="color: #0084C8; font-weight: bold;">state</span>: stopped
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [<span style="color: #4E9A06;">'Start VDR'</span>]

- <span style="color: #0084C8; font-weight: bold;">name</span>: Stop xlogin
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'xlogin@{{ vdr.user }}.service'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: stopped

- <span style="color: #0084C8; font-weight: bold;">name</span>: Stop x
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: x@vt7.service
    <span style="color: #0084C8; font-weight: bold;">state</span>: stopped

- <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"start x-verbose@.service"</span>
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"x-verbose@vt7.service"</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: started
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">false</span>
    <span style="color: #0084C8; font-weight: bold;">masked</span>: <span style="color: #F5666D;">false</span>
    <span style="color: #0084C8; font-weight: bold;">daemon_reload</span>: <span style="color: #F5666D;">true</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"wait a little bit, so X has some time to start up (needed?)"</span>
  <span style="color: #0084C8; font-weight: bold;">wait_for</span>:
    <span style="color: #0084C8; font-weight: bold;">timeout</span>: 3

- <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"detect xorg configuration"</span>
  <span style="color: #0084C8; font-weight: bold;">action</span>: xrandr_facts

- <span style="color: #0084C8; font-weight: bold;">debug</span>:
    <span style="color: #0084C8; font-weight: bold;">var</span>: xorg.primary

- <span style="color: #0084C8; font-weight: bold;">debug</span>:
    <span style="color: #0084C8; font-weight: bold;">var</span>: xorg.secondary
  <span style="color: #0084C8; font-weight: bold;">when</span>: xorg.secondary is defined

- <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"stop x-verbose@vt7.service"</span>
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"x-verbose@vt7.service"</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: stopped
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">false</span>
    <span style="color: #0084C8; font-weight: bold;">masked</span>: <span style="color: #F5666D;">true</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">TODO: expand template for xorg.conf (or snippets)</span>
<span style="color: #204A87;">#       </span><span style="color: #204A87;">with respect for the available graphics card driver</span>
<span style="color: #204A87;">#       </span><span style="color: #204A87;">nvidia, noveau, intel, radeon</span>
- <span style="color: #0084C8; font-weight: bold;">name</span>: create xorg.conf (for nvidia driver)
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/xorg.conf.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/X11/xorg.conf
    <span style="color: #0084C8; font-weight: bold;">backup</span>: <span style="color: #F5666D;">yes</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/yavdr-xorg/tasks/desktop-session.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: create folders for user configuration files
  <span style="color: #0084C8; font-weight: bold;">file</span>:
    <span style="color: #0084C8; font-weight: bold;">state</span>: directory
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">mode</span>: <span style="color: #4E9A06;">'0775'</span>
    <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
    <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - <span style="color: #4E9A06;">'{{ vdr.home }}/.config/systemd/user'</span>
    - <span style="color: #4E9A06;">'{{ vdr.home }}/.config/openbox'</span>
    - <span style="color: #4E9A06;">'{{ vdr.home }}/.config/pulse'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: expand template for .xinitrc for vdr user
  <span style="color: #0084C8; font-weight: bold;">template</span>:
      <span style="color: #0084C8; font-weight: bold;">src</span>: <span style="color: #4E9A06;">'templates/.xinitrc.j2'</span>
      <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.xinitrc'</span>
      <span style="color: #0084C8; font-weight: bold;">mode</span>: 0755
      <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
      <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: expand template for openbox autostart
  <span style="color: #0084C8; font-weight: bold;">template</span>:
      <span style="color: #0084C8; font-weight: bold;">src</span>: <span style="color: #4E9A06;">'templates/openbox/autostart.j2'</span>
      <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.config/openbox/autostart'</span>
      <span style="color: #0084C8; font-weight: bold;">mode</span>: 0755
      <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
      <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: expand rc.xml for openbox
  <span style="color: #0084C8; font-weight: bold;">template</span>:
      <span style="color: #0084C8; font-weight: bold;">src</span>: <span style="color: #4E9A06;">'templates/openbox/rc.xml.j2'</span>
      <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.config/openbox/rc.xml'</span>
      <span style="color: #0084C8; font-weight: bold;">mode</span>: 0644
      <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
      <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: create yavdr-desktop.target for the user session
  <span style="color: #0084C8; font-weight: bold;">template</span>:
      <span style="color: #0084C8; font-weight: bold;">src</span>: <span style="color: #4E9A06;">'templates/systemd/user/yavdr-desktop.target.j2'</span>
      <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.config/systemd/user/yavdr-desktop.target'</span>
      <span style="color: #0084C8; font-weight: bold;">mode</span>: 0644
      <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
      <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: disable pulseaudio autospawning
  <span style="color: #0084C8; font-weight: bold;">lineinfile</span>:
    <span style="color: #0084C8; font-weight: bold;">path</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.config/pulse/client.conf'</span>
    <span style="color: #0084C8; font-weight: bold;">line</span>: <span style="color: #4E9A06;">'autospawn = no'</span>
    <span style="color: #0084C8; font-weight: bold;">create</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
    <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: create tmux.service for the session
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: roles/yavdr-xorg/templates/systemd/user/tmux.service.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.config/systemd/user/tmux.service'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: create wm-exit.service for the session
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: roles/yavdr-xorg/templates/systemd/user/wm-exit.service.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.config/systemd/user/wm-exit.service'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: create detect-second-display.service for the session
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/systemd/user/detect-second-display.service.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.config/systemd/user/detect-second-display.service'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: create openbox-second.service for the session
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/systemd/user/openbox-second.service.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.config/systemd/user/openbox-second.service'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: create osd2web.service for the session
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/systemd/user/osd2web.service.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.config/systemd/user/osd2web.service'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: link /usr/bin/start-desktop to /var/lib/vdr/plugins/desktop/starter
  <span style="color: #0084C8; font-weight: bold;">file</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: /usr/bin/start-desktop
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /var/lib/vdr/plugins/desktop/starter
    <span style="color: #0084C8; font-weight: bold;">state</span>: link
  
- <span style="color: #0084C8; font-weight: bold;">name</span>: enable and start xlogin for the vdr user
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">daemon_reload</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'xlogin@{{ vdr.user }}'</span>
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: started
</pre>
</div>
</div>
</div>
<div id="outline-container-orgead7b4e" class="outline-4">
<h4 id="orgead7b4e"><span class="section-number-4">8.9.4</span> templates</h4>
<div class="outline-text-4" id="text-8-9-4">
</div><ol class="org-ol"><li><a id="org1ea355a"></a>xorg<br /><ol class="org-ol"><li><a id="org7dfaf9a"></a>x-verbose@.service<br /><div class="outline-text-6" id="text-8-9-4-1-1">
<div class="org-src-container">
<pre class="src src-conf">---
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/yavdr-xorg/templates/systemd/system/x-verbose@.service.j2</span>
[<span style="color: #2F8B58; font-weight: bold;">Unit</span>]
<span style="color: #0084C8; font-weight: bold;">Description</span>=X with verbose logging on %I
<span style="color: #0084C8; font-weight: bold;">Wants</span>=graphical.target
<span style="color: #0084C8; font-weight: bold;">Before</span>=graphical.target

[<span style="color: #2F8B58; font-weight: bold;">Service</span>]
<span style="color: #0084C8; font-weight: bold;">Type</span>=forking
<span style="color: #0084C8; font-weight: bold;">ExecStart</span>=/usr/bin/x-daemon -logverbose 6 -noreset %I -config /etc/X11/xorg-debug.conf
</pre>
</div>
</div></li>
<li><a id="org4c42203"></a>Drop-in snippet for x@.service<br /><div class="outline-text-6" id="text-8-9-4-1-2">
<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #2F8B58; font-weight: bold;">Unit</span>]
<span style="color: #0084C8; font-weight: bold;">Before</span>=xlogin@{{ vdr.user }}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #2F8B58; font-weight: bold;">Unit</span>]
<span style="color: #0084C8; font-weight: bold;">Wants</span>=x@vt7.service
<span style="color: #0084C8; font-weight: bold;">After</span>=x@vt7.service

[<span style="color: #2F8B58; font-weight: bold;">Service</span>]
<span style="color: #0084C8; font-weight: bold;">TimeoutStopSec</span>=20
<span style="color: #0084C8; font-weight: bold;">KillMode</span>=mixed
</pre>
</div>
</div></li>

<li><a id="org2bf4359"></a>Drop-in snippet for vdr.service<br /><div class="outline-text-6" id="text-8-9-4-1-3">
<div class="org-src-container">
<pre class="src src-conf"><span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/yavdr-xorg/templates/vdr-xorg.conf</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">{{ ansible_managed_file }}</span>
[<span style="color: #2F8B58; font-weight: bold;">Unit</span>]
<span style="color: #0084C8; font-weight: bold;">After</span>=x@vt7.service
<span style="color: #0084C8; font-weight: bold;">Wants</span>=x@vt7.service
<span style="color: #204A87;">#</span><span style="color: #204A87;">BindsTo=x@vt7.service</span>
</pre>
</div>
</div></li>
<li><a id="org575857e"></a>.xinitrc<br /><div class="outline-text-6" id="text-8-9-4-1-4">
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #204A87;">#</span><span style="color: #204A87;">!/bin/</span><span style="color: #A52A2A; font-weight: bold;">bash</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">{{ ansible_managed_file }}</span>
<span style="color: #A52A2A; font-weight: bold;">exec</span> openbox-session
</pre>
</div>
</div></li>
<li><a id="orgdab12fe"></a>xorg.conf<br /><div class="outline-text-6" id="text-8-9-4-1-5">
<div class="org-src-container">
<pre class="src src-conf">Section <span style="color: #4E9A06;">"Device"</span>
        Identifier <span style="color: #4E9A06;">"nvidia"</span>
        Driver  <span style="color: #4E9A06;">"nvidia"</span>
        Option  <span style="color: #4E9A06;">"NoLogo"</span>              <span style="color: #4E9A06;">"true"</span>
        Option  <span style="color: #4E9A06;">"DynamicTwinView"</span>     <span style="color: #4E9A06;">"true"</span>
        Option  <span style="color: #4E9A06;">"NoFlip"</span>              <span style="color: #4E9A06;">"false"</span>
<span style="color: #204A87;">#        </span><span style="color: #204A87;">Option  "FlatPanelProperties" "Scaling = Native"</span>
<span style="color: #204A87;">#        </span><span style="color: #204A87;">Option  "ModeValidation"      "NoVesaModes, NoXServerModes"</span>
<span style="color: #204A87;">#        </span><span style="color: #204A87;">Option  "ModeDebug"           "true"</span>
<span style="color: #204A87;">#        </span><span style="color: #204A87;">Option  "HWCursor"            "false"</span>
EndSection

Section <span style="color: #4E9A06;">"Screen"</span>
        Identifier      <span style="color: #4E9A06;">"screen"</span>
        Device          <span style="color: #4E9A06;">"nvidia"</span>
EndSection

Section <span style="color: #4E9A06;">"Extensions"</span>
        Option  <span style="color: #4E9A06;">"Composite"</span>           <span style="color: #4E9A06;">"false"</span>
EndSection
</pre>
</div>
<div class="org-src-container">
<pre class="src src-conf">{{ ansible_managed_file | comment }}

Section <span style="color: #4E9A06;">"ServerLayout"</span>
    Identifier     <span style="color: #4E9A06;">"Layout0"</span>
    Screen         0  <span style="color: #4E9A06;">"Screen0"</span> 0 0
{% if xorg.secondary is defined %}
    Screen         1  <span style="color: #4E9A06;">"Screen1"</span> RightOf <span style="color: #4E9A06;">"Screen0"</span>
{% endif %}
    <span style="color: #204A87;">#</span><span style="color: #204A87;">InputDevice    "Keyboard0" "CoreKeyboard"</span>
    <span style="color: #204A87;">#</span><span style="color: #204A87;">InputDevice    "Mouse0" "CorePointer"</span>
    Option         <span style="color: #4E9A06;">"Xinerama"</span> <span style="color: #4E9A06;">"0"</span>
EndSection

Section <span style="color: #4E9A06;">"InputClass"</span>
    Identifier <span style="color: #4E9A06;">"exclude eventlircd devices"</span>
    MatchTag   <span style="color: #4E9A06;">"eventlircd"</span>
    Option     <span style="color: #4E9A06;">"Ignore"</span>    <span style="color: #4E9A06;">"True"</span>
EndSection

Section <span style="color: #4E9A06;">"Monitor"</span>
    Identifier     <span style="color: #4E9A06;">"Monitor0"</span>
    VendorName     <span style="color: #4E9A06;">"{{ xorg.primary.vendor }}"</span>
    ModelName      <span style="color: #4E9A06;">"{{ xorg.primary.model }}"</span>
    Option         <span style="color: #4E9A06;">"DPMS"</span>
    Option         <span style="color: #4E9A06;">"ExactModeTimingsDVI"</span> <span style="color: #4E9A06;">"True"</span>
EndSection

Section <span style="color: #4E9A06;">"Device"</span>
    Identifier     <span style="color: #4E9A06;">"Device0"</span>
    Driver         <span style="color: #4E9A06;">"nvidia"</span>
    VendorName     <span style="color: #4E9A06;">"NVIDIA Corporation"</span>
    Option         <span style="color: #4E9A06;">"NoLogo"</span>              <span style="color: #4E9A06;">"true"</span>
{% if xorg.primary.bus_id is defined %}
    BoardName      <span style="color: #4E9A06;">"{{ xorg.primary.gpu_name }}"</span>
    BusID          <span style="color: #4E9A06;">"{{ xorg.primary.bus_id }}"</span>
{% else %}
    BoardName      <span style="color: #4E9A06;">"Unknown"</span>
{% endif %}
    Screen          0
EndSection

Section <span style="color: #4E9A06;">"Screen"</span>
    Identifier     <span style="color: #4E9A06;">"Screen0"</span>
    Device         <span style="color: #4E9A06;">"Device0"</span>
    Monitor        <span style="color: #4E9A06;">"Monitor0"</span>
    DefaultDepth    24
    Option         <span style="color: #4E9A06;">"nvidiaXineramaInfoOrder"</span> <span style="color: #4E9A06;">"{{ xorg.primary.connector }}"</span>
    Option         <span style="color: #4E9A06;">"ConnectedMonitor"</span> <span style="color: #4E9A06;">"{{ xorg.primary.connector }}{% if xorg.secondary is defined %}, {{ xorg.secondary.connector }}{% endif %}"</span>
    Option         <span style="color: #4E9A06;">"UseDisplayDevice"</span> <span style="color: #4E9A06;">"{{ xorg.primary.connector }}"</span>
    Option         <span style="color: #4E9A06;">"CustomEDID"</span> <span style="color: #4E9A06;">"{{ xorg.primary.connector }}:/etc/X11/edid.{{ xorg.primary.connector }}.bin"</span>
    Option         <span style="color: #4E9A06;">"metamodes"</span> <span style="color: #4E9A06;">"{{ xorg.primary.connector }}: {{ xorg.primary.mode }} +0+0"</span>
    Option         <span style="color: #4E9A06;">"SLI"</span> <span style="color: #4E9A06;">"Off"</span>
    Option         <span style="color: #4E9A06;">"MultiGPU"</span> <span style="color: #4E9A06;">"Off"</span>
    Option         <span style="color: #4E9A06;">"BaseMosaic"</span> <span style="color: #4E9A06;">"off"</span>
    SubSection     <span style="color: #4E9A06;">"Display"</span>
        Depth       24
    EndSubSection
EndSection

{% if xorg.secondary is defined %}
Section <span style="color: #4E9A06;">"Device"</span>
    Identifier     <span style="color: #4E9A06;">"Device1"</span>
    Driver         <span style="color: #4E9A06;">"nvidia"</span>
    VendorName     <span style="color: #4E9A06;">"NVIDIA Corporation"</span>
    Option  <span style="color: #4E9A06;">"NoLogo"</span>              <span style="color: #4E9A06;">"true"</span>
{% if xorg.secondary.bus_id is defined %}
    BoardName      <span style="color: #4E9A06;">"{{ xorg.primary.gpu_name }}"</span>
    BusID          <span style="color: #4E9A06;">"{{ xorg.primary.bus_id }}"</span>
{% else %}
    BoardName      <span style="color: #4E9A06;">"Unknown"</span>
{% endif %}
    Screen          1
EndSection

Section <span style="color: #4E9A06;">"Monitor"</span>
    Identifier     <span style="color: #4E9A06;">"Monitor1"</span>
    VendorName     <span style="color: #4E9A06;">"{{ xorg.secondary.vendor }}"</span>
    ModelName      <span style="color: #4E9A06;">"{{ xorg.secondary.model }}"</span>
EndSection

Section <span style="color: #4E9A06;">"Screen"</span>
    Identifier     <span style="color: #4E9A06;">"Screen1"</span>
    Device         <span style="color: #4E9A06;">"Device1"</span>
    Monitor        <span style="color: #4E9A06;">"Monitor1"</span>
    DefaultDepth    24
    Option         <span style="color: #4E9A06;">"nvidiaXineramaInfoOrder"</span> <span style="color: #4E9A06;">"{{ xorg.secondary.connector }}"</span>
    Option         <span style="color: #4E9A06;">"ConnectedMonitor"</span> <span style="color: #4E9A06;">"{{ xorg.secondary.connector }}"</span>
    Option         <span style="color: #4E9A06;">"UseDisplayDevice"</span> <span style="color: #4E9A06;">"{{ xorg.secondary.connector }}"</span>
    Option         <span style="color: #4E9A06;">"CustomEDID"</span> <span style="color: #4E9A06;">"{{ xorg.secondary.connector }}:/etc/X11/edid.{{ xorg.secondary.connector }}.bin"</span>
    Option         <span style="color: #4E9A06;">"metamodes"</span> <span style="color: #4E9A06;">"{{ xorg.secondary.connector }}: {{ xorg.secondary.mode }} +0+0"</span>
    Option         <span style="color: #4E9A06;">"SLI"</span> <span style="color: #4E9A06;">"Off"</span>
    Option         <span style="color: #4E9A06;">"MultiGPU"</span> <span style="color: #4E9A06;">"Off"</span>
    Option         <span style="color: #4E9A06;">"BaseMosaic"</span> <span style="color: #4E9A06;">"off"</span>
    SubSection     <span style="color: #4E9A06;">"Display"</span>
        Depth       24
    EndSubSection
EndSection
{% endif %}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell">{{ ansible_managed_file | comment }}

Section <span style="color: #4E9A06;">"ServerLayout"</span>
    Identifier     <span style="color: #4E9A06;">"Layout0"</span>
    Screen      0  <span style="color: #4E9A06;">"Screen0"</span>
    {% if xorg.best_tv_mode.secondary is defined %}
    Screen      1  <span style="color: #4E9A06;">"Screen1"</span> RightOf <span style="color: #4E9A06;">"Screen0"</span>
    {% endif %}
    InputDevice    <span style="color: #4E9A06;">"Keyboard0"</span> <span style="color: #4E9A06;">"CoreKeyboard"</span>
    InputDevice    <span style="color: #4E9A06;">"Mouse0"</span> <span style="color: #4E9A06;">"CorePointer"</span>
EndSection

Section <span style="color: #4E9A06;">"InputDevice"</span>
    <span style="color: #204A87;"># </span><span style="color: #204A87;">generated from default</span>
    Identifier     <span style="color: #4E9A06;">"Mouse0"</span>
    Driver         <span style="color: #4E9A06;">"mouse"</span>
    Option         <span style="color: #4E9A06;">"Protocol"</span> <span style="color: #4E9A06;">"auto"</span>
    Option         <span style="color: #4E9A06;">"Device"</span> <span style="color: #4E9A06;">"/dev/psaux"</span>
    Option         <span style="color: #4E9A06;">"Emulate3Buttons"</span> <span style="color: #4E9A06;">"no"</span>
    Option         <span style="color: #4E9A06;">"ZAxisMapping"</span> <span style="color: #4E9A06;">"4 5"</span>
EndSection

<span style="color: #204A87;"># </span><span style="color: #204A87;">ignore devices with eventlircd tag </span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">ENV{ID_INPUT.tags}+="eventlircd"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">must be set by an udev rule</span>
Section <span style="color: #4E9A06;">"InputClass"</span>
    Identifier <span style="color: #4E9A06;">"ignore eventlircd devices"</span>
    MatchTag <span style="color: #4E9A06;">"eventlircd"</span>
    Option <span style="color: #4E9A06;">"Ignore"</span> <span style="color: #4E9A06;">"True"</span>
EndSection



Section <span style="color: #4E9A06;">"InputDevice"</span>
    <span style="color: #204A87;"># </span><span style="color: #204A87;">generated from default</span>
    Identifier     <span style="color: #4E9A06;">"Keyboard0"</span>
    Driver         <span style="color: #4E9A06;">"kbd"</span>
EndSection


Section <span style="color: #4E9A06;">"Monitor"</span>
    Identifier     <span style="color: #4E9A06;">"Monitor0"</span>
    VendorName     <span style="color: #4E9A06;">"Unknown"</span>
    ModelName      <span style="color: #4E9A06;">"Unknown"</span>
{# TODO: VGA2SCART support (<span style="color: #A52A2A; font-weight: bold;">if</span> needed)
{% if system.x11.display.0.default == <span style="color: #4E9A06;">"VGA2Scart_4_3"</span> or system.x11.display.0.default == <span style="color: #4E9A06;">"VGA2Scart_16_9"</span> %}
    HorizSync       14-17
    VertRefresh     49-61
    {% if system.x11.display.0.default == <span style="color: #4E9A06;">"VGA2Scart_4_3"</span> %}
    Modeline <span style="color: #4E9A06;">"VGA2Scart_4_3"</span> 13.875 720 744 808 888 576 580 585 625 -HSync -Vsync interlace
    {% elif system.x11.display.0.default == <span style="color: #4E9A06;">"VGA2Scart_16_9"</span> %}
    Modeline <span style="color: #4E9A06;">"VGA2Scart_16_9"</span> 19 1024 1032 1120 1216 576 581 586 625 -Hsync -Vsync interlace
    {% endif %}
{% endif %}
<span style="color: #204A87;">#</span><span style="color: #204A87;">}</span>
    Option         <span style="color: #4E9A06;">"DPMS"</span>
    Option         <span style="color: #4E9A06;">"ExactModeTimingsDVI"</span> <span style="color: #4E9A06;">"True"</span>
EndSection


{% if xrandr.best_tv_mode.secondary is defined %}
Section <span style="color: #4E9A06;">"Monitor"</span>
    Identifier     <span style="color: #4E9A06;">"Monitor1"</span>
    VendorName     <span style="color: #4E9A06;">"Unknown"</span>
    ModelName      <span style="color: #4E9A06;">"Unknown"</span>
{#
{% if system.x11.display.1.default<span style="color: #A52A2A; font-weight: bold;"> in</span> (<span style="color: #4E9A06;">"VGA2Scart_4_3"</span>,  <span style="color: #4E9A06;">"VGA2Scart_16_9"</span>) %}
    HorizSync       14-17
    VertRefresh     49-61
    {% if system.x11.display.1.default == <span style="color: #4E9A06;">"VGA2Scart_4_3"</span> %}
    Modeline <span style="color: #4E9A06;">"VGA2Scart_4_3"</span> 13.875 720 744 808 888 576 580 585 625 -HSync -Vsync interlace
    {% elif system.x11.display.1.default == <span style="color: #4E9A06;">"VGA2Scart_16_9"</span> %}
    Modeline <span style="color: #4E9A06;">"VGA2Scart_16_9"</span> 19 1024 1032 1120 1216 576 581 586 625 -Hsync -Vsync interlace
    {% endif %}
    Option         <span style="color: #4E9A06;">"DPMS"</span>
    Option         <span style="color: #4E9A06;">"ExactModeTimingsDVI"</span> <span style="color: #4E9A06;">"True"</span>
{% endif %}
<span style="color: #204A87;">#</span><span style="color: #204A87;">}</span>
EndSection
{% endif %}

Section <span style="color: #4E9A06;">"Device"</span>
    Identifier     <span style="color: #4E9A06;">"Device0"</span>
{% if system.hardware.nvidia.detected %}
    Driver         <span style="color: #4E9A06;">"nvidia"</span>
    VendorName     <span style="color: #4E9A06;">"NVIDIA Corporation"</span>
{% endif %}
    Screen          0
    Option         <span style="color: #4E9A06;">"DPI"</span> <span style="color: #4E9A06;">"100x100"</span>
{% if system.hardware.nvidia.busid is defined and system.hardware.busid %}
    BusID          <span style="color: #4E9A06;">"PCI: {{ system.hardware.nvidia.busid }}"</span>
{% endif %}
    Option         <span style="color: #4E9A06;">"NoLogo"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"UseEvents"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"TripleBuffer"</span> <span style="color: #4E9A06;">"False"</span>
    Option         <span style="color: #4E9A06;">"AddARGBGLXVisuals"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"TwinView"</span> <span style="color: #4E9A06;">"0"</span>
    Option         <span style="color: #4E9A06;">"DynamicTwinView"</span> <span style="color: #4E9A06;">"0"</span>
    Option         <span style="color: #4E9A06;">"OnDemandVBlankinterrupts"</span> <span style="color: #4E9A06;">"on"</span>
    Option         <span style="color: #4E9A06;">"FlatPanelProperties"</span> <span style="color: #4E9A06;">"Scaling = Native"</span>
EndSection

{% if xrandr.best_tv_mode.secondary is defined %}
Section <span style="color: #4E9A06;">"Device"</span>
    Identifier     <span style="color: #4E9A06;">"Device1"</span>
    {% if system.hardware.nvidia.detected %}
    Driver         <span style="color: #4E9A06;">"nvidia"</span>
    VendorName     <span style="color: #4E9A06;">"NVIDIA Corporation"</span>
    {% endif %}
    Screen          1
    {% if system.hardware.nvidia.busid is defined and system.hardware.nvidia.busid %}
    BusID          <span style="color: #4E9A06;">"PCI: {{ system.hardware.nvidia.busid }}"</span>
    {% endif %}
    Option         <span style="color: #4E9A06;">"NoLogo"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"UseEvents"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"TripleBuffer"</span> <span style="color: #4E9A06;">"False"</span>
    Option         <span style="color: #4E9A06;">"AddARGBGLXVisuals"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"TwinView"</span> <span style="color: #4E9A06;">"0"</span>
    Option         <span style="color: #4E9A06;">"DynamicTwinView"</span> <span style="color: #4E9A06;">"0"</span>
EndSection
{% endif %}


Section <span style="color: #4E9A06;">"Screen"</span>
    Identifier     <span style="color: #4E9A06;">"Screen0"</span>
    Device         <span style="color: #4E9A06;">"Device0"</span>
    Monitor        <span style="color: #4E9A06;">"Monitor0"</span>
    DefaultDepth    24
    SubSection     <span style="color: #4E9A06;">"Display"</span>
        Depth       24
{% if xrandr.best_tv_mode.primary is defined %}
        Modes      <span style="color: #4E9A06;">"{{ xrandr.best_tv_mode.primary.mode }}"</span>{#{% for mode<span style="color: #A52A2A; font-weight: bold;"> in</span> xrandr %}{% if mode != system.x11.display.0.default %} <span style="color: #4E9A06;">"{{ mode }}"</span>{% endif %}{% endfor %}#} nvidia-auto-select

{% elif system.hardware.nvidia.detected == 1 %}
        Modes      <span style="color: #4E9A06;">"nvidia-auto-select"</span>
{% endif %}
    EndSubSection
{% if system.x11.display.0.default or system.x11.default %}
    {% if system.x11.display.0.device is definded and system.x11.display.0.device %}
    Option         <span style="color: #4E9A06;">"ConnectedMonitor"</span> {{ system.x11.display.0.device }}
    {% else %}
    Option         <span style="color: #4E9A06;">"ConnectedMonitor"</span> {{ system.x11.default }}
    {% endif %}
    <span style="color: #204A87;">#     </span><span style="color: #204A87;">Option         "ConnectedMonitor" "&lt;?cs if:(?system.x11.display.0.device) ?&gt;&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;&lt;?cs else ?&gt;&lt;?cs var:system.x11.default ?&gt;&lt;?cs /if ?&gt;&lt;?cs if:(?system.x11.dualhead.enabled &amp;&amp; system.x11.dualhead.enabled == 1) ?&gt;, &lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;&lt;?cs /if ?&gt;"</span>
    <span style="color: #204A87;">#</span><span style="color: #204A87;">Option         "ConnectedMonitor"</span>
    <span style="color: #4E9A06;">"&lt;?cs if:(?system.x11.display.0.device) ?&gt;</span>
<span style="color: #4E9A06;">          &lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;</span>
<span style="color: #4E9A06;">     &lt;?cs else ?&gt;</span>
<span style="color: #4E9A06;">          &lt;?cs var:system.x11.default ?&gt;</span>
<span style="color: #4E9A06;">     &lt;?cs /if ?&gt;</span>
<span style="color: #4E9A06;">     &lt;?cs if:(?system.x11.dualhead.enabled &amp;&amp; system.x11.dualhead.enabled == 1) ?&gt;, &lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;&lt;?cs /if ?&gt;"</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option         "UseDisplayDevice" "&lt;?cs if:(?system.x11.display.0.device) ?&gt;&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;&lt;?cs else ?&gt;&lt;?cs var:system.x11.default ?&gt;&lt;?cs /if ?&gt;"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs /if ?&gt;</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs if:(?system.hardware.nvidia.0.edid &amp;&amp; system.hardware.nvidia.0.edid == "1") ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option         "CustomEDID" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;:/etc/X11/edid.0.yavdr"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs /if ?&gt;</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs if:(system.hardware.nvidia.detected == 1 &amp;&amp; ?system.x11.display.0.device) ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;: &lt;?cs var:system.x11.display.0.default ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.0.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.0.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusy ?&gt; }"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs each:mode = system.x11.display.0.mode ?&gt;&lt;?cs if:(mode != system.x11.display.0.default) ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;: &lt;?cs var:mode ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.0.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.0.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusy ?&gt; }"&lt;?cs /if ?&gt;&lt;?cs /each ?&gt; </span>
{% endif %}
EndSection

{% if system.x11.dualhead.enabled == <span style="color: #4E9A06;">"1"</span> %}
Section <span style="color: #4E9A06;">"Screen"</span>

     Identifier     <span style="color: #4E9A06;">"Screen1"</span>
     Device         <span style="color: #4E9A06;">"Device1"</span>
     Monitor        <span style="color: #4E9A06;">"Monitor1"</span>
     DefaultDepth    24
     SubSection     <span style="color: #4E9A06;">"Display"</span>
         Depth       24
{% if system.x11.display.0.default is defined and system.x11.display.0.default %}
         Modes      <span style="color: #4E9A06;">"{{ system.x11.display.1.default }}"</span>{% for mode<span style="color: #A52A2A; font-weight: bold;"> in</span> system.x11.display.1.mode %}{% if mode != system.x11.display.1.default %} <span style="color: #4E9A06;">"{{ mode }}"</span>{% endif %}{% endfor %}

{% elif system.hardware.nvidia.detected == <span style="color: #4E9A06;">"1"</span> %}
         Modes      <span style="color: #4E9A06;">"nvidia-auto-select"</span>
{% endif %}
      EndSubSection

<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs if:(?system.x11.display.1.default &amp;&amp; system.x11.display.1.default != "" &amp;&amp; system.x11.display.1.default != "disabled") ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option         "UseDisplayDevice" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs /if ?&gt;</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs if:(?system.hardware.nvidia.1.edid &amp;&amp; system.hardware.nvidia.1.edid == "1") ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option         "CustomEDID" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;:/etc/X11/edid.1.yavdr"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs /if ?&gt;</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs if:(system.hardware.nvidia.detected == 1 &amp;&amp; ?system.x11.display.1.device) ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;: &lt;?cs var:system.x11.display.1.default ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.1.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.1.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusy ?&gt; }"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs each:mode = system.x11.display.1.mode ?&gt;&lt;?cs if:(mode != system.x11.display.1.default) ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;: &lt;?cs var:mode ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.1.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.1.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusy ?&gt; }"&lt;?cs /if ?&gt;&lt;?cs /each ?&gt;</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs /if ?&gt;</span>
EndSection
{% endif %}
</pre>
</div>
</div></li></ol></li>
<li><a id="org68568dc"></a>vdr<br /><div class="outline-text-5" id="text-8-9-4-2">
<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #2F8B58; font-weight: bold;">Service</span>]
<span style="color: #0084C8; font-weight: bold;">Environment</span>=XDG_RUNTIME_DIR=/run/user/{{ vdr.uid }}/
<span style="color: #0084C8; font-weight: bold;">EnvironmentFile</span>=-/var/lib/vdr/.session-env
</pre>
</div>
</div></li>
<li><a id="orgf8cc046"></a>Systemd User Session<br /><ol class="org-ol"><li><a id="org41a2f96"></a>yavdr-desktop.target<br /><div class="outline-text-6" id="text-8-9-4-3-1">
<div class="org-src-container">
<pre class="src src-shell">[Unit]
<span style="color: #0084C8; font-weight: bold;">Description</span>=yaVDR Desktop
<span style="color: #0084C8; font-weight: bold;">Requires</span>=default.target
<span style="color: #0084C8; font-weight: bold;">After</span>=default.target pulseaudio.service
<span style="color: #0084C8; font-weight: bold;">Wants</span>=dbus.service pulseaudio.service
<span style="color: #0084C8; font-weight: bold;">AllowIsolate</span>=yes
</pre>
</div>
</div></li>

<li><a id="org77aa972"></a>detect-second-display<br /><div class="outline-text-6" id="text-8-9-4-3-2">
<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #2F8B58; font-weight: bold;">Unit</span>]
<span style="color: #0084C8; font-weight: bold;">Description</span>=Detect second DISPLAY using xrandr

[<span style="color: #2F8B58; font-weight: bold;">Service</span>]
<span style="color: #0084C8; font-weight: bold;">Type</span>=oneshot
<span style="color: #0084C8; font-weight: bold;">ExecStart</span>=/bin/bash -c <span style="color: #4E9A06;">'export DISPLAY=$DISPLAY.1; xrandr -q | grep "connected" &amp;&amp; echo "DISPLAY=$DISPLAY" &gt; ~/.second_display || rm -f ~/.second_display'</span>

[<span style="color: #2F8B58; font-weight: bold;">Install</span>]
<span style="color: #0084C8; font-weight: bold;">WantedBy</span>=yavdr-desktop.target
</pre>
</div>
</div></li>
<li><a id="org0f7a061"></a>openbox-second.service<br /><div class="outline-text-6" id="text-8-9-4-3-3">
<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #2F8B58; font-weight: bold;">Unit</span>]
<span style="color: #0084C8; font-weight: bold;">Description</span>=Start openbox on the second DISPLAY if it exists
<span style="color: #0084C8; font-weight: bold;">After</span>=detect-second-display.service
<span style="color: #0084C8; font-weight: bold;">Wants</span>=detect-second-display.service
<span style="color: #0084C8; font-weight: bold;">Before</span>=yavdr-frontend.service
<span style="color: #0084C8; font-weight: bold;">ConditionFileNotEmpty</span>=%h/.second_display

[<span style="color: #2F8B58; font-weight: bold;">Service</span>]
<span style="color: #0084C8; font-weight: bold;">PassEnvironment</span>=XDG_RUNTIME_DIR DBUS_SESSION_BUS_ADDRESS
<span style="color: #0084C8; font-weight: bold;">EnvironmentFile</span>=%h/.second_display
<span style="color: #0084C8; font-weight: bold;">ExecStart</span>=/usr/bin/openbox --config-file %h/.config/openbox/rc.xml

[<span style="color: #2F8B58; font-weight: bold;">Install</span>]
<span style="color: #0084C8; font-weight: bold;">WantedBy</span>=yavdr-desktop.target
</pre>
</div>
</div></li>
<li><a id="orgb6159d2"></a>osd2web.service<br /><div class="outline-text-6" id="text-8-9-4-3-4">
<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #2F8B58; font-weight: bold;">Unit</span>]
<span style="color: #0084C8; font-weight: bold;">Description</span>=Start a kiosk browser on the second DISPLAY if it exists
<span style="color: #0084C8; font-weight: bold;">After</span>=detect-second-display.service openbox-second.service
<span style="color: #0084C8; font-weight: bold;">Wants</span>=detect-second-display.service openbox-second.service
<span style="color: #0084C8; font-weight: bold;">ConditionFileNotEmpty</span>=%h/.second_display

[<span style="color: #2F8B58; font-weight: bold;">Service</span>]
<span style="color: #0084C8; font-weight: bold;">EnvironmentFile</span>=%h/.second_display
<span style="color: #0084C8; font-weight: bold;">PassEnvironment</span>=XDG_RUNTIME_DIR DBUS_SESSION_BUS_ADDRESS
<span style="color: #0084C8; font-weight: bold;">ExecStart</span>=/usr/bin/on_vdr -o -c <span style="color: #4E9A06;">'kiosk-browser "http://localhost:4444/skins/horchiTft/index.html?theme=blue&amp;onlyView=1"'</span>
<span style="color: #0084C8; font-weight: bold;">KillSignal</span>=SIGINT

[<span style="color: #2F8B58; font-weight: bold;">Install</span>]
<span style="color: #0084C8; font-weight: bold;">WantedBy</span>=yavdr-desktop.target
</pre>
</div>
</div></li>
<li><a id="orgc42fc8f"></a>tmux.service<br /><div class="outline-text-6" id="text-8-9-4-3-5">
<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #2F8B58; font-weight: bold;">Unit</span>]
<span style="color: #0084C8; font-weight: bold;">Description</span>=Start tmux in detached session

[<span style="color: #2F8B58; font-weight: bold;">Service</span>]
<span style="color: #0084C8; font-weight: bold;">EnvironmentFile</span>=-%h/.session-env
<span style="color: #0084C8; font-weight: bold;">Type</span>=forking
<span style="color: #0084C8; font-weight: bold;">ExecStart</span>=/usr/bin/tmux new-session -s use-session -d
<span style="color: #0084C8; font-weight: bold;">ExecStop</span>=/usr/bin/tmux kill-session -t %u
<span style="color: #0084C8; font-weight: bold;">Restart</span>=always

[<span style="color: #2F8B58; font-weight: bold;">Install</span>]
<span style="color: #0084C8; font-weight: bold;">WantedBy</span>=default.target
</pre>
</div>
</div></li>
<li><a id="org43748d7"></a>wm-exit.service<br /><div class="outline-text-6" id="text-8-9-4-3-6">
<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #2F8B58; font-weight: bold;">Unit</span>]
<span style="color: #0084C8; font-weight: bold;">Description</span>=exit window manager gracefully

[<span style="color: #2F8B58; font-weight: bold;">Service</span>]
<span style="color: #0084C8; font-weight: bold;">ExecStart</span>=/bin/true
<span style="color: #0084C8; font-weight: bold;">ExecStop</span>=/usr/bin/openbox --exit
<span style="color: #0084C8; font-weight: bold;">RemainAfterExit</span>=True

[<span style="color: #2F8B58; font-weight: bold;">Install</span>]
<span style="color: #0084C8; font-weight: bold;">WantedBy</span>=default.target
</pre>
</div>
</div></li></ol></li>
<li><a id="org4746cec"></a>openbox<br /><ol class="org-ol"><li><a id="org11cf7e3"></a>autostart<br /><div class="outline-text-6" id="text-8-9-4-4-1">
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #204A87;"># </span><span style="color: #204A87;">forward environment variables to an environment file and the systemd user session</span>
env | grep <span style="color: #4E9A06;">"DISPLAY\|DBUS_SESSION_BUS_ADDRESS\|XDG_RUNTIME_DIR"</span> &gt; ~/.session-env
systemctl --user import-environment DISPLAY XAUTHORITY XDG_RUNTIME_DIR DBUS_SESSION_BUS_ADDRESS

<span style="color: #0084C8; font-weight: bold;">enabled_services</span>=(
    <span style="color: #4E9A06;">"tmux.service"</span> <span style="color: #4E9A06;">"detect-second-display.service"</span>
    <span style="color: #4E9A06;">"openbox-second.service"</span> <span style="color: #4E9A06;">"osd2web.service"</span>
    <span style="color: #4E9A06;">"yavdr-frontend.service"</span> <span style="color: #4E9A06;">"pulseaudio.socket"</span>
    <span style="color: #4E9A06;">"pulseaudio.service"</span> <span style="color: #4E9A06;">"wm-exit.service"</span>)
<span style="color: #0084C8; font-weight: bold;">disabled_services</span>=()

<span style="color: #204A87;"># </span><span style="color: #204A87;">enable configured services for the user session</span>
<span style="color: #A52A2A; font-weight: bold;">for</span> service<span style="color: #A52A2A; font-weight: bold;"> in</span> <span style="color: #4E9A06;">"${enabled_services[@]}"</span>; <span style="color: #A52A2A; font-weight: bold;">do</span>
  systemctl --user enable <span style="color: #4E9A06;">"$service"</span>
<span style="color: #A52A2A; font-weight: bold;">done</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">disable unwanted services for the user session</span>
<span style="color: #A52A2A; font-weight: bold;">for</span> service<span style="color: #A52A2A; font-weight: bold;"> in</span> <span style="color: #4E9A06;">"${disabled_services[@]}"</span>; <span style="color: #A52A2A; font-weight: bold;">do</span>
  systemctl --user disable <span style="color: #4E9A06;">"$service"</span>
<span style="color: #A52A2A; font-weight: bold;">done</span>

<span style="color: #A52A2A; font-weight: bold;">if</span> which dbus-update-activation-environment &gt;/dev/null 2&gt;&amp;1; <span style="color: #A52A2A; font-weight: bold;">then</span>
        dbus-update-activation-environment DISPLAY XAUTHORITY XDG_RUNTIME_DIR
<span style="color: #A52A2A; font-weight: bold;">fi</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">start systemd units for the yavdr user session</span>
systemctl --user isolate yavdr-desktop.target
</pre>
</div>
</div></li>
<li><a id="org38af488"></a>rc.xml<br /><div class="outline-text-6" id="text-8-9-4-4-2">
<div class="org-src-container">
<pre class="src src-xml">&lt;?<span style="color: #A52A2A; font-weight: bold;">xml</span> <span style="color: #0084C8; font-weight: bold;">version</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">1.0</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">encoding</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">UTF-8</span><span style="color: #4E9A06;">"</span>?&gt;
&lt;<span style="color: #00578E; font-weight: bold;">openbox_config</span> <span style="color: #A020F0;">xmlns</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">http://openbox.org/3.4/rc</span><span style="color: #4E9A06;">"</span> <span style="color: #A020F0;">xmlns</span>:<span style="color: #0084C8; font-weight: bold;">xi</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">http://www.w3.org/2001/XInclude</span><span style="color: #4E9A06;">"</span>&gt;
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Do not edit this file, it will be overwritten on install.</span>
<span style="color: #204A87;">        Copy the file to $HOME/.config/openbox/ instead. </span><span style="color: #204A87;">--&gt;</span>
  &lt;<span style="color: #00578E; font-weight: bold;">resistance</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">strength</span>&gt;10&lt;/<span style="color: #00578E; font-weight: bold;">strength</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">screen_edge_strength</span>&gt;20&lt;/<span style="color: #00578E; font-weight: bold;">screen_edge_strength</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">resistance</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">focus</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">focusNew</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">focusNew</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> always try to focus new windows when they appear. other rules do</span>
<span style="color: #204A87;">       apply </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">followMouse</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">followMouse</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> move focus to a window when you move the mouse into it </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">focusLast</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">focusLast</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> focus the last used window when changing desktops, instead of the one</span>
<span style="color: #204A87;">       under the mouse pointer. when followMouse is enabled </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">underMouse</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">underMouse</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> move focus under the mouse, even when the mouse is not moving </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">focusDelay</span>&gt;200&lt;/<span style="color: #00578E; font-weight: bold;">focusDelay</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> when followMouse is enabled, the mouse must be inside the window for</span>
<span style="color: #204A87;">       this many milliseconds (1000 = 1 sec) before moving focus to it </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">raiseOnFocus</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">raiseOnFocus</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> when followMouse is enabled, and a window is given focus by moving the</span>
<span style="color: #204A87;">       mouse into it, also raise the window </span><span style="color: #204A87;">--&gt;</span>
  &lt;/<span style="color: #00578E; font-weight: bold;">focus</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">placement</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">policy</span>&gt;Smart&lt;/<span style="color: #00578E; font-weight: bold;">policy</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'Smart' or 'UnderMouse' </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">center</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">center</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> whether to place windows in the center of the free area found or</span>
<span style="color: #204A87;">       the top left corner </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">monitor</span>&gt;Active&lt;/<span style="color: #00578E; font-weight: bold;">monitor</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> with Smart placement on a multi-monitor system, try to place new windows</span>
<span style="color: #204A87;">       on: 'Any' - any monitor, 'Mouse' - where the mouse is, 'Active' - where</span>
<span style="color: #204A87;">       the active window is, 'Primary' - only on the primary monitor </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">primaryMonitor</span>&gt;Active&lt;/<span style="color: #00578E; font-weight: bold;">primaryMonitor</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> The monitor where Openbox should place popup dialogs such as the</span>
<span style="color: #204A87;">       focus cycling popup, or the desktop switch popup.  It can be an index</span>
<span style="color: #204A87;">       from 1, specifying a particular monitor.  Or it can be one of the</span>
<span style="color: #204A87;">       following: 'Mouse' - where the mouse is, or</span>
<span style="color: #204A87;">                  'Active' - where the active window is </span><span style="color: #204A87;">--&gt;</span>
  &lt;/<span style="color: #00578E; font-weight: bold;">placement</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">theme</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">name</span>&gt;Onyx&lt;/<span style="color: #00578E; font-weight: bold;">name</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">titleLayout</span>&gt;NLIMC&lt;/<span style="color: #00578E; font-weight: bold;">titleLayout</span>&gt;
    <span style="color: #204A87;">&lt;!--</span>
<span style="color: #204A87;">      available characters are NDSLIMC, each can occur at most once.</span>
<span style="color: #204A87;">      N: window icon</span>
<span style="color: #204A87;">      L: window label (AKA title).</span>
<span style="color: #204A87;">      I: iconify</span>
<span style="color: #204A87;">      M: maximize</span>
<span style="color: #204A87;">      C: close</span>
<span style="color: #204A87;">      S: shade (roll up/down)</span>
<span style="color: #204A87;">      D: omnipresent (on all desktops).</span>
<span style="color: #204A87;">  </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">keepBorder</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">keepBorder</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">animateIconify</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">animateIconify</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">font</span> <span style="color: #0084C8; font-weight: bold;">place</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ActiveWindow</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">name</span>&gt;sans&lt;/<span style="color: #00578E; font-weight: bold;">name</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">size</span>&gt;8&lt;/<span style="color: #00578E; font-weight: bold;">size</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> font size in points </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">weight</span>&gt;bold&lt;/<span style="color: #00578E; font-weight: bold;">weight</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'bold' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">slant</span>&gt;normal&lt;/<span style="color: #00578E; font-weight: bold;">slant</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'italic' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
    &lt;/<span style="color: #00578E; font-weight: bold;">font</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">font</span> <span style="color: #0084C8; font-weight: bold;">place</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">InactiveWindow</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">name</span>&gt;sans&lt;/<span style="color: #00578E; font-weight: bold;">name</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">size</span>&gt;8&lt;/<span style="color: #00578E; font-weight: bold;">size</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> font size in points </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">weight</span>&gt;bold&lt;/<span style="color: #00578E; font-weight: bold;">weight</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'bold' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">slant</span>&gt;normal&lt;/<span style="color: #00578E; font-weight: bold;">slant</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'italic' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
    &lt;/<span style="color: #00578E; font-weight: bold;">font</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">font</span> <span style="color: #0084C8; font-weight: bold;">place</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">MenuHeader</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">name</span>&gt;sans&lt;/<span style="color: #00578E; font-weight: bold;">name</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">size</span>&gt;9&lt;/<span style="color: #00578E; font-weight: bold;">size</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> font size in points </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">weight</span>&gt;normal&lt;/<span style="color: #00578E; font-weight: bold;">weight</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'bold' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">slant</span>&gt;normal&lt;/<span style="color: #00578E; font-weight: bold;">slant</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'italic' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
    &lt;/<span style="color: #00578E; font-weight: bold;">font</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">font</span> <span style="color: #0084C8; font-weight: bold;">place</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">MenuItem</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">name</span>&gt;sans&lt;/<span style="color: #00578E; font-weight: bold;">name</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">size</span>&gt;9&lt;/<span style="color: #00578E; font-weight: bold;">size</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> font size in points </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">weight</span>&gt;normal&lt;/<span style="color: #00578E; font-weight: bold;">weight</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'bold' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">slant</span>&gt;normal&lt;/<span style="color: #00578E; font-weight: bold;">slant</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'italic' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
    &lt;/<span style="color: #00578E; font-weight: bold;">font</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">font</span> <span style="color: #0084C8; font-weight: bold;">place</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ActiveOnScreenDisplay</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">name</span>&gt;sans&lt;/<span style="color: #00578E; font-weight: bold;">name</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">size</span>&gt;9&lt;/<span style="color: #00578E; font-weight: bold;">size</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> font size in points </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">weight</span>&gt;bold&lt;/<span style="color: #00578E; font-weight: bold;">weight</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'bold' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">slant</span>&gt;normal&lt;/<span style="color: #00578E; font-weight: bold;">slant</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'italic' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
    &lt;/<span style="color: #00578E; font-weight: bold;">font</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">font</span> <span style="color: #0084C8; font-weight: bold;">place</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">InactiveOnScreenDisplay</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">name</span>&gt;sans&lt;/<span style="color: #00578E; font-weight: bold;">name</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">size</span>&gt;9&lt;/<span style="color: #00578E; font-weight: bold;">size</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> font size in points </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">weight</span>&gt;bold&lt;/<span style="color: #00578E; font-weight: bold;">weight</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'bold' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">slant</span>&gt;normal&lt;/<span style="color: #00578E; font-weight: bold;">slant</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'italic' or 'normal' </span><span style="color: #204A87;">--&gt;</span>
    &lt;/<span style="color: #00578E; font-weight: bold;">font</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">theme</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">desktops</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> this stuff is only used at startup, pagers allow you to change them</span>
<span style="color: #204A87;">       during a session</span>

<span style="color: #204A87;">       these are default values to use when other ones are not already set</span>
<span style="color: #204A87;">       by other applications, or saved in your session</span>

<span style="color: #204A87;">       use obconf if you want to change these without having to log out</span>
<span style="color: #204A87;">       and back in </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">number</span>&gt;2&lt;/<span style="color: #00578E; font-weight: bold;">number</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">firstdesk</span>&gt;1&lt;/<span style="color: #00578E; font-weight: bold;">firstdesk</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">names</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> set names up here if you want to, like this:</span>
<span style="color: #204A87;">    &lt;name&gt;desktop 1&lt;/name&gt;</span>
<span style="color: #204A87;">    &lt;name&gt;desktop 2&lt;/name&gt;</span>
<span style="color: #204A87;">    </span><span style="color: #204A87;">--&gt;</span>
    &lt;/<span style="color: #00578E; font-weight: bold;">names</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">popupTime</span>&gt;875&lt;/<span style="color: #00578E; font-weight: bold;">popupTime</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> The number of milliseconds to show the popup for when switching</span>
<span style="color: #204A87;">       desktops.  Set this to 0 to disable the popup. </span><span style="color: #204A87;">--&gt;</span>
  &lt;/<span style="color: #00578E; font-weight: bold;">desktops</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">resize</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">drawContents</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">drawContents</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">popupShow</span>&gt;Nonpixel&lt;/<span style="color: #00578E; font-weight: bold;">popupShow</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'Always', 'Never', or 'Nonpixel' (xterms and such) </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">popupPosition</span>&gt;Center&lt;/<span style="color: #00578E; font-weight: bold;">popupPosition</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'Center', 'Top', or 'Fixed' </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">popupFixedPosition</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> these are used if popupPosition is set to 'Fixed' </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">x</span>&gt;10&lt;/<span style="color: #00578E; font-weight: bold;">x</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> positive number for distance from left edge, negative number for</span>
<span style="color: #204A87;">         distance from right edge, or 'Center' </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">y</span>&gt;10&lt;/<span style="color: #00578E; font-weight: bold;">y</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> positive number for distance from top edge, negative number for</span>
<span style="color: #204A87;">         distance from bottom edge, or 'Center' </span><span style="color: #204A87;">--&gt;</span>
    &lt;/<span style="color: #00578E; font-weight: bold;">popupFixedPosition</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">resize</span>&gt;
  <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> You can reserve a portion of your screen where windows will not cover when</span>
<span style="color: #204A87;">     they are maximized, or when they are initially placed.</span>
<span style="color: #204A87;">     Many programs reserve space automatically, but you can use this in other</span>
<span style="color: #204A87;">     cases. </span><span style="color: #204A87;">--&gt;</span>
  &lt;<span style="color: #00578E; font-weight: bold;">margins</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">top</span>&gt;0&lt;/<span style="color: #00578E; font-weight: bold;">top</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">bottom</span>&gt;0&lt;/<span style="color: #00578E; font-weight: bold;">bottom</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">left</span>&gt;0&lt;/<span style="color: #00578E; font-weight: bold;">left</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">right</span>&gt;0&lt;/<span style="color: #00578E; font-weight: bold;">right</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">margins</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">dock</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">position</span>&gt;TopLeft&lt;/<span style="color: #00578E; font-weight: bold;">position</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> (Top|Bottom)(Left|Right|)|Top|Bottom|Left|Right|Floating </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">floatingX</span>&gt;0&lt;/<span style="color: #00578E; font-weight: bold;">floatingX</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">floatingY</span>&gt;0&lt;/<span style="color: #00578E; font-weight: bold;">floatingY</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">noStrut</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">noStrut</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">stacking</span>&gt;Above&lt;/<span style="color: #00578E; font-weight: bold;">stacking</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'Above', 'Normal', or 'Below' </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">direction</span>&gt;Vertical&lt;/<span style="color: #00578E; font-weight: bold;">direction</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'Vertical' or 'Horizontal' </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">autoHide</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">autoHide</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">hideDelay</span>&gt;300&lt;/<span style="color: #00578E; font-weight: bold;">hideDelay</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> in milliseconds (1000 = 1 second) </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">showDelay</span>&gt;300&lt;/<span style="color: #00578E; font-weight: bold;">showDelay</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> in milliseconds (1000 = 1 second) </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">moveButton</span>&gt;Middle&lt;/<span style="color: #00578E; font-weight: bold;">moveButton</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> 'Left', 'Middle', 'Right' </span><span style="color: #204A87;">--&gt;</span>
  &lt;/<span style="color: #00578E; font-weight: bold;">dock</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">keyboard</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">chainQuitKey</span>&gt;C-g&lt;/<span style="color: #00578E; font-weight: bold;">chainQuitKey</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Keybindings for desktop switching </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">C-A-Left</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;left&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">C-A-Right</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;right&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">C-A-Up</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;up&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">C-A-Down</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;down&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">S-A-Left</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">SendToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;left&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">S-A-Right</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">SendToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;right&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">S-A-Up</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">SendToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;up&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">S-A-Down</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">SendToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;down&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">wrap</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">W-F1</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;1&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">W-F2</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;2&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">W-F3</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;3&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">W-F4</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;4&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">W-d</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ToggleShowDesktop</span><span style="color: #4E9A06;">"</span>/&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Keybindings for windows </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-F4</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Close</span><span style="color: #4E9A06;">"</span>/&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Escape</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Lower</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">FocusToBottom</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unfocus</span><span style="color: #4E9A06;">"</span>/&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-space</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ShowMenu</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;client-menu&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Take a screenshot of the current window with scrot when Alt+Print are pressed </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Print</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Execute</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">command</span>&gt;scrot -s&lt;/<span style="color: #00578E; font-weight: bold;">command</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Keybindings for window switching </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Tab</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">NextWindow</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">finalactions</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">finalactions</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-S-Tab</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">PreviousWindow</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">finalactions</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">finalactions</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">C-A-Tab</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">NextWindow</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">panels</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">panels</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">desktop</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">desktop</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">finalactions</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">finalactions</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Keybindings for window switching with the arrow keys </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">W-S-Right</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">DirectionalCycleWindows</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">direction</span>&gt;right&lt;/<span style="color: #00578E; font-weight: bold;">direction</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">W-S-Left</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">DirectionalCycleWindows</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">direction</span>&gt;left&lt;/<span style="color: #00578E; font-weight: bold;">direction</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">W-S-Up</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">DirectionalCycleWindows</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">direction</span>&gt;up&lt;/<span style="color: #00578E; font-weight: bold;">direction</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">W-S-Down</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">DirectionalCycleWindows</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">direction</span>&gt;down&lt;/<span style="color: #00578E; font-weight: bold;">direction</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Keybindings for running applications </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">W-e</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Execute</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">startupnotify</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">enabled</span>&gt;true&lt;/<span style="color: #00578E; font-weight: bold;">enabled</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">name</span>&gt;Konqueror&lt;/<span style="color: #00578E; font-weight: bold;">name</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">startupnotify</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">command</span>&gt;kfmclient openProfile filemanagement&lt;/<span style="color: #00578E; font-weight: bold;">command</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Launch scrot when Print is pressed </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">keybind</span> <span style="color: #0084C8; font-weight: bold;">key</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Print</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Execute</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">command</span>&gt;scrot&lt;/<span style="color: #00578E; font-weight: bold;">command</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">keybind</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">keyboard</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">mouse</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">dragThreshold</span>&gt;1&lt;/<span style="color: #00578E; font-weight: bold;">dragThreshold</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> number of pixels the mouse must move before a drag begins </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">doubleClickTime</span>&gt;500&lt;/<span style="color: #00578E; font-weight: bold;">doubleClickTime</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> in milliseconds (1000 = 1 second) </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">screenEdgeWarpTime</span>&gt;400&lt;/<span style="color: #00578E; font-weight: bold;">screenEdgeWarpTime</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Time before changing desktops when the pointer touches the edge of the</span>
<span style="color: #204A87;">       screen while moving a window, in milliseconds (1000 = 1 second).</span>
<span style="color: #204A87;">       Set this to 0 to disable warping </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">screenEdgeWarpMouse</span>&gt;false&lt;/<span style="color: #00578E; font-weight: bold;">screenEdgeWarpMouse</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Set this to TRUE to move the mouse pointer across the desktop when</span>
<span style="color: #204A87;">       switching due to hitting the edge of the screen </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Frame</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Drag</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Move</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Right</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Right</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Drag</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Resize</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Middle</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Lower</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">FocusToBottom</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unfocus</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Up</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;previous&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Down</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;next&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">C-A-Up</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;previous&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">C-A-Down</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;next&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-S-Up</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">SendToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;previous&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-S-Down</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">SendToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;next&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Titlebar</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Drag</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Move</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">DoubleClick</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ToggleMaximize</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Up</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">if</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">shaded</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">shaded</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">then</span>&gt;
            &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Shade</span><span style="color: #4E9A06;">"</span>/&gt;
            &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">FocusToBottom</span><span style="color: #4E9A06;">"</span>/&gt;
            &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unfocus</span><span style="color: #4E9A06;">"</span>/&gt;
            &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Lower</span><span style="color: #4E9A06;">"</span>/&gt;
          &lt;/<span style="color: #00578E; font-weight: bold;">then</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Down</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">if</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">shaded</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">shaded</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">then</span>&gt;
            &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
            &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
          &lt;/<span style="color: #00578E; font-weight: bold;">then</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Titlebar Top Right Bottom Left TLCorner TRCorner BRCorner BLCorner</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Middle</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Lower</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">FocusToBottom</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unfocus</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Right</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ShowMenu</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;client-menu&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Top</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Drag</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Resize</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">edge</span>&gt;top&lt;/<span style="color: #00578E; font-weight: bold;">edge</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Drag</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Resize</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">edge</span>&gt;left&lt;/<span style="color: #00578E; font-weight: bold;">edge</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Right</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Drag</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Resize</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">edge</span>&gt;right&lt;/<span style="color: #00578E; font-weight: bold;">edge</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Bottom</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Drag</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Resize</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">edge</span>&gt;bottom&lt;/<span style="color: #00578E; font-weight: bold;">edge</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Right</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ShowMenu</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;client-menu&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">TRCorner BRCorner TLCorner BLCorner</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Drag</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Resize</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Client</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Middle</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Right</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Icon</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ShowMenu</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;client-menu&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Right</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ShowMenu</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;client-menu&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">AllDesktops</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ToggleOmnipresent</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Shade</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ToggleShade</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Iconify</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Iconify</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Maximize</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Middle</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Right</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ToggleMaximize</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Middle</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ToggleMaximize</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">direction</span>&gt;vertical&lt;/<span style="color: #00578E; font-weight: bold;">direction</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Right</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ToggleMaximize</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">direction</span>&gt;horizontal&lt;/<span style="color: #00578E; font-weight: bold;">direction</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Close</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Unshade</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Close</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Desktop</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Up</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;previous&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Down</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;next&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Up</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;previous&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Down</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;next&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">C-A-Up</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;previous&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">C-A-Down</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;next&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Left</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Right</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Focus</span><span style="color: #4E9A06;">"</span>/&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Raise</span><span style="color: #4E9A06;">"</span>/&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Root</span><span style="color: #4E9A06;">"</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Menus </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Middle</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ShowMenu</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;client-list-combined-menu&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Right</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Press</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">ShowMenu</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;root-menu&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">context</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">MoveResize</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Up</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;previous&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Down</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;next&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Up</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;previous&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mousebind</span> <span style="color: #0084C8; font-weight: bold;">button</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">A-Down</span><span style="color: #4E9A06;">"</span> <span style="color: #0084C8; font-weight: bold;">action</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">Click</span><span style="color: #4E9A06;">"</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">action</span> <span style="color: #0084C8; font-weight: bold;">name</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">GoToDesktop</span><span style="color: #4E9A06;">"</span>&gt;
          &lt;<span style="color: #00578E; font-weight: bold;">to</span>&gt;next&lt;/<span style="color: #00578E; font-weight: bold;">to</span>&gt;
        &lt;/<span style="color: #00578E; font-weight: bold;">action</span>&gt;
      &lt;/<span style="color: #00578E; font-weight: bold;">mousebind</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">context</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">mouse</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> You can specify more than one menu file in here and they are all loaded,</span>
<span style="color: #204A87;">       just don't make menu ids clash or, well, it'll be kind of pointless </span><span style="color: #204A87;">--&gt;</span>
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> default menu file (or custom one in $HOME/.config/openbox/) </span><span style="color: #204A87;">--&gt;</span>
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> system menu files on Debian systems </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">file</span>&gt;/var/lib/openbox/debian-menu.xml&lt;/<span style="color: #00578E; font-weight: bold;">file</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">file</span>&gt;menu.xml&lt;/<span style="color: #00578E; font-weight: bold;">file</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">hideDelay</span>&gt;200&lt;/<span style="color: #00578E; font-weight: bold;">hideDelay</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> if a press-release lasts longer than this setting (in milliseconds), the</span>
<span style="color: #204A87;">       menu is hidden again </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">middle</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">middle</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> center submenus vertically about the parent entry </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">submenuShowDelay</span>&gt;100&lt;/<span style="color: #00578E; font-weight: bold;">submenuShowDelay</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> time to delay before showing a submenu after hovering over the parent</span>
<span style="color: #204A87;">       entry.</span>
<span style="color: #204A87;">       if this is a negative value, then the delay is infinite and the</span>
<span style="color: #204A87;">       submenu will not be shown until it is clicked on </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">submenuHideDelay</span>&gt;400&lt;/<span style="color: #00578E; font-weight: bold;">submenuHideDelay</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> time to delay before hiding a submenu when selecting another</span>
<span style="color: #204A87;">       entry in parent menu</span>
<span style="color: #204A87;">       if this is a negative value, then the delay is infinite and the</span>
<span style="color: #204A87;">       submenu will not be hidden until a different submenu is opened </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">showIcons</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">showIcons</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> controls if icons appear in the client-list-(combined-)menu </span><span style="color: #204A87;">--&gt;</span>
    &lt;<span style="color: #00578E; font-weight: bold;">manageDesktops</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">manageDesktops</span>&gt;
    <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> show the manage desktops section in the client-list-(combined-)menu </span><span style="color: #204A87;">--&gt;</span>
  &lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
    <span style="color: #204A87;">&lt;!--</span>
<span style="color: #204A87;">  # this is an example with comments through out. use these to make your</span>
<span style="color: #204A87;">  # own rules, but without the comments of course.</span>
<span style="color: #204A87;">  # you may use one or more of the name/class/role/title/type rules to specify</span>
<span style="color: #204A87;">  # windows to match</span>

<span style="color: #204A87;">  &lt;application name="the window's _OB_APP_NAME property (see obxprop)"</span>
<span style="color: #204A87;">              class="the window's _OB_APP_CLASS property (see obxprop)"</span>
<span style="color: #204A87;">          groupname="the window's _OB_APP_GROUP_NAME property (see obxprop)"</span>
<span style="color: #204A87;">         groupclass="the window's _OB_APP_GROUP_CLASS property (see obxprop)"</span>
<span style="color: #204A87;">               role="the window's _OB_APP_ROLE property (see obxprop)"</span>
<span style="color: #204A87;">              title="the window's _OB_APP_TITLE property (see obxprop)"</span>
<span style="color: #204A87;">               type="the window's _OB_APP_TYPE property (see obxprob)..</span>
<span style="color: #204A87;">                      (if unspecified, then it is 'dialog' for child windows)"&gt;</span>
<span style="color: #204A87;">  # you may set only one of name/class/role/title/type, or you may use more</span>
<span style="color: #204A87;">  # than one together to restrict your matches.</span>

<span style="color: #204A87;">  # the name, class, role, and title use simple wildcard matching such as those</span>
<span style="color: #204A87;">  # used by a shell. you can use * to match any characters and ? to match</span>
<span style="color: #204A87;">  # any single character.</span>

<span style="color: #204A87;">  # the type is one of: normal, dialog, splash, utility, menu, toolbar, dock,</span>
<span style="color: #204A87;">  #    or desktop</span>

<span style="color: #204A87;">  # when multiple rules match a window, they will all be applied, in the</span>
<span style="color: #204A87;">  # order that they appear in this list</span>


<span style="color: #204A87;">    # each rule element can be left out or set to 'default' to specify to not </span>
<span style="color: #204A87;">    # change that attribute of the window</span>

<span style="color: #204A87;">    &lt;decor&gt;yes&lt;/decor&gt;</span>
<span style="color: #204A87;">    # enable or disable window decorations</span>

<span style="color: #204A87;">    &lt;shade&gt;no&lt;/shade&gt;</span>
<span style="color: #204A87;">    # make the window shaded when it appears, or not</span>

<span style="color: #204A87;">    &lt;position force="no"&gt;</span>
<span style="color: #204A87;">      # the position is only used if both an x and y coordinate are provided</span>
<span style="color: #204A87;">      # (and not set to 'default')</span>
<span style="color: #204A87;">      # when force is "yes", then the window will be placed here even if it</span>
<span style="color: #204A87;">      # says you want it placed elsewhere.  this is to override buggy</span>
<span style="color: #204A87;">      # applications who refuse to behave</span>
<span style="color: #204A87;">      &lt;x&gt;center&lt;/x&gt;</span>
<span style="color: #204A87;">      # a number like 50, or 'center' to center on screen. use a negative number</span>
<span style="color: #204A87;">      # to start from the right (or bottom for &lt;y&gt;), ie -50 is 50 pixels from</span>
<span style="color: #204A87;">      # the right edge (or bottom). use 'default' to specify using value</span>
<span style="color: #204A87;">      # provided by the application, or chosen by openbox, instead.</span>
<span style="color: #204A87;">      &lt;y&gt;200&lt;/y&gt;</span>
<span style="color: #204A87;">      &lt;monitor&gt;1&lt;/monitor&gt;</span>
<span style="color: #204A87;">      # specifies the monitor in a xinerama setup.</span>
<span style="color: #204A87;">      # 1 is the first head, or 'mouse' for wherever the mouse is</span>
<span style="color: #204A87;">    &lt;/position&gt;</span>

<span style="color: #204A87;">    &lt;size&gt;</span>
<span style="color: #204A87;">      # the size to make the window.</span>
<span style="color: #204A87;">      &lt;width&gt;20&lt;/width&gt;</span>
<span style="color: #204A87;">      # a number like 20, or 'default' to use the size given by the application.</span>
<span style="color: #204A87;">      # you can use fractions such as 1/2 or percentages such as 75% in which</span>
<span style="color: #204A87;">      # case the value is relative to the size of the monitor that the window</span>
<span style="color: #204A87;">      # appears on.</span>
<span style="color: #204A87;">      &lt;height&gt;30%&lt;/height&gt;</span>
<span style="color: #204A87;">    &lt;/size&gt;</span>

<span style="color: #204A87;">    &lt;focus&gt;yes&lt;/focus&gt;</span>
<span style="color: #204A87;">    # if the window should try be given focus when it appears. if this is set</span>
<span style="color: #204A87;">    # to yes it doesn't guarantee the window will be given focus. some</span>
<span style="color: #204A87;">    # restrictions may apply, but Openbox will try to</span>

<span style="color: #204A87;">    &lt;desktop&gt;1&lt;/desktop&gt;</span>
<span style="color: #204A87;">    # 1 is the first desktop, 'all' for all desktops</span>

<span style="color: #204A87;">    &lt;layer&gt;normal&lt;/layer&gt;</span>
<span style="color: #204A87;">    # 'above', 'normal', or 'below'</span>

<span style="color: #204A87;">    &lt;iconic&gt;no&lt;/iconic&gt;</span>
<span style="color: #204A87;">    # make the window iconified when it appears, or not</span>

<span style="color: #204A87;">    &lt;skip_pager&gt;no&lt;/skip_pager&gt;</span>
<span style="color: #204A87;">    # asks to not be shown in pagers</span>

<span style="color: #204A87;">    &lt;skip_taskbar&gt;no&lt;/skip_taskbar&gt;</span>
<span style="color: #204A87;">    # asks to not be shown in taskbars. window cycling actions will also</span>
<span style="color: #204A87;">    # skip past such windows</span>

<span style="color: #204A87;">    &lt;fullscreen&gt;yes&lt;/fullscreen&gt;</span>
<span style="color: #204A87;">    # make the window in fullscreen mode when it appears</span>

<span style="color: #204A87;">    &lt;maximized&gt;true&lt;/maximized&gt;</span>
<span style="color: #204A87;">    # 'Horizontal', 'Vertical' or boolean (yes/no)</span>
<span style="color: #204A87;">  &lt;/application&gt;</span>

<span style="color: #204A87;">  # end of the example</span>
<span style="color: #204A87;">--&gt;</span>
  &lt;<span style="color: #00578E; font-weight: bold;">applications</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">application</span> <span style="color: #0084C8; font-weight: bold;">title</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">softhddevice</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">decor</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">decor</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">maximized</span>&gt;true&lt;/<span style="color: #00578E; font-weight: bold;">maximized</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">skip_taskbar</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">skip_taskbar</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">application</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">application</span> <span style="color: #0084C8; font-weight: bold;">title</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">browser</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">decor</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">decor</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">maximized</span>&gt;true&lt;/<span style="color: #00578E; font-weight: bold;">maximized</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">skip_taskbar</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">skip_taskbar</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">application</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">application</span> <span style="color: #0084C8; font-weight: bold;">title</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">osd2Web</span><span style="color: #4E9A06;">"</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">decor</span>&gt;no&lt;/<span style="color: #00578E; font-weight: bold;">decor</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">maximized</span>&gt;true&lt;/<span style="color: #00578E; font-weight: bold;">maximized</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">skip_taskbar</span>&gt;yes&lt;/<span style="color: #00578E; font-weight: bold;">skip_taskbar</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">application</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">applications</span>&gt;
&lt;/<span style="color: #00578E; font-weight: bold;">openbox_config</span>&gt;

</pre>
</div>
</div></li></ol></li></ol>
</div>
</div>

<div id="outline-container-org3016514" class="outline-3">
<h3 id="org3016514"><span class="section-number-3">8.10</span> samba-install</h3>
<div class="outline-text-3" id="text-8-10">
</div><div id="outline-container-org7e38685" class="outline-4">
<h4 id="org7e38685"><span class="section-number-4">8.10.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-10-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/samba-install/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: install samba server
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - samba
    - samba-common
    - samba-common-bin
    - tdb-tools

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org62c2b38" class="outline-3">
<h3 id="org62c2b38"><span class="section-number-3">8.11</span> samba-config</h3>
<div class="outline-text-3" id="text-8-11">
</div><div id="outline-container-org9a02dfd" class="outline-4">
<h4 id="org9a02dfd"><span class="section-number-4">8.11.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-11-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/samba-config/tasks/main.yml</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">TODO:</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">- name: divert original smbd.conf</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: touch smb.conf.custom
  <span style="color: #0084C8; font-weight: bold;">file</span>:
    <span style="color: #0084C8; font-weight: bold;">state</span>: touch
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'/etc/samba/smb.conf.custom'</span>
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart Samba'</span> ]
    
- <span style="color: #0084C8; font-weight: bold;">name</span>: expand template for smb.conf
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: <span style="color: #4E9A06;">'templates/smb.conf.j2'</span>
    <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'/etc/samba/smb.conf'</span>
    <span style="color: #204A87;">#</span><span style="color: #204A87;">validate: 'testparm -s %s'</span>
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart Samba'</span> ]
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc19e2ae" class="outline-4">
<h4 id="orgc19e2ae"><span class="section-number-4">8.11.2</span> templates</h4>
<div class="outline-text-4" id="text-8-11-2">
</div><ol class="org-ol"><li><a id="orgad96907"></a>smb.conf<br /><ol class="org-ol"><li><a id="org2bcb7cd"></a>global settings<br /><div class="outline-text-6" id="text-8-11-2-1-1">
<div class="org-src-container">
<pre class="src src-yaml">{{ ansible_managed_file | comment }}

<span style="color: #204A87;">#</span><span style="color: #204A87;">======================= Global Settings =======================</span>

[global]

<span style="color: #204A87;">## </span><span style="color: #204A87;">Browsing/Identification ###</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">Change this to the workgroup/NT-domain name your Samba server will part of</span>
   workgroup = {{ samba.workgroup }}

<span style="color: #204A87;"># </span><span style="color: #204A87;">server string is the equivalent of the NT Description field</span>
   server string = %h server (Samba, Ubuntu)

<span style="color: #204A87;"># </span><span style="color: #204A87;">This will prevent nmbd to search for NetBIOS names through DNS.</span>
   dns proxy = no

<span style="color: #204A87;">#### </span><span style="color: #204A87;">Debugging/Accounting ####</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">This tells Samba to use a separate log file for each machine</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">that connects</span>
   log file = /var/log/samba/log.%m

<span style="color: #204A87;"># </span><span style="color: #204A87;">Cap the size of the individual log files (in KiB).</span>
   max log size = 1000

<span style="color: #204A87;"># </span><span style="color: #204A87;">We want Samba to log a minimum amount of information to syslog. Everything</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">should go to /var/log/samba/log.{smbd,nmbd} instead. If you want to log</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">through syslog you should set the following parameter to something higher.</span>
   syslog = 0

<span style="color: #204A87;"># </span><span style="color: #204A87;">Do something sensible when Samba crashes: mail the admin a backtrace</span>
   panic action = /usr/share/samba/panic-action %d


<span style="color: #204A87;">####### </span><span style="color: #204A87;">Authentication #######</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">"security = user" is always a good idea. This will require a Unix account</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">in this server for every user accessing the server. See</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">/usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/ServerType.html</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">in the samba-doc package for details.</span>
<span style="color: #204A87;">#   </span><span style="color: #204A87;">security = user</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">You may wish to use password encryption.  See the section on</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">'encrypt passwords' in the smb.conf(5) manpage before enabling.</span>
   encrypt passwords = true

<span style="color: #204A87;"># </span><span style="color: #204A87;">If you are using encrypted passwords, Samba will need to know what</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">password database type you are using.  </span>
   passdb backend = tdbsam

   obey pam restrictions = yes

<span style="color: #204A87;"># </span><span style="color: #204A87;">This boolean parameter controls whether Samba attempts to sync the Unix</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">password with the SMB password when the encrypted SMB password in the</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">passdb is changed.</span>
   unix password sync = yes

<span style="color: #204A87;"># </span><span style="color: #204A87;">For Unix password sync to work on a Debian GNU/Linux system, the following</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">parameters must be set (thanks to Ian Kahan &lt;<a href="mailto:kahan%40informatik.tu-muenchen.de">&lt;kahan@informatik.tu-muenchen.de&gt;</a> for</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">sending the correct chat script for the passwd program in Debian Sarge).</span>
   passwd program = /usr/bin/passwd %u
   passwd chat = <span style="color: #00578E; font-weight: bold;">*Enter</span>\snew\s*\spassword:* %n\n <span style="color: #00578E; font-weight: bold;">*Retype</span>\snew\s*\spassword:* %n\n <span style="color: #00578E; font-weight: bold;">*password</span>\supdated\ssuccessfully* .

<span style="color: #204A87;"># </span><span style="color: #204A87;">This boolean controls whether PAM will be used for password changes</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">when requested by an SMB client instead of the program listed in</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">'passwd program'. The default is 'no'.</span>
   pam password change = yes

<span style="color: #204A87;"># </span><span style="color: #204A87;">This option controls how unsuccessful authentication attempts are mapped </span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">to anonymous connections</span>
   map to guest = bad user

{% if samba.windows_compatible %}
<span style="color: #204A87;"># </span><span style="color: #204A87;">disable unix extensions and enable following symlinks</span>
   unix extensions = no
   follow symlinks= yes
   wide links= yes
{% endif %}
</pre>
</div>
</div></li>
<li><a id="org6680c05"></a>media directories<br /><div class="outline-text-6" id="text-8-11-2-1-2">
<div class="org-src-container">
<pre class="src src-yaml">{% for name, path in media_dirs.iteritems() %}
[{{ name }}]
   path = {{ path }}
   comment = {{ name }} on %h
   guest ok = yes
   writeable = yes
   browseable = yes
   create mode = 0664
   directory mode = 0775
   force user = {{ vdr.user }}
   force group = {{ vdr.group }}
   follow symlinks = yes
   wide links = yes

{% endfor %}
</pre>
</div>
</div></li>
<li><a id="orge1f36ae"></a>include custom samba exports<br /><div class="outline-text-6" id="text-8-11-2-1-3">
<div class="org-src-container">
<pre class="src src-yaml">include = /etc/samba/smb.conf.custom
</pre>
</div>
</div></li></ol></li></ol>
</div>
</div>
<div id="outline-container-org3cd2047" class="outline-3">
<h3 id="org3cd2047"><span class="section-number-3">8.12</span> <span class="todo STARTED">STARTED</span> autoinstall-drivers</h3>
<div class="outline-text-3" id="text-8-12">
<p>
It would be nice to be able to detect if it is suitable to install those drivers:
</p>
</div>
<div id="outline-container-orga08cd20" class="outline-4">
<h4 id="orga08cd20"><span class="section-number-4">8.12.1</span> <span class="todo TODO">TODO</span> sundtek for Sundtek devices (local or network connection)</h4>
<div class="outline-text-4" id="text-8-12-1">
<p>
Vendor-IDs:
</p>
<ul class="org-ul">
<li>eb1a:5[1b2] (alte Generation)</li>
<li>2659:*      (neuere Sticks)</li>
</ul>
</div>
</div>
<div id="outline-container-orgf1b6f7a" class="outline-4">
<h4 id="orgf1b6f7a"><span class="section-number-4">8.12.2</span> <span class="todo TODO">TODO</span> dddvb-dkms if only newer DD cards are detected</h4>
</div>
<div id="outline-container-orgbbf3618" class="outline-4">
<h4 id="orgbbf3618"><span class="section-number-4">8.12.3</span> <span class="todo TODO">TODO</span> media-build-experimental (up to kernel 4.8) for &bdquo;old&ldquo; cards like TT S2-6400 FF</h4>
</div>
<div id="outline-container-org4c80d76" class="outline-4">
<h4 id="org4c80d76"><span class="section-number-4">8.12.4</span> <span class="todo TODO">TODO</span> newly merged DD drivers</h4>
<div class="outline-text-4" id="text-8-12-4">
<p>
from <a href="http://www.vdr-portal.de/board18-vdr-hardware/board102-dvb-karten/120817-treiber-der-cine-ctv6-ddbridge-ci-in-den-kernel-integrieren/">http://www.vdr-portal.de/board18-vdr-hardware/board102-dvb-karten/120817-treiber-der-cine-ctv6-ddbridge-ci-in-den-kernel-integrieren/</a>
</p>
</div>
</div>
</div>

<div id="outline-container-orgd0265c6" class="outline-3">
<h3 id="orgd0265c6"><span class="section-number-3">8.13</span> autoinstall-ubuntu-drivers</h3>
<div class="outline-text-3" id="text-8-13">
<p>
The tool ubuntu-drivers is used to install the matching driver version for nvidia graphics cards, virtualbox guest additions and Intel and AMD microcode updates.
</p>
</div>
<div id="outline-container-org4139319" class="outline-4">
<h4 id="org4139319"><span class="section-number-4">8.13.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-13-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file roles/autoinstall-ubuntu-drivers/tasks/main.yml</span>
- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install ubuntu-drivers-common
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: ubuntu-drivers-common
    <span style="color: #0084C8; font-weight: bold;">state</span>: present

- <span style="color: #0084C8; font-weight: bold;">name</span>: ensure /etc/yavdr exists
  <span style="color: #0084C8; font-weight: bold;">file</span>:
    <span style="color: #0084C8; font-weight: bold;">path</span>: /etc/yavdr
    <span style="color: #0084C8; font-weight: bold;">state</span>: directory
    <span style="color: #0084C8; font-weight: bold;">mode</span>: 0755

- <span style="color: #0084C8; font-weight: bold;">name</span>: let ubuntu-drivers automatically install additional drivers
  <span style="color: #0084C8; font-weight: bold;">command</span>: ubuntu-drivers --package-list /etc/yavdr/autoinstalled autoinstall
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orga3ed379" class="outline-3">
<h3 id="orga3ed379"><span class="section-number-3">8.14</span> autoinstall-satip</h3>
<div class="outline-text-3" id="text-8-14">
<p>
If a Sat&gt;IP Server responds to a discovery request, the package vdr-plugin-satip is installed.
</p>
</div>
<div id="outline-container-org85d8964" class="outline-4">
<h4 id="org85d8964"><span class="section-number-4">8.14.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-14-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file roles/autoinstall-satip/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">"detect SAT&gt;IP Server(s) on the network"</span>
  <span style="color: #0084C8; font-weight: bold;">action</span>: satip_facts

- <span style="color: #0084C8; font-weight: bold;">debug</span>:
    <span style="color: #0084C8; font-weight: bold;">var</span>: satip_detected
    <span style="color: #0084C8; font-weight: bold;">verbosity</span>: 1

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install vdr-plugin-satip if a Sat&gt;IP server has been detected
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr-plugin-satip
  <span style="color: #0084C8; font-weight: bold;">when</span>: satip_detected
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org76654e9" class="outline-3">
<h3 id="org76654e9"><span class="section-number-3">8.15</span> autoinstall-targavfd</h3>
<div class="outline-text-3" id="text-8-15">
</div><div id="outline-container-orgf850126" class="outline-4">
<h4 id="orgf850126"><span class="section-number-4">8.15.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-15-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file roles/autoinstall-targavfd/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install vdr-plugin-targavfd if connected
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr-plugin-targavfd
  <span style="color: #0084C8; font-weight: bold;">when</span>: 
    - <span style="color: #4E9A06;">"19c2:6a11"</span> in usb
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org842db06" class="outline-3">
<h3 id="org842db06"><span class="section-number-3">8.16</span> autoinstall-imonlcd</h3>
<div class="outline-text-3" id="text-8-16">
</div><div id="outline-container-org6b1f590" class="outline-4">
<h4 id="org6b1f590"><span class="section-number-4">8.16.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-16-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file roles/autoinstall-imonlcd/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install vdr-plugin-imonlcd if connected
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr-plugin-imonlcd
  <span style="color: #0084C8; font-weight: bold;">when</span>: 
    - <span style="color: #4E9A06;">"15c2:0038"</span> in usb
    - <span style="color: #4E9A06;">"15c2:ffdc"</span> in usb
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org1a41b2b" class="outline-3">
<h3 id="org1a41b2b"><span class="section-number-3">8.17</span> autoinstall-libcecdaemon</h3>
<div class="outline-text-3" id="text-8-17">
</div><div id="outline-container-org03d2055" class="outline-4">
<h4 id="org03d2055"><span class="section-number-4">8.17.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-17-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file roles/autoinstall-libcec-daemon/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install libcec-daemon if connected
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: libcec-daemon
  <span style="color: #0084C8; font-weight: bold;">when</span>: 
    - <span style="color: #4E9A06;">"2548:1002"</span> in usb
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org8f63783" class="outline-3">
<h3 id="org8f63783"><span class="section-number-3">8.18</span> autoinstall-pvr350</h3>
<div class="outline-text-3" id="text-8-18">
</div><div id="outline-container-org5af538f" class="outline-4">
<h4 id="org5af538f"><span class="section-number-4">8.18.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-18-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file roles/autoinstall-pvr350/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install vdr-plugin-pvr350 if connected
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr-plugin-pvr350
  <span style="color: #0084C8; font-weight: bold;">when</span>: 
    - <span style="color: #4E9A06;">"0070:4000"</span> in pci
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org7f90e04" class="outline-3">
<h3 id="org7f90e04"><span class="section-number-3">8.19</span> autoinstall-hauppauge-pvr</h3>
<div class="outline-text-3" id="text-8-19">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file roles/autoinstall-hauppauge-pvr/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install vdr-plugin-pvrinput if a haupauge pvr card is found
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr-plugin-pvrinput
  <span style="color: #0084C8; font-weight: bold;">when</span>: 
    - <span style="color: #4E9A06;">"0070:4000"</span> in pci
    - <span style="color: #4E9A06;">"4444:0016"</span> in pci
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
<div id="outline-container-org1fc37fc" class="outline-3">
<h3 id="org1fc37fc"><span class="section-number-3">8.20</span> <span class="todo TODO">TODO</span> autoinstall-dvbhddevice</h3>
<div class="outline-text-3" id="text-8-20">
<p>
Problem: woher kommt der Treiber (AFAIK noch nicht im Kernel)? Die Firmware sollte in yavdr-firmware stecken
</p>
</div>
<div id="outline-container-org45cd791" class="outline-4">
<h4 id="org45cd791"><span class="section-number-4">8.20.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-20-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file roles/autoinstall-dvbhddevice/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install vdr-plugin-dvbhddevice if connected
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr-plugin-dvbhddevice
  <span style="color: #0084C8; font-weight: bold;">when</span>: 
    - <span style="color: #4E9A06;">'"13c2:300a" in pci'</span>
    - <span style="color: #4E9A06;">'"13c2:300b" in pci'</span>
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4a99940" class="outline-3">
<h3 id="org4a99940"><span class="section-number-3">8.21</span> autoinstall-dvbsddevice</h3>
<div class="outline-text-3" id="text-8-21">
</div><div id="outline-container-orge93e21d" class="outline-4">
<h4 id="orge93e21d"><span class="section-number-4">8.21.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-21-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file roles/autoinstall-dvbsddevice/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install vdr-plugin-dvbsddevice if module is loaded
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr-plugin-dvbsddevice
  <span style="color: #0084C8; font-weight: bold;">when</span>: 
    - <span style="color: #4E9A06;">'"dvb_ttpci" in modules'</span>
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgda8330a" class="outline-3">
<h3 id="orgda8330a"><span class="section-number-3">8.22</span> kodi</h3>
<div class="outline-text-3" id="text-8-22">
</div><div id="outline-container-orgf967b95" class="outline-4">
<h4 id="orgf967b95"><span class="section-number-4">8.22.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-22-1">
</div><ol class="org-ol"><li><a id="org6caead3"></a>Install KODI<br /><div class="outline-text-5" id="text-8-22-1-1">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">include</span>: install-kodi.yml tags=install,update,kodi:install
- <span style="color: #0084C8; font-weight: bold;">include</span>: configure-kodi.yml tags=install,update,kodi:configure
</pre>
</div>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install kodi packages
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - kodi
    - kodi-pvr-vdr-vnsi
    - kodi-eventclients-xbmc-send  
</pre>
</div>
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: create kodi.service for the user session
  <span style="color: #0084C8; font-weight: bold;">template</span>:
      <span style="color: #0084C8; font-weight: bold;">src</span>: <span style="color: #4E9A06;">'templates/kodi.service.j2'</span>
      <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.config/systemd/user/kodi.service'</span>
      <span style="color: #0084C8; font-weight: bold;">mode</span>: 0644
      <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
      <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: create kodi user directory
  <span style="color: #0084C8; font-weight: bold;">file</span>:
      <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/{{ item }}'</span>
      <span style="color: #0084C8; font-weight: bold;">state</span>: directory
      <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
      <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>
      <span style="color: #0084C8; font-weight: bold;">mode</span>: <span style="color: #4E9A06;">"0775"</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
      - .kodi
      - .kodi/userdata
      - .kodi/userdata/keymaps

- <span style="color: #0084C8; font-weight: bold;">name</span>: copy Lircmap.xml if it does not exist yet
  <span style="color: #0084C8; font-weight: bold;">copy</span>:
      <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.kodi/userdata/Lircmap.xml'</span>
      <span style="color: #0084C8; font-weight: bold;">src</span>: <span style="color: #4E9A06;">'files/userdata/Lircmap.xml'</span>
      <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
      <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>    
      <span style="color: #0084C8; font-weight: bold;">mode</span>: <span style="color: #4E9A06;">"0664"</span>
      <span style="color: #0084C8; font-weight: bold;">force</span>: <span style="color: #F5666D;">no</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: copy remote.xml if it does not exist yes
  <span style="color: #0084C8; font-weight: bold;">copy</span>:
      <span style="color: #0084C8; font-weight: bold;">dest</span>: <span style="color: #4E9A06;">'{{ vdr.home }}/.kodi/userdata/keymaps/remote.xml'</span>
      <span style="color: #0084C8; font-weight: bold;">src</span>: <span style="color: #4E9A06;">'files/userdata/keymaps/remote.xml'</span>
      <span style="color: #0084C8; font-weight: bold;">owner</span>: <span style="color: #4E9A06;">'{{ vdr.user }}'</span>
      <span style="color: #0084C8; font-weight: bold;">group</span>: <span style="color: #4E9A06;">'{{ vdr.group }}'</span>    
      <span style="color: #0084C8; font-weight: bold;">mode</span>: <span style="color: #4E9A06;">"0664"</span>
      <span style="color: #0084C8; font-weight: bold;">force</span>: <span style="color: #F5666D;">no</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">TODO: Add configuration files</span>
</pre>
</div>
</div></li></ol>
</div>
<div id="outline-container-org9e1d3b8" class="outline-4">
<h4 id="org9e1d3b8"><span class="section-number-4">8.22.2</span> templates</h4>
<div class="outline-text-4" id="text-8-22-2">
</div><ol class="org-ol"><li><a id="org42e67a1"></a>kodi.service<br /><div class="outline-text-5" id="text-8-22-2-1">
<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #2F8B58; font-weight: bold;">Unit</span>]
<span style="color: #0084C8; font-weight: bold;">Description</span>=Start kodi in user session

[<span style="color: #2F8B58; font-weight: bold;">Service</span>]
<span style="color: #0084C8; font-weight: bold;">Type</span>=simple
<span style="color: #0084C8; font-weight: bold;">PassEnvironment</span>=DISPLAY XDG_RUNTIME_DIR DBUS_SESSION_BUS_ADDRESS
<span style="color: #0084C8; font-weight: bold;">ExecStartPre</span>=-/usr/bin/set-kodi-display
<span style="color: #0084C8; font-weight: bold;">ExecStart</span>=/usr/bin/kodi -l /run/lirc/lircd
<span style="color: #0084C8; font-weight: bold;">ExecStop</span>=/bin/bash -c <span style="color: #4E9A06;">"/usr/bin/kodi-send --action=QUIT; while /usr/bin/pgrep kodi; do sleep 1;  done; sleep 1"</span>
<span style="color: #0084C8; font-weight: bold;">TimeoutStopSec</span>=10
<span style="color: #0084C8; font-weight: bold;">SuccessExitStatus</span>=0 127
<span style="color: #0084C8; font-weight: bold;">Restart</span>=on-failure
</pre>
</div>
</div></li></ol>
</div>
<div id="outline-container-orgdd4d135" class="outline-4">
<h4 id="orgdd4d135"><span class="section-number-4">8.22.3</span> files</h4>
<div class="outline-text-4" id="text-8-22-3">
</div><ol class="org-ol"><li><a id="org14843b4"></a>Lircmap.xml<br /><div class="outline-text-5" id="text-8-22-3-1">
<div class="org-src-container">
<pre class="src src-xml">&lt;<span style="color: #00578E; font-weight: bold;">lircmap</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span> <span style="color: #0084C8; font-weight: bold;">device</span>=<span style="color: #4E9A06;">"</span><span style="color: #4E9A06;">linux-input-layer</span><span style="color: #4E9A06;">"</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">altname</span>&gt;cx23885_remote&lt;/<span style="color: #00578E; font-weight: bold;">altname</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">altname</span>&gt;devinput&lt;/<span style="color: #00578E; font-weight: bold;">altname</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">up</span>&gt;KEY_UP&lt;/<span style="color: #00578E; font-weight: bold;">up</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">down</span>&gt;KEY_DOWN&lt;/<span style="color: #00578E; font-weight: bold;">down</span>&gt;
                &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;KEY_MENU&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">select</span>&gt;KEY_OK&lt;/<span style="color: #00578E; font-weight: bold;">select</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;KEY_ESC&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">left</span>&gt;KEY_LEFT&lt;/<span style="color: #00578E; font-weight: bold;">left</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">right</span>&gt;KEY_RIGHT&lt;/<span style="color: #00578E; font-weight: bold;">right</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">red</span>&gt;KEY_RED&lt;/<span style="color: #00578E; font-weight: bold;">red</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">green</span>&gt;KEY_GREEN&lt;/<span style="color: #00578E; font-weight: bold;">green</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;KEY_YELLOW&lt;/<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">blue</span>&gt;KEY_BLUE&lt;/<span style="color: #00578E; font-weight: bold;">blue</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;KEY_0&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">one</span>&gt;KEY_1&lt;/<span style="color: #00578E; font-weight: bold;">one</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">two</span>&gt;KEY_2&lt;/<span style="color: #00578E; font-weight: bold;">two</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">three</span>&gt;KEY_3&lt;/<span style="color: #00578E; font-weight: bold;">three</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">four</span>&gt;KEY_4&lt;/<span style="color: #00578E; font-weight: bold;">four</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">five</span>&gt;KEY_5&lt;/<span style="color: #00578E; font-weight: bold;">five</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">six</span>&gt;KEY_6&lt;/<span style="color: #00578E; font-weight: bold;">six</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">seven</span>&gt;KEY_7&lt;/<span style="color: #00578E; font-weight: bold;">seven</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">eight</span>&gt;KEY_8&lt;/<span style="color: #00578E; font-weight: bold;">eight</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">nine</span>&gt;KEY_9&lt;/<span style="color: #00578E; font-weight: bold;">nine</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;KEY_INFO&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">play</span>&gt;KEY_PLAY&lt;/<span style="color: #00578E; font-weight: bold;">play</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">play</span>&gt;KEY_PLAYPAUSE&lt;/<span style="color: #00578E; font-weight: bold;">play</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">pause</span>&gt;KEY_PAUSE&lt;/<span style="color: #00578E; font-weight: bold;">pause</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">stop</span>&gt;KEY_STOP&lt;/<span style="color: #00578E; font-weight: bold;">stop</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">record</span>&gt;KEY_RECORD&lt;/<span style="color: #00578E; font-weight: bold;">record</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">forward</span>&gt;KEY_FASTFORWARD&lt;/<span style="color: #00578E; font-weight: bold;">forward</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">reverse</span>&gt;KEY_REWIND&lt;/<span style="color: #00578E; font-weight: bold;">reverse</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">skipplus</span>&gt;KEY_NEXT&lt;/<span style="color: #00578E; font-weight: bold;">skipplus</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">skipminus</span>&gt;KEY_BACK&lt;/<span style="color: #00578E; font-weight: bold;">skipminus</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">power</span>&gt;KEY_POWER2&lt;/<span style="color: #00578E; font-weight: bold;">power</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">channelplus</span>&gt;KEY_CHANNELUP&lt;/<span style="color: #00578E; font-weight: bold;">channelplus</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">channelminus</span>&gt;KEY_CHANNELDOWN&lt;/<span style="color: #00578E; font-weight: bold;">channelminus</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">title</span>&gt;KEY_PROG3&lt;/<span style="color: #00578E; font-weight: bold;">title</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">volumeplus</span>&gt;KEY_VOLUMEUP&lt;/<span style="color: #00578E; font-weight: bold;">volumeplus</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">volumeminus</span>&gt;KEY_VOLUMEDOWN&lt;/<span style="color: #00578E; font-weight: bold;">volumeminus</span>&gt;
                &lt;<span style="color: #00578E; font-weight: bold;">teletext</span>&gt;KEY_TEXT&lt;/<span style="color: #00578E; font-weight: bold;">teletext</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">mute</span>&gt;KEY_MUTE&lt;/<span style="color: #00578E; font-weight: bold;">mute</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;KEY_SELECT&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">subtitle</span>&gt;KEY_SUBTITLE&lt;/<span style="color: #00578E; font-weight: bold;">subtitle</span>&gt;
                &lt;<span style="color: #00578E; font-weight: bold;">audio</span>&gt;KEY_MODE&lt;/<span style="color: #00578E; font-weight: bold;">audio</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">mute</span>&gt;KEY_MUTE&lt;/<span style="color: #00578E; font-weight: bold;">mute</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">myvideo</span>&gt;KEY_VIDEO&lt;/<span style="color: #00578E; font-weight: bold;">myvideo</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">mymusic</span>&gt;KEY_AUDIO&lt;/<span style="color: #00578E; font-weight: bold;">mymusic</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">mypictures</span>&gt;KEY_IMAGES&lt;/<span style="color: #00578E; font-weight: bold;">mypictures</span>&gt;
        &lt;<span style="color: #00578E; font-weight: bold;">recordedtv</span>&gt;KEY_PVR&lt;/<span style="color: #00578E; font-weight: bold;">recordedtv</span>&gt;
                &lt;<span style="color: #00578E; font-weight: bold;">guide</span>&gt;KEY_EPG&lt;/<span style="color: #00578E; font-weight: bold;">guide</span>&gt;
                &lt;<span style="color: #00578E; font-weight: bold;">display</span>&gt;KEY_SCREEN&lt;/<span style="color: #00578E; font-weight: bold;">display</span>&gt;
                &lt;<span style="color: #00578E; font-weight: bold;">enter</span>&gt;KEY_PROG4&lt;/<span style="color: #00578E; font-weight: bold;">enter</span>&gt;
                &lt;<span style="color: #00578E; font-weight: bold;">playlist</span>&gt;KEY_ZOOM&lt;/<span style="color: #00578E; font-weight: bold;">playlist</span>&gt;
                &lt;<span style="color: #00578E; font-weight: bold;">livetv</span>&gt;KEY_CHANNEL&lt;/<span style="color: #00578E; font-weight: bold;">livetv</span>&gt;
                &lt;<span style="color: #00578E; font-weight: bold;">mytv</span>&gt;KEY_TV&lt;/<span style="color: #00578E; font-weight: bold;">mytv</span>&gt;
                &lt;<span style="color: #00578E; font-weight: bold;">liveradio</span>&gt;KEY_FN&lt;/<span style="color: #00578E; font-weight: bold;">liveradio</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
&lt;/<span style="color: #00578E; font-weight: bold;">lircmap</span>&gt;
</pre>
</div>
</div></li>
<li><a id="orgfafa1c8"></a>keymaps<br /><ol class="org-ol"><li><a id="org0f2348c"></a>remote.xml<br /><div class="outline-text-6" id="text-8-22-3-2-1">
<div class="org-src-container">
<pre class="src src-xml"><span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> This file contains the mapping of keys (gamepad, remote, and keyboard) to actions within XBMC </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> The &lt;global&gt; section is a fall through - they will only be used if the button is not          </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> used in the current window's section.  Note that there is only handling                       </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> for a single action per button at this stage.                                                 </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> For joystick/gamepad configuration under linux/win32, see below as it differs from xbox       </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> gamepads.                                                                                     </span><span style="color: #204A87;">--&gt;</span>

<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> The format is:                      </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">    &lt;device&gt;                         </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">      &lt;button&gt;action&lt;/button&gt;        </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">    &lt;/device&gt;                        </span><span style="color: #204A87;">--&gt;</span>

<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> To map keys from other remotes using the RCA protocol, you may add &lt;universalremote&gt; blocks </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> In this case, the tags used are &lt;obc#&gt; where # is the original button code (OBC) of the key </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> You set it up by adding a &lt;universalremote&gt; block to the window or &lt;global&gt; section:       </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">    &lt;universalremote&gt;             </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">       &lt;obc45&gt;Stop&lt;/obc45&gt;         </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">    &lt;/universalremote&gt;            </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> To find out the OBC's of your remote, try enabling the &lt;displayremotecodes&gt; tag in AdvancedSettings.xml </span><span style="color: #204A87;">--&gt;</span>

<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Note that the action can be a built-in function.                 </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">  eg &lt;B&gt;XBMC.ActivateWindow(MyMusic)&lt;/B&gt;                         </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> would automatically go to My Music on the press of the B button. </span><span style="color: #204A87;">--&gt;</span>

<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Joysticks / Gamepads:                                                                    </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">   See the sample PS3 controller configuration below for the format.                      </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">                                                                                          </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">  Joystick Name:                                                                          </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">   Do 'cat /proc/bus/input/devices' or see your xbmc log file  to find the names of       </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">   detected joysticks. The name used in the configuration should match the detected name. </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">                                                                                          </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">  Button Ids:                                                                             </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">   'id' is the button ID used by SDL. Joystick button ids of connected joysticks appear   </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">   in xbmc.log when they are pressed. Use your log to map custom buttons to actions.      </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">                                                                                          </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">  Axis Ids / Analog Controls                                                              </span><span style="color: #204A87;">--&gt;</span>
<span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">   Coming soon.                                                                           </span><span style="color: #204A87;">--&gt;</span>
&lt;<span style="color: #00578E; font-weight: bold;">keymap</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">global</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">universalremote</span>&gt;
       &lt;<span style="color: #00578E; font-weight: bold;">obc150</span>&gt;XBMC.ejecttray()&lt;/<span style="color: #00578E; font-weight: bold;">obc150</span>&gt;
       &lt;<span style="color: #00578E; font-weight: bold;">obc151</span>&gt;Playlist&lt;/<span style="color: #00578E; font-weight: bold;">obc151</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">universalremote</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">play</span>&gt;PlayPause&lt;/<span style="color: #00578E; font-weight: bold;">play</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">pause</span>&gt;Pause&lt;/<span style="color: #00578E; font-weight: bold;">pause</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">stop</span>&gt;Stop&lt;/<span style="color: #00578E; font-weight: bold;">stop</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">forward</span>&gt;FastForward&lt;/<span style="color: #00578E; font-weight: bold;">forward</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">reverse</span>&gt;Rewind&lt;/<span style="color: #00578E; font-weight: bold;">reverse</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">left</span>&gt;Left&lt;/<span style="color: #00578E; font-weight: bold;">left</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">right</span>&gt;Right&lt;/<span style="color: #00578E; font-weight: bold;">right</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">up</span>&gt;Up&lt;/<span style="color: #00578E; font-weight: bold;">up</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">down</span>&gt;Down&lt;/<span style="color: #00578E; font-weight: bold;">down</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">select</span>&gt;Select&lt;/<span style="color: #00578E; font-weight: bold;">select</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">pageplus</span>&gt;PageUp&lt;/<span style="color: #00578E; font-weight: bold;">pageplus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">pageminus</span>&gt;PageDown&lt;/<span style="color: #00578E; font-weight: bold;">pageminus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;ParentDir&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">title</span>&gt;ContextMenu&lt;/<span style="color: #00578E; font-weight: bold;">title</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;Info&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">skipplus</span>&gt;SkipNext&lt;/<span style="color: #00578E; font-weight: bold;">skipplus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">skipminus</span>&gt;SkipPrevious&lt;/<span style="color: #00578E; font-weight: bold;">skipminus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">display</span>&gt;FullScreen&lt;/<span style="color: #00578E; font-weight: bold;">display</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">record</span>&gt;Screenshot&lt;/<span style="color: #00578E; font-weight: bold;">record</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">volumeplus</span>&gt;VolumeUp&lt;/<span style="color: #00578E; font-weight: bold;">volumeplus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">volumeminus</span>&gt;VolumeDown&lt;/<span style="color: #00578E; font-weight: bold;">volumeminus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mute</span>&gt;Mute&lt;/<span style="color: #00578E; font-weight: bold;">mute</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">power</span>&gt;XBMC.Quit()&lt;/<span style="color: #00578E; font-weight: bold;">power</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">myvideo</span>&gt;XBMC.ActivateWindow(MyVideos)&lt;/<span style="color: #00578E; font-weight: bold;">myvideo</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mymusic</span>&gt;XBMC.ActivateWindow(MyMusic)&lt;/<span style="color: #00578E; font-weight: bold;">mymusic</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">mypictures</span>&gt;XBMC.ActivateWindow(MyPictures)&lt;/<span style="color: #00578E; font-weight: bold;">mypictures</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;">- &lt;mytv&gt;XBMC.ActivateWindow(Home)&lt;/mytv&gt; </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">recordedtv</span>&gt;XBMC.ActivateWindowAndFocus(MyPVR, 34,0, 13,0)&lt;/<span style="color: #00578E; font-weight: bold;">recordedtv</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> PVR: EPG </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">guide</span>&gt;XBMC.ActivateWindowAndFocus(MyPVR, 31,0, 10,0)&lt;/<span style="color: #00578E; font-weight: bold;">guide</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> PVR: Channellist </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">livetv</span>&gt;XBMC.ActivateWindowAndFocus(MyPVR, 32,0, 11,0)&lt;/<span style="color: #00578E; font-weight: bold;">livetv</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> PVR: Radio </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">liveradio</span>&gt;XBMC.ActivateWindowAndFocus(MyPVR, 33,0, 12,0)&lt;/<span style="color: #00578E; font-weight: bold;">liveradio</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">red</span>&gt;XBMC.ActivateWindow(Home)&lt;/<span style="color: #00578E; font-weight: bold;">red</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;XBMC.ActivateWindow(MyVideos)&lt;/<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">green</span>&gt;XBMC.ActivateWindow(MyMusic)&lt;/<span style="color: #00578E; font-weight: bold;">green</span>&gt;
      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> &lt;blue&gt;XBMC.ActivateWindow(MyPictures)&lt;/blue&gt; </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Number0&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">one</span>&gt;Number1&lt;/<span style="color: #00578E; font-weight: bold;">one</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">two</span>&gt;JumpSMS2&lt;/<span style="color: #00578E; font-weight: bold;">two</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">three</span>&gt;JumpSMS3&lt;/<span style="color: #00578E; font-weight: bold;">three</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">four</span>&gt;JumpSMS4&lt;/<span style="color: #00578E; font-weight: bold;">four</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">five</span>&gt;JumpSMS5&lt;/<span style="color: #00578E; font-weight: bold;">five</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">six</span>&gt;JumpSMS6&lt;/<span style="color: #00578E; font-weight: bold;">six</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">seven</span>&gt;JumpSMS7&lt;/<span style="color: #00578E; font-weight: bold;">seven</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">eight</span>&gt;JumpSMS8&lt;/<span style="color: #00578E; font-weight: bold;">eight</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">nine</span>&gt;JumpSMS9&lt;/<span style="color: #00578E; font-weight: bold;">nine</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">audio</span>&gt;AudioNextLanguage&lt;/<span style="color: #00578E; font-weight: bold;">audio</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">subtitle</span>&gt;ShowSubtitles&lt;/<span style="color: #00578E; font-weight: bold;">subtitle</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">enter</span>&gt;FullScreen&lt;/<span style="color: #00578E; font-weight: bold;">enter</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">blue</span>&gt;ContextMenu&lt;/<span style="color: #00578E; font-weight: bold;">blue</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">playlist</span>&gt;XBMC.ActivateWindow(MyMusicPlaylist)&lt;/<span style="color: #00578E; font-weight: bold;">playlist</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">global</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">Home</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;XBMC.Skin.ToggleSetting(HomeViewToggle)&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;XBMC.ActivateWindow(SystemInfo)&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">clear</span>&gt;XBMC.ActivateWindow(Weather)&lt;/<span style="color: #00578E; font-weight: bold;">clear</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">blue</span>&gt;XBMC.ActivateWindow(Settings)&lt;/<span style="color: #00578E; font-weight: bold;">blue</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">red</span>&gt;FullScreen&lt;/<span style="color: #00578E; font-weight: bold;">red</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;FullScreen&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">Home</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyFiles</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">clear</span>&gt;Delete&lt;/<span style="color: #00578E; font-weight: bold;">clear</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyFiles</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyMusicPlaylist</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Playlist&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Close playlist </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">clear</span>&gt;Delete&lt;/<span style="color: #00578E; font-weight: bold;">clear</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyMusicPlaylist</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyMusicPlaylistEditor</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyMusicPlaylistEditor</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyMusicFiles</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">star</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">star</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;ContextMenu&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyMusicFiles</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyMusicLibrary</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">star</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">star</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyMusicLibrary</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">FullscreenVideo</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;FullScreen&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Number0&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">one</span>&gt;Number1&lt;/<span style="color: #00578E; font-weight: bold;">one</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">two</span>&gt;Number2&lt;/<span style="color: #00578E; font-weight: bold;">two</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">three</span>&gt;Number3&lt;/<span style="color: #00578E; font-weight: bold;">three</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">four</span>&gt;Number4&lt;/<span style="color: #00578E; font-weight: bold;">four</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">five</span>&gt;Number5&lt;/<span style="color: #00578E; font-weight: bold;">five</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">six</span>&gt;Number6&lt;/<span style="color: #00578E; font-weight: bold;">six</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">seven</span>&gt;Number7&lt;/<span style="color: #00578E; font-weight: bold;">seven</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">eight</span>&gt;Number8&lt;/<span style="color: #00578E; font-weight: bold;">eight</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">nine</span>&gt;Number9&lt;/<span style="color: #00578E; font-weight: bold;">nine</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">left</span>&gt;Rewind&lt;/<span style="color: #00578E; font-weight: bold;">left</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">right</span>&gt;FastForward&lt;/<span style="color: #00578E; font-weight: bold;">right</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">up</span>&gt;Play&lt;/<span style="color: #00578E; font-weight: bold;">up</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">down</span>&gt;Pause&lt;/<span style="color: #00578E; font-weight: bold;">down</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;StepForward&lt;/<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">green</span>&gt;StepBack&lt;/<span style="color: #00578E; font-weight: bold;">green</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">blue</span>&gt;CodecInfo&lt;/<span style="color: #00578E; font-weight: bold;">blue</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;OSD&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;OSD&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;XBMC.ActivateWindow(PVROSDChannels)&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">title</span>&gt;XBMC.ActivateWindow(PVROSDChannels)&lt;/<span style="color: #00578E; font-weight: bold;">title</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">display</span>&gt;AspectRatio&lt;/<span style="color: #00578E; font-weight: bold;">display</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">select</span>&gt;Info&lt;/<span style="color: #00578E; font-weight: bold;">select</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">teletext</span>&gt;XBMC.ActivateWindow(Teletext)&lt;/<span style="color: #00578E; font-weight: bold;">teletext</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">channelplus</span>&gt;SkipNext&lt;/<span style="color: #00578E; font-weight: bold;">channelplus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">channelminus</span>&gt;SkipPrevious&lt;/<span style="color: #00578E; font-weight: bold;">channelminus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">record</span>&gt;XBMC.PlayerControl(Record)&lt;/<span style="color: #00578E; font-weight: bold;">record</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">FullscreenVideo</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">FullscreenInfo</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;FullScreen&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">left</span>&gt;Rewind&lt;/<span style="color: #00578E; font-weight: bold;">left</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">right</span>&gt;FastForward&lt;/<span style="color: #00578E; font-weight: bold;">right</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">up</span>&gt;Play&lt;/<span style="color: #00578E; font-weight: bold;">up</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">down</span>&gt;Pause&lt;/<span style="color: #00578E; font-weight: bold;">down</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;StepForward&lt;/<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">green</span>&gt;StepBack&lt;/<span style="color: #00578E; font-weight: bold;">green</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">display</span>&gt;AspectRatio&lt;/<span style="color: #00578E; font-weight: bold;">display</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;CodecInfo&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">select</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">select</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;OSD&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">FullscreenInfo</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">PlayerControls</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">PlayerControls</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">Visualisation</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">universalremote</span>&gt;
       &lt;<span style="color: #00578E; font-weight: bold;">obc151</span>&gt;XBMC.ActivateWindow(MyMusicPlaylist)&lt;/<span style="color: #00578E; font-weight: bold;">obc151</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">universalremote</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">red</span>&gt;FullScreen&lt;/<span style="color: #00578E; font-weight: bold;">red</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;AnalogSeekForward&lt;/<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">green</span>&gt;AnalogSeekBack&lt;/<span style="color: #00578E; font-weight: bold;">green</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">blue</span>&gt;CodecInfo&lt;/<span style="color: #00578E; font-weight: bold;">blue</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">left</span>&gt;Rewind&lt;/<span style="color: #00578E; font-weight: bold;">left</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">right</span>&gt;FastForward&lt;/<span style="color: #00578E; font-weight: bold;">right</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">pageplus</span>&gt;SkipNext&lt;/<span style="color: #00578E; font-weight: bold;">pageplus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">pageminus</span>&gt;SkipPrevious&lt;/<span style="color: #00578E; font-weight: bold;">pageminus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">up</span>&gt;Play&lt;/<span style="color: #00578E; font-weight: bold;">up</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">down</span>&gt;Pause&lt;/<span style="color: #00578E; font-weight: bold;">down</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;XBMC.ActivateWindow(PVROSDChannels)&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;XBMC.ActivateWindow(MyMusicPlaylist)&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">select</span>&gt;Info&lt;/<span style="color: #00578E; font-weight: bold;">select</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;XBMC.ActivateWindow(MusicOSD)&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;XBMC.ActivateWindow(MusicOSD)&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">Visualisation</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MusicOSD</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;CodecInfo&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MusicOSD</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">VisualisationSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">VisualisationSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">VisualisationPresetList</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">VisualisationPresetList</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">SlideShow</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;ZoomNormal&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">one</span>&gt;ZoomLevel1&lt;/<span style="color: #00578E; font-weight: bold;">one</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">two</span>&gt;ZoomLevel2&lt;/<span style="color: #00578E; font-weight: bold;">two</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">three</span>&gt;ZoomLevel3&lt;/<span style="color: #00578E; font-weight: bold;">three</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">four</span>&gt;ZoomLevel4&lt;/<span style="color: #00578E; font-weight: bold;">four</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">five</span>&gt;ZoomLevel5&lt;/<span style="color: #00578E; font-weight: bold;">five</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">six</span>&gt;ZoomLevel6&lt;/<span style="color: #00578E; font-weight: bold;">six</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">seven</span>&gt;ZoomLevel7&lt;/<span style="color: #00578E; font-weight: bold;">seven</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">eight</span>&gt;ZoomLevel8&lt;/<span style="color: #00578E; font-weight: bold;">eight</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">nine</span>&gt;ZoomLevel9&lt;/<span style="color: #00578E; font-weight: bold;">nine</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;CodecInfo&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">pageplus</span>&gt;ZoomIn&lt;/<span style="color: #00578E; font-weight: bold;">pageplus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">pageminus</span>&gt;ZoomOut&lt;/<span style="color: #00578E; font-weight: bold;">pageminus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">select</span>&gt;Rotate&lt;/<span style="color: #00578E; font-weight: bold;">select</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">up</span>&gt;Pause&lt;/<span style="color: #00578E; font-weight: bold;">up</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">down</span>&gt;Play&lt;/<span style="color: #00578E; font-weight: bold;">down</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">SlideShow</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">ScreenCalibration</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">select</span>&gt;NextCalibration&lt;/<span style="color: #00578E; font-weight: bold;">select</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">enter</span>&gt;NextCalibration&lt;/<span style="color: #00578E; font-weight: bold;">enter</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;ResetCalibration&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">display</span>&gt;NextResolution&lt;/<span style="color: #00578E; font-weight: bold;">display</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">xbox</span>&gt;NextResolution&lt;/<span style="color: #00578E; font-weight: bold;">xbox</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">ScreenCalibration</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">GUICalibration</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">select</span>&gt;NextCalibration&lt;/<span style="color: #00578E; font-weight: bold;">select</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">enter</span>&gt;NextCalibration&lt;/<span style="color: #00578E; font-weight: bold;">enter</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;ResetCalibration&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">GUICalibration</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">SelectDialog</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">SelectDialog</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">VideoOSD</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">VideoOSD</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">VideoMenu</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;OSD&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;Info&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">title</span>&gt;CodecInfo&lt;/<span style="color: #00578E; font-weight: bold;">title</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Number0&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">one</span>&gt;Number1&lt;/<span style="color: #00578E; font-weight: bold;">one</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">two</span>&gt;Number2&lt;/<span style="color: #00578E; font-weight: bold;">two</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">three</span>&gt;Number3&lt;/<span style="color: #00578E; font-weight: bold;">three</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">four</span>&gt;Number4&lt;/<span style="color: #00578E; font-weight: bold;">four</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">five</span>&gt;Number5&lt;/<span style="color: #00578E; font-weight: bold;">five</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">six</span>&gt;Number6&lt;/<span style="color: #00578E; font-weight: bold;">six</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">seven</span>&gt;Number7&lt;/<span style="color: #00578E; font-weight: bold;">seven</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">eight</span>&gt;Number8&lt;/<span style="color: #00578E; font-weight: bold;">eight</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">nine</span>&gt;Number9&lt;/<span style="color: #00578E; font-weight: bold;">nine</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">VideoMenu</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">OSDVideoSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">OSDVideoSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">OSDAudioSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">OSDAudioSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">VideoBookmarks</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Delete&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">VideoBookmarks</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyVideoLibrary</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">clear</span>&gt;Delete&lt;/<span style="color: #00578E; font-weight: bold;">clear</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">green</span>&gt;ToggleWatched&lt;/<span style="color: #00578E; font-weight: bold;">green</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyVideoLibrary</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyVideoFiles</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">star</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">star</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">blue</span>&gt;ContextMenu&lt;/<span style="color: #00578E; font-weight: bold;">blue</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">green</span>&gt;ToggleWatched&lt;/<span style="color: #00578E; font-weight: bold;">green</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyVideoFiles</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyPictures</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">star</span>&gt;Queue&lt;/<span style="color: #00578E; font-weight: bold;">star</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;ContextMenu&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyPictures</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyVideoPlaylist</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Playlist&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> Close playlist </span><span style="color: #204A87;">--&gt;</span>
      &lt;<span style="color: #00578E; font-weight: bold;">clear</span>&gt;Delete&lt;/<span style="color: #00578E; font-weight: bold;">clear</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Delete&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyVideoPlaylist</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">VirtualKeyboard</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;BackSpace&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">star</span>&gt;Shift&lt;/<span style="color: #00578E; font-weight: bold;">star</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">hash</span>&gt;Symbols&lt;/<span style="color: #00578E; font-weight: bold;">hash</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Number0&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">one</span>&gt;Number1&lt;/<span style="color: #00578E; font-weight: bold;">one</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">two</span>&gt;Number2&lt;/<span style="color: #00578E; font-weight: bold;">two</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">three</span>&gt;Number3&lt;/<span style="color: #00578E; font-weight: bold;">three</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">four</span>&gt;Number4&lt;/<span style="color: #00578E; font-weight: bold;">four</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">five</span>&gt;Number5&lt;/<span style="color: #00578E; font-weight: bold;">five</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">six</span>&gt;Number6&lt;/<span style="color: #00578E; font-weight: bold;">six</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">seven</span>&gt;Number7&lt;/<span style="color: #00578E; font-weight: bold;">seven</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">eight</span>&gt;Number8&lt;/<span style="color: #00578E; font-weight: bold;">eight</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">nine</span>&gt;Number9&lt;/<span style="color: #00578E; font-weight: bold;">nine</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">pageminus</span>&gt;CursorLeft&lt;/<span style="color: #00578E; font-weight: bold;">pageminus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">pageplus</span>&gt;CursorRight&lt;/<span style="color: #00578E; font-weight: bold;">pageplus</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">VirtualKeyboard</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">ContextMenu</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">blue</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">blue</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">ContextMenu</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">FileStackingDialog</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">FileStackingDialog</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">Scripts</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;XBMC.ActivateWindow(ScriptsDebugInfo)&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">Scripts</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">ScriptsDebugInfo</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;Info&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;      <span style="color: #204A87;">&lt;!--</span><span style="color: #204A87;"> clears debug python info </span><span style="color: #204A87;">--&gt;</span>
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">ScriptsDebugInfo</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">NumericInput</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;Number0&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">one</span>&gt;Number1&lt;/<span style="color: #00578E; font-weight: bold;">one</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">two</span>&gt;Number2&lt;/<span style="color: #00578E; font-weight: bold;">two</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">three</span>&gt;Number3&lt;/<span style="color: #00578E; font-weight: bold;">three</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">four</span>&gt;Number4&lt;/<span style="color: #00578E; font-weight: bold;">four</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">five</span>&gt;Number5&lt;/<span style="color: #00578E; font-weight: bold;">five</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">six</span>&gt;Number6&lt;/<span style="color: #00578E; font-weight: bold;">six</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">seven</span>&gt;Number7&lt;/<span style="color: #00578E; font-weight: bold;">seven</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">eight</span>&gt;Number8&lt;/<span style="color: #00578E; font-weight: bold;">eight</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">nine</span>&gt;Number9&lt;/<span style="color: #00578E; font-weight: bold;">nine</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;BackSpace&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">NumericInput</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">Weather</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">Weather</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">Settings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">Settings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyPicturesSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyPicturesSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyProgramsSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyProgramsSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyWeatherSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyWeatherSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyMusicSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyMusicSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">SystemSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">SystemSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MyVideosSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MyVideosSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">NetworkSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">NetworkSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">AppearanceSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">AppearanceSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">Profiles</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">Profiles</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">systeminfo</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">systeminfo</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">shutdownmenu</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">shutdownmenu</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">submenu</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">submenu</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MusicInformation</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MusicInformation</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">MovieInformation</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">MovieInformation</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">LockSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">LockSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">ProfileSettings</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;PreviousMenu&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">ProfileSettings</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">PictureInfo</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">skipplus</span>&gt;NextPicture&lt;/<span style="color: #00578E; font-weight: bold;">skipplus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">skipminus</span>&gt;PreviousPicture&lt;/<span style="color: #00578E; font-weight: bold;">skipminus</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">PictureInfo</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">Teletext</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">zero</span>&gt;number0&lt;/<span style="color: #00578E; font-weight: bold;">zero</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">one</span>&gt;number1&lt;/<span style="color: #00578E; font-weight: bold;">one</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">two</span>&gt;number2&lt;/<span style="color: #00578E; font-weight: bold;">two</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">three</span>&gt;number3&lt;/<span style="color: #00578E; font-weight: bold;">three</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">four</span>&gt;number4&lt;/<span style="color: #00578E; font-weight: bold;">four</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">five</span>&gt;number5&lt;/<span style="color: #00578E; font-weight: bold;">five</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">six</span>&gt;number6&lt;/<span style="color: #00578E; font-weight: bold;">six</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">seven</span>&gt;number7&lt;/<span style="color: #00578E; font-weight: bold;">seven</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">eight</span>&gt;number8&lt;/<span style="color: #00578E; font-weight: bold;">eight</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">nine</span>&gt;number9&lt;/<span style="color: #00578E; font-weight: bold;">nine</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">red</span>&gt;Red&lt;/<span style="color: #00578E; font-weight: bold;">red</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">green</span>&gt;Green&lt;/<span style="color: #00578E; font-weight: bold;">green</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;Yellow&lt;/<span style="color: #00578E; font-weight: bold;">yellow</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">blue</span>&gt;Blue&lt;/<span style="color: #00578E; font-weight: bold;">blue</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">info</span>&gt;Info&lt;/<span style="color: #00578E; font-weight: bold;">info</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">menu</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">menu</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">start</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">start</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">teletext</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">teletext</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">Teletext</span>&gt;
  &lt;<span style="color: #00578E; font-weight: bold;">Favourites</span>&gt;
    &lt;<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
      &lt;<span style="color: #00578E; font-weight: bold;">back</span>&gt;Close&lt;/<span style="color: #00578E; font-weight: bold;">back</span>&gt;
    &lt;/<span style="color: #00578E; font-weight: bold;">remote</span>&gt;
  &lt;/<span style="color: #00578E; font-weight: bold;">Favourites</span>&gt;
&lt;/<span style="color: #00578E; font-weight: bold;">keymap</span>&gt;
</pre>
</div>
</div></li></ol></li></ol>
</div>
</div>
<div id="outline-container-org071a20e" class="outline-3">
<h3 id="org071a20e"><span class="section-number-3">8.23</span> dvd</h3>
<div class="outline-text-3" id="text-8-23">
</div><div id="outline-container-org991a5cf" class="outline-4">
<h4 id="org991a5cf"><span class="section-number-4">8.23.1</span> tasks</h4>
<div class="outline-text-4" id="text-8-23-1">
</div><ol class="org-ol"><li><a id="org0d996e5"></a>install libdvd-pkg, allow programs to eject optical media<br /><div class="outline-text-5" id="text-8-23-1-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">file: roles/dvd/tasks/main.yml</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: preconfigure libdvd-pkg
  <span style="color: #0084C8; font-weight: bold;">shell</span>: |
    echo <span style="color: #4E9A06;">'libdvd-pkg libdvd-pkg/post-invoke_hook-install boolean true'</span> | debconf-set-selections
    echo <span style="color: #4E9A06;">'libdvd-pkg libdvd-pkg/build boolean true'</span> | debconf-set-selections

- <span style="color: #0084C8; font-weight: bold;">name</span>: apt | install libdvd-pkg
  <span style="color: #0084C8; font-weight: bold;">apt</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: <span style="color: #4E9A06;">'{{ item }}'</span>
    <span style="color: #0084C8; font-weight: bold;">state</span>: present
    <span style="color: #0084C8; font-weight: bold;">install_recommends</span>: <span style="color: #F5666D;">no</span>
  <span style="color: #0084C8; font-weight: bold;">with_items</span>:
    - libdvd-pkg

- <span style="color: #0084C8; font-weight: bold;">name</span>: change udev rule to allow KODI to eject optical disks
  <span style="color: #0084C8; font-weight: bold;">shell</span>: sed <span style="color: #4E9A06;">'s/--lock-media //'</span> /lib/udev/rules.d/60-cdrom_id.rules &gt; /etc/udev/rules.d/60-cdrom_id.rules
  <span style="color: #0084C8; font-weight: bold;">args</span>:
    <span style="color: #0084C8; font-weight: bold;">creates</span>: /etc/udev/rules.d/60-cdrom_id.rules
</pre>
</div>
</div></li></ol>
</div>
</div>
<div id="outline-container-orgbe56a85" class="outline-3">
<h3 id="orgbe56a85"><span class="section-number-3">8.24</span> template-test</h3>
<div class="outline-text-3" id="text-8-24">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: show vars
  <span style="color: #0084C8; font-weight: bold;">debug</span>: 
    <span style="color: #0084C8; font-weight: bold;">var</span>: <span style="color: #4E9A06;">'{{ system }}'</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: test templates
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/test.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /tmp/test.txt
</pre>
</div>
<div class="org-src-container">
<pre class="src src-shell">{{ ansible_managed_file | comment }}

Section <span style="color: #4E9A06;">"ServerLayout"</span>
    Identifier     <span style="color: #4E9A06;">"Layout0"</span>
    Screen      0  <span style="color: #4E9A06;">"Screen0"</span>
    {% if system.x11.dualhead.enabled %}
    Screen      1  <span style="color: #4E9A06;">"Screen1"</span> RightOf <span style="color: #4E9A06;">"Screen0"</span>
    {% endif %}
    InputDevice    <span style="color: #4E9A06;">"Keyboard0"</span> <span style="color: #4E9A06;">"CoreKeyboard"</span>
    InputDevice    <span style="color: #4E9A06;">"Mouse0"</span> <span style="color: #4E9A06;">"CorePointer"</span>
EndSection

Section <span style="color: #4E9A06;">"InputDevice"</span>
    <span style="color: #204A87;"># </span><span style="color: #204A87;">generated from default</span>
    Identifier     <span style="color: #4E9A06;">"Mouse0"</span>
    Driver         <span style="color: #4E9A06;">"mouse"</span>
    Option         <span style="color: #4E9A06;">"Protocol"</span> <span style="color: #4E9A06;">"auto"</span>
    Option         <span style="color: #4E9A06;">"Device"</span> <span style="color: #4E9A06;">"/dev/psaux"</span>
    Option         <span style="color: #4E9A06;">"Emulate3Buttons"</span> <span style="color: #4E9A06;">"no"</span>
    Option         <span style="color: #4E9A06;">"ZAxisMapping"</span> <span style="color: #4E9A06;">"4 5"</span>
EndSection

<span style="color: #204A87;"># </span><span style="color: #204A87;">ignore devices with eventlircd tag </span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">ENV{ID_INPUT.tags}+="eventlircd"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">must be set by an udev rule</span>
Section <span style="color: #4E9A06;">"InputClass"</span>
    Identifier <span style="color: #4E9A06;">"ignore eventlircd devices"</span>
    MatchTag <span style="color: #4E9A06;">"eventlircd"</span>
    Option <span style="color: #4E9A06;">"Ignore"</span> <span style="color: #4E9A06;">"True"</span>
EndSection



Section <span style="color: #4E9A06;">"InputDevice"</span>
    <span style="color: #204A87;"># </span><span style="color: #204A87;">generated from default</span>
    Identifier     <span style="color: #4E9A06;">"Keyboard0"</span>
    Driver         <span style="color: #4E9A06;">"kbd"</span>
EndSection


Section <span style="color: #4E9A06;">"Monitor"</span>
    Identifier     <span style="color: #4E9A06;">"Monitor0"</span>
    VendorName     <span style="color: #4E9A06;">"Unknown"</span>
    ModelName      <span style="color: #4E9A06;">"Unknown"</span>
{% if system.x11.display.0.default == <span style="color: #4E9A06;">"VGA2Scart_4_3"</span> or system.x11.display.0.default == <span style="color: #4E9A06;">"VGA2Scart_16_9"</span> %}
    HorizSync       14-17
    VertRefresh     49-61
    {% if system.x11.display.0.default == <span style="color: #4E9A06;">"VGA2Scart_4_3"</span> %}
    Modeline <span style="color: #4E9A06;">"VGA2Scart_4_3"</span> 13.875 720 744 808 888 576 580 585 625 -HSync -Vsync interlace
    {% elif system.x11.display.0.default == <span style="color: #4E9A06;">"VGA2Scart_16_9"</span> %}
    Modeline <span style="color: #4E9A06;">"VGA2Scart_16_9"</span> 19 1024 1032 1120 1216 576 581 586 625 -Hsync -Vsync interlace
    {% endif %}
{% endif %}
    Option         <span style="color: #4E9A06;">"DPMS"</span>
    Option         <span style="color: #4E9A06;">"ExactModeTimingsDVI"</span> <span style="color: #4E9A06;">"True"</span>
EndSection


{% if system.x11.dualhead.enabled == <span style="color: #4E9A06;">"1"</span> %}
Section <span style="color: #4E9A06;">"Monitor"</span>
    Identifier     <span style="color: #4E9A06;">"Monitor1"</span>
    VendorName     <span style="color: #4E9A06;">"Unknown"</span>
    ModelName      <span style="color: #4E9A06;">"Unknown"</span>
{% if system.x11.display.1.default<span style="color: #A52A2A; font-weight: bold;"> in</span> (<span style="color: #4E9A06;">"VGA2Scart_4_3"</span>,  <span style="color: #4E9A06;">"VGA2Scart_16_9"</span>) %}
    HorizSync       14-17
    VertRefresh     49-61
    {% if system.x11.display.1.default == <span style="color: #4E9A06;">"VGA2Scart_4_3"</span> %}
    Modeline <span style="color: #4E9A06;">"VGA2Scart_4_3"</span> 13.875 720 744 808 888 576 580 585 625 -HSync -Vsync interlace
    {% elif system.x11.display.1.default == <span style="color: #4E9A06;">"VGA2Scart_16_9"</span> %}
    Modeline <span style="color: #4E9A06;">"VGA2Scart_16_9"</span> 19 1024 1032 1120 1216 576 581 586 625 -Hsync -Vsync interlace
    {% endif %}
    Option         <span style="color: #4E9A06;">"DPMS"</span>
    Option         <span style="color: #4E9A06;">"ExactModeTimingsDVI"</span> <span style="color: #4E9A06;">"True"</span>
{% endif %}
EndSection
{% endif %}

Section <span style="color: #4E9A06;">"Device"</span>
    Identifier     <span style="color: #4E9A06;">"Device0"</span>
{% if system.hardware.nvidia.detected %}
    Driver         <span style="color: #4E9A06;">"nvidia"</span>
    VendorName     <span style="color: #4E9A06;">"NVIDIA Corporation"</span>
{% endif %}
    Screen          0
    Option         <span style="color: #4E9A06;">"DPI"</span> <span style="color: #4E9A06;">"100x100"</span>
{% if system.hardware.nvidia.busid %}
    BusID          <span style="color: #4E9A06;">"PCI: {{ system.hardware.nvidia.busid }}"</span>
{% endif %}
    Option         <span style="color: #4E9A06;">"NoLogo"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"UseEvents"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"TripleBuffer"</span> <span style="color: #4E9A06;">"False"</span>
    Option         <span style="color: #4E9A06;">"AddARGBGLXVisuals"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"TwinView"</span> <span style="color: #4E9A06;">"0"</span>
    Option         <span style="color: #4E9A06;">"DynamicTwinView"</span> <span style="color: #4E9A06;">"0"</span>
    Option         <span style="color: #4E9A06;">"OnDemandVBlankinterrupts"</span> <span style="color: #4E9A06;">"on"</span>
    Option         <span style="color: #4E9A06;">"FlatPanelProperties"</span> <span style="color: #4E9A06;">"Scaling = Native"</span>
EndSection

{% if system.x11.dualhead.enabled == <span style="color: #4E9A06;">"1"</span> %}
Section <span style="color: #4E9A06;">"Device"</span>
    Identifier     <span style="color: #4E9A06;">"Device1"</span>
    {% if system.hardware.nvidia.detected %}
    Driver         <span style="color: #4E9A06;">"nvidia"</span>
    VendorName     <span style="color: #4E9A06;">"NVIDIA Corporation"</span>
    {% endif %}
    Screen          1
    {% if system.hardware.nvidia.busid %}
    BusID          <span style="color: #4E9A06;">"PCI: {{ system.hardware.nvidia.busid }}"</span>
    {% endif %}
    Option         <span style="color: #4E9A06;">"NoLogo"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"UseEvents"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"TripleBuffer"</span> <span style="color: #4E9A06;">"False"</span>
    Option         <span style="color: #4E9A06;">"AddARGBGLXVisuals"</span> <span style="color: #4E9A06;">"True"</span>
    Option         <span style="color: #4E9A06;">"TwinView"</span> <span style="color: #4E9A06;">"0"</span>
    Option         <span style="color: #4E9A06;">"DynamicTwinView"</span> <span style="color: #4E9A06;">"0"</span>
EndSection
{% endif %}


Section <span style="color: #4E9A06;">"Screen"</span>
    Identifier     <span style="color: #4E9A06;">"Screen0"</span>
    Device         <span style="color: #4E9A06;">"Device0"</span>
    Monitor        <span style="color: #4E9A06;">"Monitor0"</span>
    DefaultDepth    24
    SubSection     <span style="color: #4E9A06;">"Display"</span>
        Depth       24
{% if system.x11.display.0.default is defined and system.x11.display.0.default %}
        Modes      <span style="color: #4E9A06;">"{{ system.x11.display.0.default }}"</span>{% for mode<span style="color: #A52A2A; font-weight: bold;"> in</span> system.x11.display.0.mode %}{% if mode != system.x11.display.0.default %} <span style="color: #4E9A06;">"{{ mode }}"</span>{% endif %}{% endfor %}

{% elif system.hardware.nvidia.detected == 1 %}
        Modes      <span style="color: #4E9A06;">"nvidia-auto-select"</span>
{% endif %}
    EndSubSection
{% if system.x11.display.0.default or system.x11.default %}
    {% if system.x11.display.0.device is definded and system.x11.display.0.device %}
    Option         <span style="color: #4E9A06;">"ConnectedMonitor"</span> {{ system.x11.display.0.device }}
    {% else %}
    Option         <span style="color: #4E9A06;">"ConnectedMonitor"</span> {{ system.x11.default }}
    {% endif %}
    <span style="color: #204A87;">#     </span><span style="color: #204A87;">Option         "ConnectedMonitor" "&lt;?cs if:(?system.x11.display.0.device) ?&gt;&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;&lt;?cs else ?&gt;&lt;?cs var:system.x11.default ?&gt;&lt;?cs /if ?&gt;&lt;?cs if:(?system.x11.dualhead.enabled &amp;&amp; system.x11.dualhead.enabled == 1) ?&gt;, &lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;&lt;?cs /if ?&gt;"</span>
    <span style="color: #204A87;">#</span><span style="color: #204A87;">Option         "ConnectedMonitor"</span>
    <span style="color: #4E9A06;">"&lt;?cs if:(?system.x11.display.0.device) ?&gt;</span>
<span style="color: #4E9A06;">          &lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;</span>
<span style="color: #4E9A06;">     &lt;?cs else ?&gt;</span>
<span style="color: #4E9A06;">          &lt;?cs var:system.x11.default ?&gt;</span>
<span style="color: #4E9A06;">     &lt;?cs /if ?&gt;</span>
<span style="color: #4E9A06;">     &lt;?cs if:(?system.x11.dualhead.enabled &amp;&amp; system.x11.dualhead.enabled == 1) ?&gt;, &lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;&lt;?cs /if ?&gt;"</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option         "UseDisplayDevice" "&lt;?cs if:(?system.x11.display.0.device) ?&gt;&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;&lt;?cs else ?&gt;&lt;?cs var:system.x11.default ?&gt;&lt;?cs /if ?&gt;"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs /if ?&gt;</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs if:(?system.hardware.nvidia.0.edid &amp;&amp; system.hardware.nvidia.0.edid == "1") ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option         "CustomEDID" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;:/etc/X11/edid.0.yavdr"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs /if ?&gt;</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs if:(system.hardware.nvidia.detected == 1 &amp;&amp; ?system.x11.display.0.device) ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;: &lt;?cs var:system.x11.display.0.default ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.0.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.0.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusy ?&gt; }"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs each:mode = system.x11.display.0.mode ?&gt;&lt;?cs if:(mode != system.x11.display.0.default) ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;: &lt;?cs var:mode ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.0.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.0.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusy ?&gt; }"&lt;?cs /if ?&gt;&lt;?cs /each ?&gt; </span>
{% endif %}
EndSection

{% if system.x11.dualhead.enabled == <span style="color: #4E9A06;">"1"</span> %}
Section <span style="color: #4E9A06;">"Screen"</span>

     Identifier     <span style="color: #4E9A06;">"Screen1"</span>
     Device         <span style="color: #4E9A06;">"Device1"</span>
     Monitor        <span style="color: #4E9A06;">"Monitor1"</span>
     DefaultDepth    24
     SubSection     <span style="color: #4E9A06;">"Display"</span>
         Depth       24
{% if system.x11.display.0.default is defined and system.x11.display.0.default %}
         Modes      <span style="color: #4E9A06;">"{{ system.x11.display.1.default }}"</span>{% for mode<span style="color: #A52A2A; font-weight: bold;"> in</span> system.x11.display.1.mode %}{% if mode != system.x11.display.1.default %} <span style="color: #4E9A06;">"{{ mode }}"</span>{% endif %}{% endfor %}

{% elif system.hardware.nvidia.detected == <span style="color: #4E9A06;">"1"</span> %}
         Modes      <span style="color: #4E9A06;">"nvidia-auto-select"</span>
{% endif %}
      EndSubSection

<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs if:(?system.x11.display.1.default &amp;&amp; system.x11.display.1.default != "" &amp;&amp; system.x11.display.1.default != "disabled") ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option         "UseDisplayDevice" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs /if ?&gt;</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs if:(?system.hardware.nvidia.1.edid &amp;&amp; system.hardware.nvidia.1.edid == "1") ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option         "CustomEDID" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;:/etc/X11/edid.1.yavdr"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs /if ?&gt;</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs if:(system.hardware.nvidia.detected == 1 &amp;&amp; ?system.x11.display.1.device) ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;: &lt;?cs var:system.x11.display.1.default ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.1.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.1.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusy ?&gt; }"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs each:mode = system.x11.display.1.mode ?&gt;&lt;?cs if:(mode != system.x11.display.1.default) ?&gt;</span>
<span style="color: #204A87;">#     </span><span style="color: #204A87;">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;: &lt;?cs var:mode ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.1.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.1.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusy ?&gt; }"&lt;?cs /if ?&gt;&lt;?cs /each ?&gt;</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">&lt;?cs /if ?&gt;</span>
EndSection
{% endif %}

{% if not system.x11.use_compositing %}
Section <span style="color: #4E9A06;">"Extensions"</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">if not open-gl OSD is needed (e.g. for vdr-sxfe):</span>
    Option         <span style="color: #4E9A06;">"Composite"</span> <span style="color: #4E9A06;">"Disable"</span>
EndSection
{% endif %}
</pre>
</div>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">foo</span>:
  - bar
  - baz
  - spam

<span style="color: #0084C8; font-weight: bold;">system</span>:
  <span style="color: #0084C8; font-weight: bold;">hardware</span>:
    <span style="color: #0084C8; font-weight: bold;">nvidia</span>:
      <span style="color: #0084C8; font-weight: bold;">detected</span>: <span style="color: #4E9A06;">"1"</span>
      <span style="color: #0084C8; font-weight: bold;">busid</span>: <span style="color: #4E9A06;">"000:2304:234"</span>
  <span style="color: #0084C8; font-weight: bold;">x11</span>:
    <span style="color: #0084C8; font-weight: bold;">dualhead</span>:
      <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #4E9A06;">"0"</span>
    <span style="color: #0084C8; font-weight: bold;">display</span>:
      <span style="color: #0084C8; font-weight: bold;">0</span>:
        <span style="color: #0084C8; font-weight: bold;">mode</span>:
          - <span style="color: #4E9A06;">"1920x1080_50"</span>
        <span style="color: #0084C8; font-weight: bold;">default</span>: <span style="color: #4E9A06;">"nvidia-auto"</span>

      <span style="color: #0084C8; font-weight: bold;">1</span>:
        <span style="color: #0084C8; font-weight: bold;">mode</span>:
          - <span style="color: #4E9A06;">"1280x720_60"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge371257" class="outline-3">
<h3 id="orge371257"><span class="section-number-3">8.25</span> grub-config</h3>
<div class="outline-text-3" id="text-8-25">
</div><div id="outline-container-org156239d" class="outline-4">
<h4 id="org156239d"><span class="section-number-4">8.25.1</span> default variables</h4>
<div class="outline-text-4" id="text-8-25-1">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #0084C8; font-weight: bold;">system</span>:
  <span style="color: #0084C8; font-weight: bold;">shutdown</span>: poweroff
<span style="color: #0084C8; font-weight: bold;">grub</span>:
  <span style="color: #0084C8; font-weight: bold;">timeout</span>: 0
  <span style="color: #0084C8; font-weight: bold;">boot_options</span>: quiet nosplash
</pre>
</div>
</div>
</div>
<div id="outline-container-orgadb1e7c" class="outline-4">
<h4 id="orgadb1e7c"><span class="section-number-4">8.25.2</span> tasks</h4>
<div class="outline-text-4" id="text-8-25-2">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: custom grub configuration for timeout and reboot halt
  <span style="color: #0084C8; font-weight: bold;">template</span>:
    <span style="color: #0084C8; font-weight: bold;">src</span>: templates/50_custom.j2
    <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/grub.d/50_custom
    <span style="color: #0084C8; font-weight: bold;">mode</span>: <span style="color: #4E9A06;">'0775'</span>
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Update GRUB'</span> ]

<span style="color: #204A87;"># </span><span style="color: #204A87;">TODO: add special case if plymouth is used</span>
- <span style="color: #0084C8; font-weight: bold;">name</span>: let the system boot quietly
  <span style="color: #0084C8; font-weight: bold;">lineinfile</span>:
      <span style="color: #0084C8; font-weight: bold;">dest</span>: /etc/default/grub
      <span style="color: #0084C8; font-weight: bold;">state</span>: present
      <span style="color: #0084C8; font-weight: bold;">regexp</span>: <span style="color: #4E9A06;">'^(GRUB_CMDLINE_LINUX_DEFAULT=")'</span>
      <span style="color: #0084C8; font-weight: bold;">line</span>: <span style="color: #4E9A06;">'\1{{ grub.boot_options}}"'</span>
      <span style="color: #0084C8; font-weight: bold;">backrefs</span>: <span style="color: #F5666D;">yes</span>
  <span style="color: #0084C8; font-weight: bold;">notify</span>: [ <span style="color: #4E9A06;">'Update GRUB'</span> ]
</pre>
</div>
</div>
</div>
<div id="outline-container-org3458036" class="outline-4">
<h4 id="org3458036"><span class="section-number-4">8.25.3</span> templates</h4>
<div class="outline-text-4" id="text-8-25-3">
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #204A87;">#</span><span style="color: #204A87;">!/bin/</span><span style="color: #A52A2A; font-weight: bold;">sh</span>
<span style="color: #A52A2A; font-weight: bold;">exec</span> tail -n +3 $<span style="color: #0084C8; font-weight: bold;">0</span>

<span style="color: #204A87;"># </span><span style="color: #204A87;">This file is configured by the ansible configuration for yaVDR</span>

{% if system.shutdown is defined and system.shutdown == <span style="color: #4E9A06;">'reboot'</span> %}
menuentry <span style="color: #4E9A06;">"PowerOff"</span> {
    halt
}
{% endif %}

<span style="color: #A52A2A; font-weight: bold;">if</span> [ <span style="color: #4E9A06;">"${recordfail}"</span> = 1 ]; <span style="color: #A52A2A; font-weight: bold;">then</span>
    <span style="color: #A020F0;">set</span> <span style="color: #0084C8; font-weight: bold;">timeout</span>={{ 3 if grub.timeout &lt; 3 else grub.timeout }}
<span style="color: #A52A2A; font-weight: bold;">else</span>
    <span style="color: #A020F0;">set</span> <span style="color: #0084C8; font-weight: bold;">timeout</span>={{ grub.timeout if grub.timeout is defined else 0 }}
<span style="color: #A52A2A; font-weight: bold;">fi</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org052981a" class="outline-4">
<h4 id="org052981a"><span class="section-number-4">8.25.4</span> handlers</h4>
<div class="outline-text-4" id="text-8-25-4">
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #204A87;">---</span>

- <span style="color: #0084C8; font-weight: bold;">name</span>: Update GRUB
  <span style="color: #0084C8; font-weight: bold;">command</span>: update-grub
  <span style="color: #0084C8; font-weight: bold;">failed_when</span>: (<span style="color: #4E9A06;">'error'</span> in grub_register_update.stderr)
  <span style="color: #0084C8; font-weight: bold;">register</span>: grub_register_update

  <span style="color: #204A87;"># </span><span style="color: #204A87;">TODO: Do we need to use grub-set-default?</span>
  <span style="color: #204A87;"># </span><span style="color: #204A87;">https://github.com/yavdr/yavdr-utils/blob/master/events/actions/update-grub</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf433758" class="outline-2">
<h2 id="orgf433758"><span class="section-number-2">9</span> Modules</h2>
<div class="outline-text-2" id="text-9">
<p>
This section contains custom modules for the yaVDR Playbooks. They are used to collect facts about the system and configure applications and daemons.
</p>
</div>
<div id="outline-container-org57de6e2" class="outline-3">
<h3 id="org57de6e2"><span class="section-number-3">9.1</span> hardware_facts.py</h3>
<div class="outline-text-3" id="text-9-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #204A87;"># </span><span style="color: #204A87;">This Module collects the vendor- and device ids for USB- and PCI(e)-devices and currently loaded kernel modules.</span>
<span style="color: #0084C8; font-weight: bold;">DOCUMENTATION</span> = <span style="color: #4E9A06;">'''</span>
<span style="color: #4E9A06;">  ---</span>
<span style="color: #4E9A06;">  module: hardware_facts</span>
<span style="color: #4E9A06;">  short_description: collects facts for kernel modules, usb and pci devices</span>
<span style="color: #4E9A06;">  description:</span>
<span style="color: #4E9A06;">       - This Module collects the vendor- and device ids for USB- and PCI(e)-devices and</span>
<span style="color: #4E9A06;">         currently loaded kernel modules.</span>
<span style="color: #4E9A06;">  options:</span>
<span style="color: #4E9A06;">      usb:</span>
<span style="color: #4E9A06;">          required: False</span>
<span style="color: #4E9A06;">          default: True</span>
<span style="color: #4E9A06;">          description:</span>
<span style="color: #4E9A06;">            - return a list of vendor- and device ids for usb devices in '04x:04x' notation</span>

<span style="color: #4E9A06;">    pci:</span>
<span style="color: #4E9A06;">        required: False</span>
<span style="color: #4E9A06;">        default: True</span>
<span style="color: #4E9A06;">        description:</span>
<span style="color: #4E9A06;">          - return a list of vendor- and device ids for pci devices in '04x:04x' notation</span>

<span style="color: #4E9A06;">    modules:</span>
<span style="color: #4E9A06;">        required: False</span>
<span style="color: #4E9A06;">        default: True</span>
<span style="color: #4E9A06;">        description:</span>
<span style="color: #4E9A06;">          - return a list of currently loaded kernel modules</span>

<span style="color: #4E9A06;">    gpus:</span>
<span style="color: #4E9A06;">        required: False</span>
<span style="color: #4E9A06;">        default: True</span>
<span style="color: #4E9A06;">        description:</span>
<span style="color: #4E9A06;">          - return a list of devices of the pci gpu class (0x030000)</span>
<span style="color: #4E9A06;">notes:</span>
<span style="color: #4E9A06;">   - requres python-pyusb and python-kmodpy</span>
<span style="color: #4E9A06;">requirements: [ ]</span>
<span style="color: #4E9A06;">author: "Alexander Grothe <a href="mailto:seahawk1986%40gmx.de">&lt;seahawk1986@gmx.de&gt;</a>"</span>
<span style="color: #4E9A06;">'''</span>

<span style="color: #0084C8; font-weight: bold;">EXAMPLES</span> = <span style="color: #4E9A06;">'''</span>
<span style="color: #4E9A06;">- name: get information about usb and pci hardware and loaded kernel modules</span>
<span style="color: #4E9A06;">  hardware_facts:</span>
<span style="color: #4E9A06;">    usb: True</span>
<span style="color: #4E9A06;">    pci: True</span>
<span style="color: #4E9A06;">    modules: True</span>
<span style="color: #4E9A06;">- debug:</span>
<span style="color: #4E9A06;">    var: usb</span>
<span style="color: #4E9A06;">- debug</span>
<span style="color: #4E9A06;">    var: pci</span>
<span style="color: #4E9A06;">- debug</span>
<span style="color: #4E9A06;">    var: modules</span>
<span style="color: #4E9A06;">- debug</span>
<span style="color: #4E9A06;">    var: gpus</span>
<span style="color: #4E9A06;">'''</span>

<span style="color: #A52A2A; font-weight: bold;">import</span> glob
<span style="color: #A52A2A; font-weight: bold;">import</span> json
<span style="color: #A52A2A; font-weight: bold;">import</span> os
<span style="color: #A52A2A; font-weight: bold;">import</span> sys
<span style="color: #A52A2A; font-weight: bold;">import</span> usb.core
<span style="color: #A52A2A; font-weight: bold;">from</span> collections <span style="color: #A52A2A; font-weight: bold;">import</span> namedtuple

<span style="color: #A52A2A; font-weight: bold;">import</span> kmodpy
<span style="color: #A52A2A; font-weight: bold;">from</span> ansible.module_utils.basic <span style="color: #A52A2A; font-weight: bold;">import</span> *


<span style="color: #0084C8; font-weight: bold;">PCIDevice</span> = namedtuple(<span style="color: #4E9A06;">"PCIDevice"</span>, <span style="color: #4E9A06;">'idVendor idProduct idClass pciPath'</span>)

<span style="color: #0084C8; font-weight: bold;">vendor_dict</span> = {
    0x10de: <span style="color: #4E9A06;">'nvidia'</span>,
    0x8086: <span style="color: #4E9A06;">'intel'</span>,
    0x1002: <span style="color: #4E9A06;">'amd'</span>,
    0x80ee: <span style="color: #4E9A06;">'virtualbox'</span>,
    }

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">get_pci_devices</span>():
    <span style="color: #A52A2A; font-weight: bold;">for</span> device <span style="color: #A52A2A; font-weight: bold;">in</span> glob.glob(<span style="color: #4E9A06;">'/sys/devices/pci*/*:*:*/*:*:*/'</span>):
        <span style="color: #A52A2A; font-weight: bold;">try</span>:
            <span style="color: #A52A2A; font-weight: bold;">with</span> <span style="color: #A020F0;">open</span>(os.path.join(device, <span style="color: #4E9A06;">'device'</span>)) <span style="color: #A52A2A; font-weight: bold;">as</span> d:
                <span style="color: #0084C8; font-weight: bold;">product_id</span> = <span style="color: #A020F0;">int</span>(d.read().strip(), 16)
            <span style="color: #A52A2A; font-weight: bold;">with</span> <span style="color: #A020F0;">open</span>(os.path.join(device, <span style="color: #4E9A06;">'vendor'</span>)) <span style="color: #A52A2A; font-weight: bold;">as</span> d:
                <span style="color: #0084C8; font-weight: bold;">vendor_id</span> = <span style="color: #A020F0;">int</span>(d.read().strip(), 16)
            <span style="color: #A52A2A; font-weight: bold;">with</span> <span style="color: #A020F0;">open</span>(os.path.join(device, <span style="color: #4E9A06;">'class'</span>)) <span style="color: #A52A2A; font-weight: bold;">as</span> d:
                <span style="color: #0084C8; font-weight: bold;">class_id</span> = <span style="color: #A020F0;">int</span>(d.read().strip(), 16)
            <span style="color: #A52A2A; font-weight: bold;">yield</span> PCIDevice(idVendor=vendor_id, idProduct=product_id, idClass=class_id, pciPath=device)
        <span style="color: #A52A2A; font-weight: bold;">except</span> <span style="color: #2F8B58; font-weight: bold;">IOError</span>:
            <span style="color: #A52A2A; font-weight: bold;">pass</span>

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">format_device_list</span>(iterator):
    <span style="color: #A52A2A; font-weight: bold;">return</span> [<span style="color: #4E9A06;">"{:04x}:{:04x}"</span>.<span style="color: #A020F0;">format</span>(d.idVendor, d.idProduct) <span style="color: #A52A2A; font-weight: bold;">for</span> d <span style="color: #A52A2A; font-weight: bold;">in</span> iterator]

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">format_gpu_device_list</span>(iterator):
    <span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">get_entries</span>(iterator):
        <span style="color: #A52A2A; font-weight: bold;">for</span> d <span style="color: #A52A2A; font-weight: bold;">in</span> iterator:
            <span style="color: #A52A2A; font-weight: bold;">if</span> d.idClass == 0x030000:
                <span style="color: #A52A2A; font-weight: bold;">yield</span> {<span style="color: #4E9A06;">"VendorName"</span>: vendor_dict.get(d.idVendor, <span style="color: #4E9A06;">"unknown"</span>),
                       <span style="color: #4E9A06;">"VendorID"</span>: d.idVendor, <span style="color: #4E9A06;">"ProductID"</span>: d.idProduct}
    <span style="color: #A52A2A; font-weight: bold;">return</span> [entry <span style="color: #A52A2A; font-weight: bold;">for</span> entry <span style="color: #A52A2A; font-weight: bold;">in</span> get_entries(iterator)]

<span style="color: #0084C8; font-weight: bold;">arg_specs</span> = {
    <span style="color: #4E9A06;">'usb'</span>: <span style="color: #A020F0;">dict</span>(default=<span style="color: #F5666D;">True</span>, <span style="color: #A020F0;">type</span>=<span style="color: #4E9A06;">'bool'</span>, required=<span style="color: #F5666D;">False</span>),
    <span style="color: #4E9A06;">'pci'</span>: <span style="color: #A020F0;">dict</span>(default=<span style="color: #F5666D;">True</span>, <span style="color: #A020F0;">type</span>=<span style="color: #4E9A06;">'bool'</span>, required=<span style="color: #F5666D;">False</span>),
    <span style="color: #4E9A06;">'modules'</span>: <span style="color: #A020F0;">dict</span>(default=<span style="color: #F5666D;">True</span>, <span style="color: #A020F0;">type</span>=<span style="color: #4E9A06;">'bool'</span>, required=<span style="color: #F5666D;">False</span>),
    <span style="color: #4E9A06;">'gpus'</span>: <span style="color: #A020F0;">dict</span>(default=<span style="color: #F5666D;">True</span>, <span style="color: #A020F0;">type</span>=<span style="color: #4E9A06;">'bool'</span>, required=<span style="color: #F5666D;">False</span>),
    }


<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">main</span>():
    <span style="color: #0084C8; font-weight: bold;">module</span> = AnsibleModule(argument_spec=arg_specs, supports_check_mode=<span style="color: #F5666D;">True</span>,)
    <span style="color: #0084C8; font-weight: bold;">collect_usb</span> = module.params[<span style="color: #4E9A06;">'usb'</span>]
    <span style="color: #0084C8; font-weight: bold;">collect_pci</span> = module.params[<span style="color: #4E9A06;">'pci'</span>]
    <span style="color: #0084C8; font-weight: bold;">collect_modules</span> = module.params[<span style="color: #4E9A06;">'modules'</span>]
    <span style="color: #0084C8; font-weight: bold;">collect_gpus</span> = module.params[<span style="color: #4E9A06;">'gpus'</span>]
    <span style="color: #A52A2A; font-weight: bold;">if</span> collect_usb:
        <span style="color: #0084C8; font-weight: bold;">usb_devices</span> = format_device_list(usb.core.find(find_all=<span style="color: #F5666D;">True</span>))
    <span style="color: #A52A2A; font-weight: bold;">else</span>:
        <span style="color: #0084C8; font-weight: bold;">usb_device</span> = []
    <span style="color: #A52A2A; font-weight: bold;">if</span> collect_pci:
        <span style="color: #0084C8; font-weight: bold;">pci_devices</span> = format_device_list(get_pci_devices())
    <span style="color: #A52A2A; font-weight: bold;">else</span>:
        <span style="color: #0084C8; font-weight: bold;">pci_devices</span> = []
    <span style="color: #A52A2A; font-weight: bold;">if</span> collect_modules:
        <span style="color: #0084C8; font-weight: bold;">k</span> = kmodpy.Kmod()
        <span style="color: #0084C8; font-weight: bold;">modules</span> = [m[0] <span style="color: #A52A2A; font-weight: bold;">for</span> m <span style="color: #A52A2A; font-weight: bold;">in</span> k.loaded()]
    <span style="color: #A52A2A; font-weight: bold;">else</span>:
        <span style="color: #0084C8; font-weight: bold;">modules</span> = []
    <span style="color: #A52A2A; font-weight: bold;">if</span> collect_gpus:
        <span style="color: #0084C8; font-weight: bold;">gpus</span> = format_gpu_device_list(get_pci_devices())
    <span style="color: #A52A2A; font-weight: bold;">else</span>:
        <span style="color: #0084C8; font-weight: bold;">gpus</span> = []
    <span style="color: #0084C8; font-weight: bold;">data</span> = {<span style="color: #4E9A06;">'usb'</span>: usb_devices, <span style="color: #4E9A06;">'pci'</span>: pci_devices, <span style="color: #4E9A06;">'modules'</span>: modules, <span style="color: #4E9A06;">'gpus'</span>: gpus}
    module.exit_json(changed=<span style="color: #F5666D;">False</span>, ansible_facts=data, msg=data)


<span style="color: #A52A2A; font-weight: bold;">if</span> <span style="color: #A020F0;">__name__</span> == <span style="color: #4E9A06;">'__main__'</span>:  
    main()
</pre>
</div>
</div>
</div>
<div id="outline-container-orgeed3910" class="outline-3">
<h3 id="orgeed3910"><span class="section-number-3">9.2</span> satip_facts.py</h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #0084C8; font-weight: bold;">DOCUMENTATION</span> = <span style="color: #4E9A06;">'''</span>
<span style="color: #4E9A06;">---</span>
<span style="color: #4E9A06;">module: hardware_facts</span>
<span style="color: #4E9A06;">short_description: "check if at least one SAT&gt;IP server responds on the network"</span>
<span style="color: #4E9A06;">description:</span>
<span style="color: #4E9A06;">     - This script sends a multicast message and awaits responses by Sat&gt;IP servers.</span>
<span style="color: #4E9A06;">       Returns the boolean variable 'satip_detected'</span>
<span style="color: #4E9A06;">'''</span>
<span style="color: #0084C8; font-weight: bold;">EXAMPLES</span> = <span style="color: #4E9A06;">'''</span>
<span style="color: #4E9A06;">- name: "detect SAT&gt;IP Server on the network"</span>
<span style="color: #4E9A06;">  action: satip_facts</span>

<span style="color: #4E9A06;">- debug:</span>
<span style="color: #4E9A06;">    var: satip_detected</span>
<span style="color: #4E9A06;">'''</span>

<span style="color: #A52A2A; font-weight: bold;">import</span> json
<span style="color: #A52A2A; font-weight: bold;">import</span> socket
<span style="color: #A52A2A; font-weight: bold;">import</span> sys
<span style="color: #A52A2A; font-weight: bold;">import</span> time

<span style="color: #A52A2A; font-weight: bold;">from</span> ansible.module_utils.basic <span style="color: #A52A2A; font-weight: bold;">import</span> *

<span style="color: #0084C8; font-weight: bold;">SSDP_ADDR</span> = <span style="color: #4E9A06;">"239.255.255.250"</span>
<span style="color: #0084C8; font-weight: bold;">SSDP_PORT</span> = 1900
<span style="color: #204A87;"># </span><span style="color: #204A87;">SSDP_MX = max delay for server response</span>
<span style="color: #204A87;"># </span><span style="color: #204A87;">a value of 2s is recommended by the SAT&gt;IP specification 1.2.2</span>
<span style="color: #0084C8; font-weight: bold;">SSDP_MX</span> = 2
<span style="color: #0084C8; font-weight: bold;">SSDP_ST</span> = <span style="color: #4E9A06;">"urn:ses-com:device:SatIPServer:1"</span>

<span style="color: #0084C8; font-weight: bold;">ssdpRequest</span> = <span style="color: #4E9A06;">"\r\n"</span>.join((
    <span style="color: #4E9A06;">"M-SEARCH * HTTP/1.1"</span>,
    <span style="color: #4E9A06;">"HOST: %s:%d"</span> % (SSDP_ADDR, SSDP_PORT),
    <span style="color: #4E9A06;">"MAN: \"ssdp:discover\""</span>,
    <span style="color: #4E9A06;">"MX: %d"</span> % (SSDP_MX),
    <span style="color: #4E9A06;">"ST: %s"</span> % (SSDP_ST),
    <span style="color: #4E9A06;">"\r\n"</span>))

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">main</span>():
    <span style="color: #0084C8; font-weight: bold;">module</span> = AnsibleModule(argument_spec={}, supports_check_mode=<span style="color: #F5666D;">True</span>,)
    <span style="color: #0084C8; font-weight: bold;">sock</span> = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    <span style="color: #204A87;"># </span><span style="color: #204A87;">according to Sat&gt;IP Specification 1.2.2, p. 20</span>
    <span style="color: #204A87;"># </span><span style="color: #204A87;">a client should send three requests within 100 ms with a ttl of 2</span>
    sock.setsockopt(socket.IPPROTO_IP, socket.IP_MULTICAST_TTL, 2)
    sock.settimeout(SSDP_MX + 0.5)
    <span style="color: #A52A2A; font-weight: bold;">for</span> _ <span style="color: #A52A2A; font-weight: bold;">in</span> <span style="color: #A020F0;">range</span>(3):
        sock.sendto(ssdpRequest, (SSDP_ADDR, SSDP_PORT))
        time.sleep(0.03)
    <span style="color: #A52A2A; font-weight: bold;">try</span>:
        <span style="color: #0084C8; font-weight: bold;">response</span> = sock.recv(1000)
        <span style="color: #A52A2A; font-weight: bold;">if</span> response <span style="color: #A52A2A; font-weight: bold;">and</span> <span style="color: #4E9A06;">"SERVER:"</span> <span style="color: #A52A2A; font-weight: bold;">in</span> response:
            <span style="color: #0084C8; font-weight: bold;">got_response</span> = <span style="color: #F5666D;">True</span>
        <span style="color: #A52A2A; font-weight: bold;">else</span>:
            <span style="color: #A52A2A; font-weight: bold;">raise</span> <span style="color: #2F8B58; font-weight: bold;">ValueError</span>(<span style="color: #4E9A06;">'No satip server detected'</span>)
    <span style="color: #A52A2A; font-weight: bold;">except</span> (socket.timeout, <span style="color: #2F8B58; font-weight: bold;">ValueError</span>):
        <span style="color: #0084C8; font-weight: bold;">got_response</span> = <span style="color: #F5666D;">False</span>

    module.exit_json(changed=<span style="color: #F5666D;">False</span>, ansible_facts={<span style="color: #4E9A06;">'satip_detected'</span>: got_response})

<span style="color: #A52A2A; font-weight: bold;">if</span> <span style="color: #A020F0;">__name__</span> == <span style="color: #4E9A06;">'__main__'</span>:  
    main()
</pre>
</div>
</div>
</div>
<div id="outline-container-org68520b6" class="outline-3">
<h3 id="org68520b6"><span class="section-number-3">9.3</span> xrandr_facts.py</h3>
<div class="outline-text-3" id="text-9-3">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> support multiple screens (-d :0.0 .. :0.n)</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #A52A2A; font-weight: bold;">from</span> __future__ <span style="color: #A52A2A; font-weight: bold;">import</span> print_function
<span style="color: #A52A2A; font-weight: bold;">import</span> ast
<span style="color: #A52A2A; font-weight: bold;">import</span> binascii
<span style="color: #A52A2A; font-weight: bold;">import</span> csv
<span style="color: #A52A2A; font-weight: bold;">import</span> re
<span style="color: #A52A2A; font-weight: bold;">import</span> subprocess
<span style="color: #A52A2A; font-weight: bold;">from</span> collections <span style="color: #A52A2A; font-weight: bold;">import</span> namedtuple

<span style="color: #A52A2A; font-weight: bold;">from</span> ansible.module_utils.basic <span style="color: #A52A2A; font-weight: bold;">import</span> *

<span style="color: #0084C8; font-weight: bold;">DOCUMENTATION</span> = <span style="color: #4E9A06;">'''</span>
<span style="color: #4E9A06;">---</span>
<span style="color: #4E9A06;">module: xrandr_facts</span>
<span style="color: #4E9A06;">short_description: "gather facts about connected monitors and available modelines"</span>
<span style="color: #4E9A06;">description:</span>
<span style="color: #4E9A06;">     - This module needs a running x-server on a given display in order to successfully call xrandr.</span>
<span style="color: #4E9A06;">       Returns the dictionary "xrandr", wich contains all screens with output states, connected displays,</span>
<span style="color: #4E9A06;">       EDID info and their modes and a recommendation for the best fitting tv mode.</span>
<span style="color: #4E9A06;">options:</span>
<span style="color: #4E9A06;">    display:</span>
<span style="color: #4E9A06;">        required: False</span>
<span style="color: #4E9A06;">        default: ":0"</span>
<span style="color: #4E9A06;">        description:</span>
<span style="color: #4E9A06;">          - the DISPLAY variable to use when calling xrandr</span>
<span style="color: #4E9A06;">    preferred_outpus:</span>
<span style="color: #4E9A06;">        required: False</span>
<span style="color: #4E9A06;">        default: ["HDMI", "DP", "DVI", "VGA", "TV": 0]</span>
<span style="color: #4E9A06;">        description:</span>
<span style="color: #4E9A06;">          - ranking of the preferred display connectors</span>
<span style="color: #4E9A06;">    preferred_refreshrates:</span>
<span style="color: #4E9A06;">        required: False</span>
<span style="color: #4E9A06;">        default: ["50", "60", "75", "30", "25"]</span>
<span style="color: #4E9A06;">        description:</span>
<span style="color: #4E9A06;">          - ranking of the preferred display refreshrate</span>
<span style="color: #4E9A06;">    preferred_resolutions:</span>
<span style="color: #4E9A06;">        required: False</span>
<span style="color: #4E9A06;">        default: ["7680x4320", "3840x2160", "1920x1080", "1280x720", "720x576"]</span>
<span style="color: #4E9A06;">        description:</span>
<span style="color: #4E9A06;">           - ranking of the preferred display resolutions</span>
<span style="color: #4E9A06;">    write_edids:</span>
<span style="color: #4E9A06;">        required: False</span>
<span style="color: #4E9A06;">        default: True</span>
<span style="color: #4E9A06;">        description:</span>
<span style="color: #4E9A06;">           - write edid data to /etc/X11/edid.{connector}.bin</span>
<span style="color: #4E9A06;">'''</span>
<span style="color: #0084C8; font-weight: bold;">EXAMPLES</span> = <span style="color: #4E9A06;">'''</span>
<span style="color: #4E9A06;">- name: "collect facts for connected displays"</span>
<span style="color: #4E9A06;">  action: xserver_facts</span>
<span style="color: #4E9A06;">    display: ":0"</span>

<span style="color: #4E9A06;">- debug:</span>
<span style="color: #4E9A06;">    var: xrandr</span>

<span style="color: #4E9A06;">- debug:</span>
<span style="color: #4E9A06;">    var: xorg</span>
<span style="color: #4E9A06;">'''</span>

<span style="color: #0084C8; font-weight: bold;">ARG_SPECS</span> = {
    <span style="color: #4E9A06;">'display'</span>: <span style="color: #A020F0;">dict</span>(default=<span style="color: #4E9A06;">":0"</span>, <span style="color: #A020F0;">type</span>=<span style="color: #4E9A06;">'str'</span>, required=<span style="color: #F5666D;">False</span>),
    <span style="color: #4E9A06;">'preferred_outputs'</span>: <span style="color: #A020F0;">dict</span>(
        default=[<span style="color: #4E9A06;">"HDMI"</span>, <span style="color: #4E9A06;">"DP"</span>, <span style="color: #4E9A06;">"DVI"</span>, <span style="color: #4E9A06;">"VGA"</span>, <span style="color: #4E9A06;">"TV"</span>], <span style="color: #A020F0;">type</span>=<span style="color: #4E9A06;">'list'</span>, required=<span style="color: #F5666D;">False</span>),
    <span style="color: #4E9A06;">'preferred_refreshrates'</span>: <span style="color: #A020F0;">dict</span>(
        default=[50, 60, 75, 30, 25], <span style="color: #A020F0;">type</span>=<span style="color: #4E9A06;">'list'</span>, required=<span style="color: #F5666D;">False</span>),
    <span style="color: #4E9A06;">'preferred_resolutions'</span>: <span style="color: #A020F0;">dict</span>(
        default=[
            <span style="color: #4E9A06;">"7680x4320"</span>, <span style="color: #4E9A06;">"3840x2160"</span>, <span style="color: #4E9A06;">"1920x1080"</span>, <span style="color: #4E9A06;">"1280x720"</span>, <span style="color: #4E9A06;">"720x576"</span>],
        <span style="color: #A020F0;">type</span>=<span style="color: #4E9A06;">'list'</span>, required=<span style="color: #F5666D;">False</span>),
    <span style="color: #4E9A06;">'write_edids'</span>: <span style="color: #A020F0;">dict</span>(default=<span style="color: #F5666D;">True</span>, <span style="color: #A020F0;">type</span>=<span style="color: #4E9A06;">'bool'</span>, required=<span style="color: #F5666D;">False</span>),
    }

<span style="color: #0084C8; font-weight: bold;">SCREEN_REGEX</span> = re.<span style="color: #A020F0;">compile</span>(<span style="color: #4E9A06;">"^(?P&lt;screen&gt;Screen\s\d+:)(?:.*)"</span>)
<span style="color: #0084C8; font-weight: bold;">CONNECTOR_REGEX</span> = re.<span style="color: #A020F0;">compile</span>(
    <span style="color: #4E9A06;">"^(?P&lt;connector&gt;.*-\d+)\s(?P&lt;connection_state&gt;connected|disconnected)\s(?P&lt;primary&gt;primary)?"</span>)
<span style="color: #0084C8; font-weight: bold;">MODE_REGEX</span> = re.<span style="color: #A020F0;">compile</span>(<span style="color: #4E9A06;">"^\s+(?P&lt;resolution&gt;\d{3,}x\d{3,}).*"</span>)

<span style="color: #0084C8; font-weight: bold;">Mode</span> = namedtuple(<span style="color: #4E9A06;">'Mode'</span>, [<span style="color: #4E9A06;">'connection'</span>, <span style="color: #4E9A06;">'resolution'</span>, <span style="color: #4E9A06;">'refreshrate'</span>])

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">check_for_screen</span>(line):
    <span style="color: #4E9A06;">"""check line for screen information"""</span>
    <span style="color: #0084C8; font-weight: bold;">match</span> = re.match(SCREEN_REGEX, line)
    <span style="color: #A52A2A; font-weight: bold;">if</span> match:
        <span style="color: #A52A2A; font-weight: bold;">return</span> match.groupdict()[<span style="color: #4E9A06;">'screen'</span>]

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">check_for_connection</span>(line):
    <span style="color: #4E9A06;">"""check line for connection name and state"""</span>
    <span style="color: #0084C8; font-weight: bold;">match</span> = re.match(CONNECTOR_REGEX, line)
    <span style="color: #0084C8; font-weight: bold;">connector</span> = <span style="color: #F5666D;">None</span>
    <span style="color: #0084C8; font-weight: bold;">is_connected</span> = <span style="color: #F5666D;">False</span>
    <span style="color: #A52A2A; font-weight: bold;">if</span> match:
        <span style="color: #0084C8; font-weight: bold;">match</span> = match.groupdict()
        <span style="color: #0084C8; font-weight: bold;">connector</span> = match[<span style="color: #4E9A06;">'connector'</span>]
        <span style="color: #0084C8; font-weight: bold;">is_connected</span> = <span style="color: #F5666D;">True</span> <span style="color: #A52A2A; font-weight: bold;">if</span> match[<span style="color: #4E9A06;">'connection_state'</span>] == <span style="color: #4E9A06;">'connected'</span> <span style="color: #A52A2A; font-weight: bold;">else</span> <span style="color: #F5666D;">False</span>
    <span style="color: #A52A2A; font-weight: bold;">return</span> connector, is_connected

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">get_indentation</span>(line):
    <span style="color: #4E9A06;">"""return the number of leading whitespace characters"""</span>
    <span style="color: #A52A2A; font-weight: bold;">return</span> <span style="color: #A020F0;">len</span>(line) - <span style="color: #A020F0;">len</span>(line.lstrip())

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">sort_mode</span>(mode):
    <span style="color: #4E9A06;">"""rate modes by several criteria"""</span>
    <span style="color: #0084C8; font-weight: bold;">connection_score</span> = 0
    <span style="color: #0084C8; font-weight: bold;">rrate_score</span> = 0
    <span style="color: #0084C8; font-weight: bold;">resolution_score</span> = 0
    <span style="color: #0084C8; font-weight: bold;">preferred_rrates</span> = module.params[<span style="color: #4E9A06;">'preferred_refreshrates'</span>]
    <span style="color: #204A87;"># </span><span style="color: #204A87;">[50, 60]</span>
    <span style="color: #0084C8; font-weight: bold;">preferred_resolutions</span> = module.params[<span style="color: #4E9A06;">'preferred_resolutions'</span>]
    <span style="color: #204A87;"># </span><span style="color: #204A87;">["7680x4320", "3840x2160", "1920x1080", "1280x720", "720x576"]</span>
    <span style="color: #0084C8; font-weight: bold;">preferred_outputs</span> = module.params[<span style="color: #4E9A06;">'preferred_outputs'</span>]
    <span style="color: #204A87;"># </span><span style="color: #204A87;">["HDMI", "DP", "DVI", "VGA"]</span>
    <span style="color: #A52A2A; font-weight: bold;">if</span> mode.refreshrate <span style="color: #A52A2A; font-weight: bold;">in</span> preferred_rrates:
        <span style="color: #0084C8; font-weight: bold;">rrate_score</span> = <span style="color: #A020F0;">len</span>(preferred_rrates) - preferred_rrates.index(mode.refreshrate)
    <span style="color: #A52A2A; font-weight: bold;">if</span> mode.resolution <span style="color: #A52A2A; font-weight: bold;">in</span> preferred_resolutions:
        <span style="color: #0084C8; font-weight: bold;">resolution_score</span> = <span style="color: #A020F0;">len</span>(preferred_resolutions) - preferred_resolutions.index(mode.resolution)
    <span style="color: #0084C8; font-weight: bold;">x_resolution</span>, <span style="color: #0084C8; font-weight: bold;">y_resolution</span> = (<span style="color: #A020F0;">int</span>(n) <span style="color: #A52A2A; font-weight: bold;">for</span> n <span style="color: #A52A2A; font-weight: bold;">in</span>  mode.resolution.split(<span style="color: #4E9A06;">'x'</span>))
    <span style="color: #0084C8; font-weight: bold;">connection</span> = mode.connection.split(<span style="color: #4E9A06;">'-'</span>)[0]
    <span style="color: #A52A2A; font-weight: bold;">if</span> connection <span style="color: #A52A2A; font-weight: bold;">in</span> preferred_outputs:
        <span style="color: #0084C8; font-weight: bold;">connection_score</span> = <span style="color: #A020F0;">len</span>(preferred_outputs) - preferred_outputs.index(connection)
    <span style="color: #A52A2A; font-weight: bold;">return</span> (rrate_score, resolution_score, x_resolution, y_resolution, connection_score)

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">parse_xrandr_verbose</span>(iterator):
    <span style="color: #4E9A06;">"""parse the output of xrandr --verbose using an iterator delivering single lines"""</span>
    <span style="color: #0084C8; font-weight: bold;">xorg</span> = {}
    <span style="color: #0084C8; font-weight: bold;">is_connected</span> = <span style="color: #F5666D;">False</span>
    <span style="color: #A52A2A; font-weight: bold;">for</span> line <span style="color: #A52A2A; font-weight: bold;">in</span> iterator:
        <span style="color: #A52A2A; font-weight: bold;">if</span> line.startswith(<span style="color: #4E9A06;">'Screen'</span>):
            <span style="color: #0084C8; font-weight: bold;">screen</span> = check_for_screen(line)
            <span style="color: #0084C8; font-weight: bold;">xorg</span>[screen] = {}
        <span style="color: #A52A2A; font-weight: bold;">elif</span> <span style="color: #4E9A06;">'connected'</span> <span style="color: #A52A2A; font-weight: bold;">in</span> line:
            <span style="color: #0084C8; font-weight: bold;">connector</span>, <span style="color: #0084C8; font-weight: bold;">is_connected</span> = check_for_connection(line)
            xorg[screen][connector] = {
                <span style="color: #4E9A06;">'is_connected'</span>: is_connected,
                <span style="color: #4E9A06;">'EDID'</span>: <span style="color: #4E9A06;">''</span>,
                <span style="color: #4E9A06;">'modes'</span>: {},
                <span style="color: #4E9A06;">'preferred'</span>: <span style="color: #4E9A06;">''</span>,
                <span style="color: #4E9A06;">'current'</span>: <span style="color: #4E9A06;">''</span>,
                <span style="color: #4E9A06;">'auto'</span>: <span style="color: #4E9A06;">''</span>,
                }
        <span style="color: #A52A2A; font-weight: bold;">elif</span> is_connected <span style="color: #A52A2A; font-weight: bold;">and</span> <span style="color: #4E9A06;">'EDID:'</span> <span style="color: #A52A2A; font-weight: bold;">in</span> line:
            <span style="color: #0084C8; font-weight: bold;">edid_str</span> = <span style="color: #4E9A06;">""</span>
            <span style="color: #0084C8; font-weight: bold;">outer_indentation</span> = get_indentation(line)
            <span style="color: #A52A2A; font-weight: bold;">while</span> <span style="color: #F5666D;">True</span>:
                <span style="color: #0084C8; font-weight: bold;">line</span> = <span style="color: #A020F0;">next</span>(iterator)
                <span style="color: #A52A2A; font-weight: bold;">if</span> get_indentation(line) &gt; outer_indentation:
                    <span style="color: #0084C8; font-weight: bold;">edid_str</span> += line.strip()
                <span style="color: #A52A2A; font-weight: bold;">else</span>:
                    <span style="color: #A52A2A; font-weight: bold;">break</span>
            xorg[screen][connector][<span style="color: #4E9A06;">'EDID'</span>] = edid_str
        <span style="color: #A52A2A; font-weight: bold;">elif</span> is_connected <span style="color: #A52A2A; font-weight: bold;">and</span> <span style="color: #4E9A06;">"MHz"</span> <span style="color: #A52A2A; font-weight: bold;">in</span> line <span style="color: #A52A2A; font-weight: bold;">and</span> <span style="color: #A52A2A; font-weight: bold;">not</span> <span style="color: #4E9A06;">"Interlace"</span> <span style="color: #A52A2A; font-weight: bold;">in</span> line:
            <span style="color: #0084C8; font-weight: bold;">match</span> = re.match(MODE_REGEX, line)
            <span style="color: #A52A2A; font-weight: bold;">if</span> match:
                <span style="color: #0084C8; font-weight: bold;">match</span> = match.groupdict()
                <span style="color: #0084C8; font-weight: bold;">preferred</span> = <span style="color: #A020F0;">bool</span>(<span style="color: #4E9A06;">"+preferred"</span> <span style="color: #A52A2A; font-weight: bold;">in</span> line)
                <span style="color: #0084C8; font-weight: bold;">current</span> = <span style="color: #A020F0;">bool</span>(<span style="color: #4E9A06;">"*current"</span> <span style="color: #A52A2A; font-weight: bold;">in</span> line)

                <span style="color: #A52A2A; font-weight: bold;">while</span> <span style="color: #F5666D;">True</span>:
                    <span style="color: #0084C8; font-weight: bold;">line</span> = <span style="color: #A020F0;">next</span>(iterator)
                    <span style="color: #A52A2A; font-weight: bold;">if</span> line.strip().startswith(<span style="color: #4E9A06;">'v:'</span>):                        
                        <span style="color: #0084C8; font-weight: bold;">refresh_rate</span> = ast.literal_eval(line.split()[-1][:-2])
                        <span style="color: #0084C8; font-weight: bold;">rrate</span> = <span style="color: #A020F0;">int</span>(<span style="color: #A020F0;">round</span>(refresh_rate))
                        <span style="color: #A52A2A; font-weight: bold;">if</span> xorg[screen][connector][<span style="color: #4E9A06;">'modes'</span>].get(match[<span style="color: #4E9A06;">'resolution'</span>]) <span style="color: #A52A2A; font-weight: bold;">is</span> <span style="color: #F5666D;">None</span>:
                            xorg[screen][connector][<span style="color: #4E9A06;">'modes'</span>][match[<span style="color: #4E9A06;">'resolution'</span>]] = []
                        <span style="color: #A52A2A; font-weight: bold;">if</span> rrate <span style="color: #A52A2A; font-weight: bold;">not</span> <span style="color: #A52A2A; font-weight: bold;">in</span> xorg[screen][connector][<span style="color: #4E9A06;">'modes'</span>][match[<span style="color: #4E9A06;">'resolution'</span>]]:
                            xorg[screen][connector][<span style="color: #4E9A06;">'modes'</span>][match[<span style="color: #4E9A06;">'resolution'</span>]].append(rrate)
                        <span style="color: #A52A2A; font-weight: bold;">if</span> preferred:
                            xorg[screen][connector][<span style="color: #4E9A06;">'preferred'</span>] = <span style="color: #4E9A06;">"{}_{}"</span>.<span style="color: #A020F0;">format</span>(
                                match[<span style="color: #4E9A06;">'resolution'</span>], rrate)
                        <span style="color: #A52A2A; font-weight: bold;">if</span> current:
                            xorg[screen][connector][<span style="color: #4E9A06;">'current'</span>] = <span style="color: #4E9A06;">"{}_{}"</span>.<span style="color: #A020F0;">format</span>(
                                match[<span style="color: #4E9A06;">'resolution'</span>], rrate)
                        <span style="color: #A52A2A; font-weight: bold;">break</span>
    <span style="color: #A52A2A; font-weight: bold;">return</span> xorg

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">parse_edid_data</span>(edid):
    <span style="color: #0084C8; font-weight: bold;">vendor</span> = <span style="color: #4E9A06;">"Unknown"</span>
    <span style="color: #0084C8; font-weight: bold;">model</span> = <span style="color: #4E9A06;">"Unknown"</span>
    <span style="color: #0084C8; font-weight: bold;">data</span> = subprocess.check_output(<span style="color: #4E9A06;">"parse-edid &lt; {}"</span>.<span style="color: #A020F0;">format</span>(edid), shell=<span style="color: #F5666D;">True</span>, universal_newlines=<span style="color: #F5666D;">True</span>)
    <span style="color: #A52A2A; font-weight: bold;">for</span> line <span style="color: #A52A2A; font-weight: bold;">in</span> data.splitlines():
        <span style="color: #A52A2A; font-weight: bold;">if</span> <span style="color: #4E9A06;">"VendorName"</span> <span style="color: #A52A2A; font-weight: bold;">in</span> line:
            <span style="color: #0084C8; font-weight: bold;">vendor</span> = line.strip().split(<span style="color: #4E9A06;">'"'</span>)[1]
        <span style="color: #A52A2A; font-weight: bold;">if</span> <span style="color: #4E9A06;">"ModelName"</span> <span style="color: #A52A2A; font-weight: bold;">in</span> line:
            <span style="color: #0084C8; font-weight: bold;">model</span> =  line.strip().split(<span style="color: #4E9A06;">'"'</span>)[1]
    <span style="color: #A52A2A; font-weight: bold;">return</span> vendor, model

<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">collect_nvidia_data</span>():
    <span style="color: #0084C8; font-weight: bold;">BusID_RE</span> = re.<span style="color: #A020F0;">compile</span>((
        <span style="color: #4E9A06;">'(?P&lt;domain&gt;[0-9a-fA-F]+)'</span>
        <span style="color: #4E9A06;">':'</span>
        <span style="color: #4E9A06;">'(?P&lt;bus&gt;[0-9a-fA-F]+)'</span>
        <span style="color: #4E9A06;">':'</span>
        <span style="color: #4E9A06;">'(?P&lt;device&gt;[0-9a-fA-F]+)'</span>
        <span style="color: #4E9A06;">'\.'</span>
        <span style="color: #4E9A06;">'(?P&lt;function&gt;[0-9a-fA-F]+)'</span>
     ))    
    <span style="color: #A52A2A; font-weight: bold;">try</span>:
        <span style="color: #0084C8; font-weight: bold;">data</span> = subprocess.check_output([<span style="color: #4E9A06;">"nvidia-smi"</span>, <span style="color: #4E9A06;">"--query-gpu=name,pci.bus_id"</span>, <span style="color: #4E9A06;">"--format=csv"</span>, <span style="color: #4E9A06;">"-i0"</span>],
                                universal_newlines=<span style="color: #F5666D;">True</span>)
    <span style="color: #A52A2A; font-weight: bold;">except</span> subprocess.CalledProcessError:
        <span style="color: #A52A2A; font-weight: bold;">pass</span>
    <span style="color: #A52A2A; font-weight: bold;">else</span>:
        <span style="color: #A52A2A; font-weight: bold;">for</span> row <span style="color: #A52A2A; font-weight: bold;">in</span> csv.DictReader(data.splitlines(), delimiter=<span style="color: #4E9A06;">','</span>, skipinitialspace=<span style="color: #F5666D;">True</span>):
            <span style="color: #0084C8; font-weight: bold;">name</span> = row[<span style="color: #4E9A06;">'name'</span>]
            <span style="color: #0084C8; font-weight: bold;">bus_id</span> = row[<span style="color: #4E9A06;">'pci.bus_id'</span>]
            <span style="color: #204A87;"># </span><span style="color: #204A87;">pci.bus_id structure as reported by nvidia-smi: "domain:bus:device.function", in hex.</span>
            <span style="color: #0084C8; font-weight: bold;">match</span> = BusID_RE.search(bus_id)
            <span style="color: #A52A2A; font-weight: bold;">if</span> match:
                <span style="color: #0084C8; font-weight: bold;">domain</span>, <span style="color: #0084C8; font-weight: bold;">bus</span>, <span style="color: #0084C8; font-weight: bold;">device</span>, <span style="color: #0084C8; font-weight: bold;">function</span> = (<span style="color: #A020F0;">int</span>(n, 16) <span style="color: #A52A2A; font-weight: bold;">for</span> n <span style="color: #A52A2A; font-weight: bold;">in</span> match.groups())
                <span style="color: #0084C8; font-weight: bold;">bus_id</span> = <span style="color: #4E9A06;">"PCI:{:d}@{:d}:{:d}:{:d}"</span>.<span style="color: #A020F0;">format</span>(bus, domain, device, function)
                <span style="color: #A52A2A; font-weight: bold;">return</span> name, bus_id
    <span style="color: #A52A2A; font-weight: bold;">raise</span> <span style="color: #2F8B58; font-weight: bold;">ValueError</span>


<span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">output_data</span>(data, write_edids=<span style="color: #F5666D;">True</span>):
    <span style="color: #A52A2A; font-weight: bold;">if</span> data:
        <span style="color: #0084C8; font-weight: bold;">modes</span> = []
        <span style="color: #A52A2A; font-weight: bold;">for</span> _, screen_data <span style="color: #A52A2A; font-weight: bold;">in</span> data.items():
            <span style="color: #A52A2A; font-weight: bold;">for</span> connector, connection_data <span style="color: #A52A2A; font-weight: bold;">in</span> screen_data.items():
                <span style="color: #A52A2A; font-weight: bold;">if</span> connection_data.get(<span style="color: #4E9A06;">'EDID'</span>) <span style="color: #A52A2A; font-weight: bold;">and</span> write_edids:
                    <span style="color: #A52A2A; font-weight: bold;">with</span> <span style="color: #A020F0;">open</span>(<span style="color: #4E9A06;">'/etc/X11/edid.{}.bin'</span>.<span style="color: #A020F0;">format</span>(connector), <span style="color: #4E9A06;">'wb'</span>) <span style="color: #A52A2A; font-weight: bold;">as</span> edid:
                        edid.write(binascii.a2b_hex(connection_data[<span style="color: #4E9A06;">'EDID'</span>]))
                <span style="color: #A52A2A; font-weight: bold;">for</span> resolution, refreshrates <span style="color: #A52A2A; font-weight: bold;">in</span> connection_data[<span style="color: #4E9A06;">'modes'</span>].items():
                    <span style="color: #A52A2A; font-weight: bold;">for</span> refreshrate <span style="color: #A52A2A; font-weight: bold;">in</span> refreshrates:
                        modes.append(Mode(connector, resolution, refreshrate))
        <span style="color: #A52A2A; font-weight: bold;">if</span> modes:
            <span style="color: #0084C8; font-weight: bold;">result</span> = {}
            <span style="color: #A52A2A; font-weight: bold;">try</span>:
                <span style="color: #0084C8; font-weight: bold;">gpu_name</span>, <span style="color: #0084C8; font-weight: bold;">bus_id</span> = collect_nvidia_data()
            <span style="color: #A52A2A; font-weight: bold;">except</span> <span style="color: #2F8B58; font-weight: bold;">ValueError</span>:
                <span style="color: #0084C8; font-weight: bold;">gpu_name</span> = <span style="color: #F5666D;">None</span>
                <span style="color: #0084C8; font-weight: bold;">bus_id</span> = <span style="color: #F5666D;">None</span>

            <span style="color: #A52A2A; font-weight: bold;">def</span> <span style="color: #00578E; font-weight: bold;">create_entry</span>(my_dict, name, connector, resolution, refreshrate, vendor, model):
                <span style="color: #0084C8; font-weight: bold;">my_dict</span>[name] = {
                    <span style="color: #4E9A06;">'connector'</span>: connector,
                    <span style="color: #4E9A06;">'resolution'</span>: resolution,
                    <span style="color: #4E9A06;">'refreshrate'</span>: refreshrate,
                    <span style="color: #4E9A06;">'edid'</span>: <span style="color: #4E9A06;">'/etc/X11/edid.{}.bin'</span>.<span style="color: #A020F0;">format</span>(connector),
                    <span style="color: #4E9A06;">'mode'</span>: <span style="color: #4E9A06;">"{}_{}"</span>.<span style="color: #A020F0;">format</span>(resolution, refreshrate),
                    <span style="color: #4E9A06;">'vendor'</span>: vendor,
                    <span style="color: #4E9A06;">'model'</span>: model,
                }
                <span style="color: #A52A2A; font-weight: bold;">if</span> gpu_name <span style="color: #A52A2A; font-weight: bold;">and</span> bus_id:
                    result[name][<span style="color: #4E9A06;">'gpu_name'</span>] = gpu_name
                    result[name][<span style="color: #4E9A06;">'bus_id'</span>] = bus_id

            <span style="color: #0084C8; font-weight: bold;">connector_0</span>, <span style="color: #0084C8; font-weight: bold;">resolution_0</span>, <span style="color: #0084C8; font-weight: bold;">refreshrate_0</span> = <span style="color: #A020F0;">max</span>(modes, key=sort_mode)[:3]
            <span style="color: #0084C8; font-weight: bold;">vendor_0</span>, <span style="color: #0084C8; font-weight: bold;">model_0</span> = parse_edid_data(<span style="color: #4E9A06;">'/etc/X11/edid.{}.bin'</span>.<span style="color: #A020F0;">format</span>(connector_0))
            create_entry(result, <span style="color: #4E9A06;">'primary'</span>, connector_0, resolution_0, refreshrate_0, vendor_0, model_0)

            <span style="color: #204A87;"># </span><span style="color: #204A87;">check if additional monitors exist</span>
            <span style="color: #0084C8; font-weight: bold;">other_modes</span> = [mode <span style="color: #A52A2A; font-weight: bold;">for</span> mode <span style="color: #A52A2A; font-weight: bold;">in</span> modes <span style="color: #A52A2A; font-weight: bold;">if</span> mode[0] != connector_0]
            <span style="color: #A52A2A; font-weight: bold;">if</span> other_modes:
                <span style="color: #0084C8; font-weight: bold;">connector_1</span>, <span style="color: #0084C8; font-weight: bold;">resolution_1</span>, <span style="color: #0084C8; font-weight: bold;">refreshrate_1</span> = <span style="color: #A020F0;">max</span>(other_modes, key=sort_mode)[:3]
                <span style="color: #0084C8; font-weight: bold;">vendor_1</span>, <span style="color: #0084C8; font-weight: bold;">model_1</span> = parse_edid_data(<span style="color: #4E9A06;">'/etc/X11/edid.{}.bin'</span>.<span style="color: #A020F0;">format</span>(connector_1))
                create_entry(result, <span style="color: #4E9A06;">'secondary'</span>, connector_1, resolution_1, refreshrate_1, vendor_1, model_1)

    <span style="color: #204A87;">#</span><span style="color: #204A87;">print(json.dumps(data, sort_keys=True, indent=4))</span>
    module.exit_json(changed=<span style="color: #F5666D;">True</span> <span style="color: #A52A2A; font-weight: bold;">if</span> write_edids <span style="color: #A52A2A; font-weight: bold;">else</span> <span style="color: #F5666D;">False</span>, ansible_facts={<span style="color: #4E9A06;">'xrandr'</span>: data, <span style="color: #4E9A06;">'xorg'</span>: result})

<span style="color: #A52A2A; font-weight: bold;">if</span> <span style="color: #A020F0;">__name__</span> == <span style="color: #4E9A06;">'__main__'</span>:
    <span style="color: #0084C8; font-weight: bold;">module</span> = AnsibleModule(argument_spec=ARG_SPECS, supports_check_mode=<span style="color: #F5666D;">False</span>,)
    <span style="color: #A52A2A; font-weight: bold;">try</span>:
        <span style="color: #0084C8; font-weight: bold;">d</span> = subprocess.check_output([<span style="color: #4E9A06;">'xrandr'</span>, <span style="color: #4E9A06;">'-d'</span>, module.params[<span style="color: #4E9A06;">'display'</span>], <span style="color: #4E9A06;">'--verbose'</span>], universal_newlines=<span style="color: #F5666D;">True</span>).splitlines()
    <span style="color: #A52A2A; font-weight: bold;">except</span> subprocess.CalledProcessError:
        <span style="color: #0084C8; font-weight: bold;">xorg_data</span> = {}
    <span style="color: #A52A2A; font-weight: bold;">else</span>:
        <span style="color: #0084C8; font-weight: bold;">xorg_data</span> = parse_xrandr_verbose(<span style="color: #A020F0;">iter</span>(d))
    output_data(xorg_data, module.params[<span style="color: #4E9A06;">'write_edids'</span>])
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc2d9fca" class="outline-2">
<h2 id="orgc2d9fca"><span class="section-number-2">10</span> Handlers</h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">
<pre class="src src-yaml">- <span style="color: #0084C8; font-weight: bold;">name</span>: Restart Samba
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: smbd.service
    <span style="color: #0084C8; font-weight: bold;">state</span>: restarted
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #204A87;">#</span><span style="color: #204A87;">masked: no</span>
  <span style="color: #0084C8; font-weight: bold;">register</span>: samba_reload

- <span style="color: #0084C8; font-weight: bold;">name</span>: Restart NFS Kernel Server
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: nfs-server.service
    <span style="color: #0084C8; font-weight: bold;">state</span>: restarted
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
    <span style="color: #204A87;">#</span><span style="color: #204A87;">masked: no</span>
  <span style="color: #0084C8; font-weight: bold;">register</span>: nfs_reload

- <span style="color: #0084C8; font-weight: bold;">name</span>: Restart VDR
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr.service
    <span style="color: #0084C8; font-weight: bold;">state</span>: restarted
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
  <span style="color: #0084C8; font-weight: bold;">register</span>: vdr_restart

- <span style="color: #0084C8; font-weight: bold;">name</span>: Stop VDR
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr.service
    <span style="color: #0084C8; font-weight: bold;">state</span>: stopped
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
  <span style="color: #0084C8; font-weight: bold;">register</span>: vdr_stop

- <span style="color: #0084C8; font-weight: bold;">name</span>: Start VDR
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: vdr.service
    <span style="color: #0084C8; font-weight: bold;">state</span>: started
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
  <span style="color: #0084C8; font-weight: bold;">register</span>: vdr_start

- <span style="color: #0084C8; font-weight: bold;">name</span>: Stop xlogin
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: xlogin@vdr.service
    <span style="color: #0084C8; font-weight: bold;">state</span>: stopped
    <span style="color: #0084C8; font-weight: bold;">enabled</span>: <span style="color: #F5666D;">yes</span>
  <span style="color: #0084C8; font-weight: bold;">register</span>: xlogin_stop

- <span style="color: #0084C8; font-weight: bold;">name</span>: Stop x
  <span style="color: #0084C8; font-weight: bold;">systemd</span>:
    <span style="color: #0084C8; font-weight: bold;">name</span>: x@vt7.service
    <span style="color: #0084C8; font-weight: bold;">state</span>: stopped
  <span style="color: #0084C8; font-weight: bold;">register</span>: x_stop
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Autor: Alexander Grothe &lt;seahawk1986@gmx.de&gt;</p>
<p class="date">Created: 2017-08-31 Do 15:57</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
